# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 26.4.5 - 2024-09-02

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.4.4 - 2024-08-30


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.12 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.12 - 2024-08-28
> 
> * Update dependency npm to v10.8.3 [Self-hosted Renovate Bot]
> 

</details>

## 26.4.3 - 2024-08-30


<details>
<summary> Update @balena/pinejs-webresource-cloudfront to 0.2.0 [Pagan Gazzard] </summary>

> ### pinejs-webresource-cloudfront-0.2.0 - Invalid date
> 
> * Switch @balena/pinejs to a peer dependency and support 17.x/18.x [Pagan Gazzard]
> 

</details>

## 26.4.2 - 2024-08-30

* Fix Dockerfile linting [Pagan Gazzard]

## 26.4.1 - 2024-08-30

* Remove the no longer necessary version suffix in v6 $toResource translations [Thodoris Greasidis]

<details>
<summary> Update @balena/pinejs to 18.2.1 [Thodoris Greasidis] </summary>

> ### pinejs-18.2.1 - Invalid date
> 
> * Fix using $filter on PATCH&DELETE requests on translated properties [Thodoris Greasidis]
> * Test cases to reproduce Patch Translation issue [fisehara]
> 
> ### pinejs-18.2.0 - Invalid date
> 
> * Add support for and prefer providing the unaliased `$toResource` [Pagan Gazzard]
> 
> ### pinejs-18.1.5 - Invalid date
> 
> * Translations: prefer translating to the unaliased resource of the target model [Pagan Gazzard]
> 
> ### pinejs-18.1.4 - 2024-08-29
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-to-abstract-sql-6.3.0 - 2024-08-26
>> 
>> * Support PUT/PATCH/DELETE requests on resources with a translated ID field [Thodoris Greasidis]
>> 
>> #### odata-to-abstract-sql-6.2.8 - 2024-08-26
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-9.2.0 - 2024-06-12
>>> 
>>> * Adds `EndsWithNode` and `ContainsNode` typings [Pagan Gazzard]
>>> 
>>> ##### lf-to-abstract-sql-5.0.2 - 2024-03-05
>>> 
>>> 
>>> <details>
>>> <summary> Update `@balena/sbvr-types` devDependency [Harald Fischer] </summary>
>>> 
>>>> ###### sbvr-types-7.0.1 - 2024-03-04
>>>> 
>>>> * Update dependency @balena/abstract-sql-compiler to v9 [Self-hosted Renovate Bot]
>>>> 
>>>> ###### sbvr-types-7.0.0 - 2024-03-04
>>>> 
>>>> * Return `ISODateString` instead of `date` [fisehara]
>>>> 
>>>> ###### sbvr-types-6.1.1 - 2024-01-02
>>>> 
>>>> * Update dependency @types/chai-datetime to ^0.0.39 [Self-hosted Renovate Bot]
>>>> 
>>>> ###### sbvr-types-6.1.0 - 2023-10-03
>>>> 
>>>> * Add checksum to WebResource [Ot치vio Jacobi]
>>>> 
>>>> ###### sbvr-types-6.0.0 - 2023-08-09
>>>> 
>>>> * Change contents to snake_case [Ot치vio Jacobi]
>>>> 
>>>> ###### sbvr-types-5.2.0 - 2023-08-08
>>>> 
>>>> * Expose WebResource as WebResourceType [Ot치vio Jacobi]
>>>> 
>>>> ###### sbvr-types-5.1.0 - 2023-08-03
>>>> 
>>>> * Adds WebResource type [Ot치vio Jacobi]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-parser-3.0.8 - 2024-06-04
>>> 
>>> * Fix type checking of the declaration file [Pagan Gazzard]
>>> 
>>> ##### odata-parser-3.0.7 - 2024-04-13
>>> 
>>> * Update dependency husky to v9 [Self-hosted Renovate Bot]
>>> 
>>> ##### odata-parser-3.0.6 - 2024-04-12
>>> 
>>> * Update dependency peggy to v4 [Self-hosted Renovate Bot]
>>> 
>>> ##### odata-parser-3.0.5 - 2024-04-12
>>> 
>>> * Update dependency lint-staged to v15 [Self-hosted Renovate Bot]
>>> 
>>> ##### odata-parser-3.0.4 - 2024-04-12
>>> 
>>> * Update dependency @balena/lint to v8 [Self-hosted Renovate Bot]
>>> 
>>> ##### sbvr-parser-1.4.6 - Invalid date
>>> 
>>> * Update dependency @balena/sbvr-types to v8 [Self-hosted Renovate Bot]
>>> 
>>> ##### sbvr-parser-1.4.5 - 2024-06-18
>>> 
>>> * Switch to an inflection library from npm which does not monkey patch [Pagan Gazzard]
>>> 
>>> ##### sbvr-parser-1.4.4 - 2024-03-05
>>> 
>>> * Updated `@balena/sbvr-types` [Harald Fischer]
>>> 
>>> ##### sbvr-types-7.1.3 - 2024-06-12
>>> 
>>> * Add typings for all abstract sql fragments, fixing where necessary [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.1.2 - 2024-06-12
>>> 
>>> * Explicitly type the `compare` function for `hashed` [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.1.1 - 2024-06-04
>>> 
>>> * Accept `Date` for the write types of `Date Time`/`Date`/`Time` [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.1.0 - 2024-04-25
>>> 
>>> * Export typescript read/write types for each sbvr type [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.0.10 - 2024-04-09
>>> 
>>> * Update Big Serial concept type to Big Integer [Josh Bowling]
>>> 
>>> ##### sbvr-types-7.0.9 - 2024-04-09
>>> 
>>> * Add Big Serial to Type.sbvr [Josh Bowling]
>>> 
>>> ##### sbvr-types-7.0.8 - 2024-04-09
>>> 
>>> * Update prepare script for husky v9 [Josh Bowling]
>>> * Update dependency husky to v9 [Self-hosted Renovate Bot]
>>> 
>>> ##### sbvr-types-7.0.7 - 2024-04-09
>>> 
>>> * Update dependency @balena/lint to v8 [Self-hosted Renovate Bot]
>>> 
>>> ##### sbvr-types-7.0.6 - 2024-03-21
>>> 
>>> * Improve JSON typings [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.0.5 - 2024-03-13
>>> 
>>> * Remove unnecessary catch bindings [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.0.4 - 2024-03-13
>>> 
>>> * Improve validate typings [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.0.3 - 2024-03-12
>>> 
>>> * Improve fetchProcessing typings [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-7.0.2 - 2024-03-12
>>> 
>>> * Tests: convert to typescript [Pagan Gazzard]
>>> 
>> 
>> </details>
>> 
>> 
>> #### pinejs-client-js-7.0.1 - 2024-08-29
>> 
>> * Change `ExpandPropsOf` and `ExpandToResponse` helpers to check the common case first [Pagan Gazzard]
>> 
> 
> </details>
> 
> 
> ### pinejs-18.1.3 - 2024-08-28
> 
> * Tests: stop using deprecated `faker` functions [Pagan Gazzard]
> 
> ### pinejs-18.1.2 - 2024-08-27
> 
> * Translations: strip the version alias from renames when possible [Pagan Gazzard]
> * Translations: use the `toAbstractSqlModel` to fetch the `toTable` info [Pagan Gazzard]
> 

</details>

## 26.4.0 - 2024-08-27

* Release the v7 model [Thodoris Greasidis]

## 26.3.6 - 2024-08-27

* Standardize node-redis and ioredis keepalive/connectTimeout settings [Pagan Gazzard]

## 26.3.5 - 2024-08-26

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.3.4 - 2024-08-26

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.3.3 - 2024-08-22


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.11 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.11 - 2024-08-22
> 
> * Update dependency node to v22.7.0 [Self-hosted Renovate Bot]
> 

</details>

## 26.3.2 - 2024-08-21

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.3.1 - 2024-08-21

* Update @balena/pinejs to v18 [Josh Bowling]

## 26.3.0 - 2024-08-19

* Add device update status/last update status event that devices can report [Pagan Gazzard]

## 26.2.2 - 2024-08-08

* Update grafana/loki Docker tag to v3.1.1 [Self-hosted Renovate Bot]

## 26.2.1 - 2024-08-08

* device/moving: Throw a NotFoundError rather than a custom TypedError [Thodoris Greasidis]

## 26.2.0 - 2024-08-07

* vars-schema: Add custom kernel device-tree support for AGX Orin 64GB [Alexandru Costache]

## 26.1.6 - 2024-08-06


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.10 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.10 - 2024-08-06
> 
> * Update dependency node to v22.6.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-18.0.9 - 2024-07-23
> 
> * Update ghcr.io/balena-io-modules/confd-releases Docker tag to v0.0.5 [Self-hosted Renovate Bot]
> 

</details>

## 26.1.5 - 2024-07-29

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.1.4 - 2024-07-23

* Switch to self-hosted [Anton Belodedenko]

## 26.1.3 - 2024-07-23


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.8 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.8 - 2024-07-23
> 
> * Switch to self-hosted [Anton Belodedenko]
> 

</details>

## 26.1.2 - 2024-07-22

* Lock file maintenance [Self-hosted Renovate Bot]

## 26.1.1 - 2024-07-19


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.7 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.7 - 2024-07-19
> 
> * Update dependency node to v22.5.1 [Self-hosted Renovate Bot]
> 

</details>

## 26.1.0 - 2024-07-19

* Add the device.should_be_running__release computed term to the balena model [Thodoris Greasidis]

## 26.0.2 - 2024-07-19

* Update dependencies and fix lints [Pagan Gazzard]

## 26.0.1 - 2024-07-19

* is_pinned_on__release: drop device "should_be_running__release" column if exist [Andrea Rosci]

## 26.0.0 - 2024-07-17

* Require a freshly authenticated JWT when creating a user api_key [Thodoris Greasidis]

## 25.2.8 - 2024-07-16

* is_pinned_on__release: stop setting device.should_be_running__release and remove it from the sbvr [Andrea Rosci]

## 25.2.7 - 2024-07-15

* Update dependency rimraf to v6 [Self-hosted Renovate Bot]

## 25.2.6 - 2024-07-15

* Lock file maintenance [Self-hosted Renovate Bot]

## 25.2.5 - 2024-07-11

* Update types to support using `throttledForEach` with synchronous fns [Pagan Gazzard]

## 25.2.4 - 2024-07-11

* Use $bypass for image_installs in the v6 device.overall_status computed term [Thodoris Greasidis]

## 25.2.3 - 2024-07-10


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.6 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.6 - 2024-07-10
> 
> * Update dependency npm to v10.8.2 [Self-hosted Renovate Bot]
> 

</details>

## 25.2.2 - 2024-07-10

* Update @balena/lint and fix warnings [Pagan Gazzard]

## 25.2.1 - 2024-07-10

* Use the toVersion Resource instead of Table in v6 device.overall_status translation [Thodoris Greasidis]

## 25.2.0 - 2024-07-09

* is_pinned_on__release: Add translations and only read the new column [Andrea Rosci]

## 25.1.29 - 2024-07-09

* logs: Refactor the heartbeat to use setInterval instead of setTimeout [Thodoris Greasidis]
* logs: Eagerly clear the heartbeat timeout when the request finishes [Thodoris Greasidis]

## 25.1.28 - 2024-07-08


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.5 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.5 - 2024-07-08
> 
> * Update dependency node to v22.4.1 [Self-hosted Renovate Bot]
> 

</details>

## 25.1.27 - 2024-07-08

* Lock file maintenance [Self-hosted Renovate Bot]

## 25.1.26 - 2024-07-05

* Use improved pinejs-client prepare typings [Pagan Gazzard]

## 25.1.25 - 2024-07-05

* Use `as const` to improve typings of $expand queries [Pagan Gazzard]

## 25.1.24 - 2024-07-04

* logs/redis: Delete references of cancelled heartbeat subscriptions [Thodoris Greasidis]

## 25.1.23 - 2024-07-04

* Add @balena/abstract-sql-to-typescript as a direct dependency [Otavio Jacobi]

## 25.1.22 - 2024-07-04

* Use updated @balena/abstract-sql-to-typescript v3.3.0 to generate balena types [Otavio Jacobi]
* Lock file maintenance [Self-hosted Renovate Bot]

## 25.1.21 - 2024-07-03

* Remove the my_application resource from the resin model [Thodoris Greasidis]

## 25.1.20 - 2024-07-02

* Update grafana/loki Docker tag to v3.1.0 [Self-hosted Renovate Bot]

## 25.1.19 - 2024-07-02


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.4 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.4 - 2024-07-02
> 
> * Update dependency node to v22.4.0 [Self-hosted Renovate Bot]
> 

</details>

## 25.1.18 - 2024-07-01

* Remove unnecessary async/await calls of synchronous code [Pagan Gazzard]

## 25.1.17 - 2024-07-01


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.3 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.3 - 2024-07-01
> 
> * Empty commit to rebuild open-balena-base to fix CVE-2024-6387. [Carlo Miguel F. Cruz]
> 

</details>

## 25.1.16 - 2024-06-28

* Use typings from the generated model typings rather than manual typings [Pagan Gazzard]

## 25.1.15 - 2024-06-28

* Use id rather than filter for `revokeUserRole` [Pagan Gazzard]

## 25.1.14 - 2024-06-27

* Fail tests if the minio-client fails to initialize the server [Pagan Gazzard]

## 25.1.13 - 2024-06-27

* Remove unnecessary Non-null Assertion operators [Thodoris Greasidis]

## 25.1.12 - 2024-06-27

* Throw when creating api key for not found role [Otavio Jacobi]
* Remove not necessary type castings [Otavio Jacobi]

## 25.1.11 - 2024-06-27

* Use `assertExists` in place of `expect(..).to.not.be.undefined` [Pagan Gazzard]

## 25.1.10 - 2024-06-26

* Fix createStrategy fetchUser typing [Otavio Jacobi]

## 25.1.9 - 2024-06-26

* Make use of model based typings [Pagan Gazzard]

## 25.1.8 - 2024-06-25

* Switch from no longer necessary `DbUser` alias back to `User` [Pagan Gazzard]

## 25.1.7 - 2024-06-24

* Lock file maintenance [Self-hosted Renovate Bot]

## 25.1.6 - 2024-06-24


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-17.1.1 - 2024-06-20
> 
> * Improve test assertion for undefined fields [Otavio Jacobi]
> 
> ### pinejs-17.1.0 - 2024-06-19
> 
> * Add dev model typings [Pagan Gazzard]
> * Add migration model typings [Pagan Gazzard]
> * Add auth model typings [Pagan Gazzard]
> * Switch API typings to an interface so it can be overridden/merged [Pagan Gazzard]
> 
> <details>
> <summary> Allow passing model typings when instantiating an internal pinejs client [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-9.2.0 - 2024-06-12
>> 
>> * Adds `EndsWithNode` and `ContainsNode` typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.15.1 - 2024-06-17
>> 
>> * Correctly type the `POST` result as being fully deferred [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.15.0 - 2024-06-14
>> 
>> * Add support for using model specific typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.13 - 2024-06-12
>> 
>> * Deprecate passing `url` to helper functions [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.12 - 2024-06-12
>> 
>> * Type `upsert` and `getOrCreate` as not accepting a `url` [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.11 - 2024-06-11
>> 
>> * Include comments in generated output so that jsdoc is available [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.10 - 2024-06-11
>> 
>> * Tests: improve typing of tests [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.9 - 2024-06-10
>> 
>> * Add `$filter` to nested `$count` typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.8 - 2024-06-10
>> 
>> * Tests: remove unnecessary/unintended returns [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.7 - 2024-06-06
>> 
>> * Fix using top level $count downstream [Pagan Gazzard]
>> 
>> #### sbvr-types-7.1.3 - 2024-06-12
>> 
>> * Add typings for all abstract sql fragments, fixing where necessary [Pagan Gazzard]
>> 
>> #### sbvr-types-7.1.2 - 2024-06-12
>> 
>> * Explicitly type the `compare` function for `hashed` [Pagan Gazzard]
>> 
> 
> </details>
> 
> 

</details>

## 25.1.5 - 2024-06-24

* device-types: Simplify the device-type.json check in getImageVersions [Thodoris Greasidis]

## 25.1.4 - 2024-06-20

* Update TypeScript to 5.5.2 [Thodoris Greasidis]

## 25.1.3 - 2024-06-19

* Update sentry to 8.x [Pagan Gazzard]

## 25.1.2 - 2024-06-19


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-17.1.0 - 2024-06-19
> 
> * Add dev model typings [Pagan Gazzard]
> * Add migration model typings [Pagan Gazzard]
> * Add auth model typings [Pagan Gazzard]
> * Switch API typings to an interface so it can be overridden/merged [Pagan Gazzard]
> 
> <details>
> <summary> Allow passing model typings when instantiating an internal pinejs client [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-9.2.0 - 2024-06-12
>> 
>> * Adds `EndsWithNode` and `ContainsNode` typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.15.1 - 2024-06-17
>> 
>> * Correctly type the `POST` result as being fully deferred [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.15.0 - 2024-06-14
>> 
>> * Add support for using model specific typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.13 - 2024-06-12
>> 
>> * Deprecate passing `url` to helper functions [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.12 - 2024-06-12
>> 
>> * Type `upsert` and `getOrCreate` as not accepting a `url` [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.11 - 2024-06-11
>> 
>> * Include comments in generated output so that jsdoc is available [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.10 - 2024-06-11
>> 
>> * Tests: improve typing of tests [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.9 - 2024-06-10
>> 
>> * Add `$filter` to nested `$count` typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.8 - 2024-06-10
>> 
>> * Tests: remove unnecessary/unintended returns [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.7 - 2024-06-06
>> 
>> * Fix using top level $count downstream [Pagan Gazzard]
>> 
>> #### sbvr-types-7.1.3 - 2024-06-12
>> 
>> * Add typings for all abstract sql fragments, fixing where necessary [Pagan Gazzard]
>> 
>> #### sbvr-types-7.1.2 - 2024-06-12
>> 
>> * Explicitly type the `compare` function for `hashed` [Pagan Gazzard]
>> 
> 
> </details>
> 
> 
> ### pinejs-17.0.3 - 2024-06-18
> 
> * Improve `result` typing for `POSTRUN`/`PRERESPOND` hooks [Pagan Gazzard]
> 
> ### pinejs-17.0.2 - 2024-06-14
> 
> * Avoid duplicate types when using sbvr-compiler to generate model types [Pagan Gazzard]
> 
> ### pinejs-17.0.1 - 2024-06-13
> 
> * Switch from `Object.prototype.hasOwnProperty.call` to `Object.hasOwn` [Pagan Gazzard]
> 

</details>

## 25.1.1 - 2024-06-18

* Fix refresh-token including additional jwt properties [Thodoris Greasidis]

## 25.1.0 - 2024-06-17

* is_pinned_on__release: Add migration to sync 'is pinned on-release' with 'should be running-release' in device table [Andrea Rosci]

## 25.0.2 - 2024-06-15

* Update dependency uuid to v10 [Self-hosted Renovate Bot]

## 25.0.1 - 2024-06-14

* Improve typings [Pagan Gazzard]

## 25.0.0 - 2024-06-13

* Expire refreshed tokens within the same time as initial token. [fisehara]

## 24.3.1 - 2024-06-11


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.2 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.2 - 2024-06-11
> 
> * Update dependency node to v22.3.0 [Self-hosted Renovate Bot]
> 

</details>

## 24.3.0 - 2024-06-11

* Add unique email constraint on user model [Otavio Jacobi]

## 24.2.2 - 2024-06-11

* Add len constraint to balena-init [Otavio Jacobi]

## 24.2.1 - 2024-06-10

* Update s3 error handling and logs [Josh Bowling]

## 24.2.0 - 2024-06-10

* Enforce user email minimum size 5 [Otavio Jacobi]

## 24.1.3 - 2024-06-10

* Lock file maintenance [Self-hosted Renovate Bot]

## 24.1.2 - 2024-06-07

* Remove unused `aliasRelationships` function [Pagan Gazzard]

## 24.1.1 - 2024-06-06

* Fix typing of `getStateEventAdditionalFields` [Pagan Gazzard]

## 24.1.0 - 2024-06-06

* Allow registering user with `null` email [Otavio Jacobi]

## 24.0.2 - 2024-06-06

* Lock file maintenance [Self-hosted Renovate Bot]

## 24.0.1 - 2024-06-06

* Improve typings to specify the expected api version of a pinejs client [Pagan Gazzard]

## 24.0.0 - 2024-06-06


<details>
<summary> Update @balena/pinejs to 17.x [Pagan Gazzard] </summary>

> ### pinejs-17.0.0 - 2024-06-06
> 
> * Update tsconfig target to es2022 [Pagan Gazzard]
> * Fix internal pinejs client class when used with es2022 [Pagan Gazzard]
> * Update minimum supported nodejs version to 20.14.0 [Pagan Gazzard]
> 
> <details>
> <summary> Update @balena/abstract-sql-to-typescript to 3.x [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-to-typescript-3.1.1 - 2024-06-06
>> 
>> * Include reference aliases in generated types [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-3.1.0 - 2024-05-28
>> 
>> * Add a default export which maps OData names to typescript interfaces [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-3.0.2 - 2024-05-09
>> 
>> * Improve `Resource` typing [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-3.0.1 - 2024-05-04
>> 
>> * Use `[A] | []` rather than `[A?]` for singular references [Pagan Gazzard]
>> * Fix `Resource` typing to allow for null [Pagan Gazzard]
>> * Fix `Resource` typing for expandable properties [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-3.0.0 - 2024-05-02
>> 
>> * Export a `Resource` type which all resources should conform to [Pagan Gazzard]
>> * Separate the generation code from the exported type helpers [Pagan Gazzard]
>> * Use types directly from sbvr-types [Pagan Gazzard]
>> * Expose read vs write selection in generated types [Pagan Gazzard]
>> 
> 
> </details>
> 
> * Remove deprecated logging functionality from exported API clients [Pagan Gazzard]
> 
> ### pinejs-16.1.7 - 2024-06-05
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-3.0.8 - 2024-06-04
>> 
>> * Fix type checking of the declaration file [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.6 - 2024-05-28
>> 
>> * Type $count/$any/$all as needing to be nested in a navigation property [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.14.5 - 2024-05-28
>> 
>> * Use readonly arrays for typings for better compatibility with `as const` [Pagan Gazzard]
>> 
>> #### sbvr-types-7.1.1 - 2024-06-04
>> 
>> * Accept `Date` for the write types of `Date Time`/`Date`/`Time` [Pagan Gazzard]
>> 
> 
> </details>
> 
> 

</details>

## 23.3.0 - 2024-06-06

* device management 1: Add 'is pinned on-release' column and synchronize values from 'should be running release' [Andrea Rosci]

## 23.2.0 - 2024-06-05

* Enforce user has auth.credentials_login to be able to login [Otavio Jacobi]

## 23.1.0 - 2024-06-04

* Add auth.credentials_login permission to default-user [Otavio Jacobi]

## 23.0.2 - 2024-06-04

* Switch from `Object.prototype.hasOwnProperty.call` to `Object.hasOwn` [Pagan Gazzard]

## 23.0.1 - 2024-05-29


<details>
<summary> Update balena/open-balena-base Docker tag to v18.0.1 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.1 - 2024-05-29
> 
> * Update dependency npm to v10.8.1 [Self-hosted Renovate Bot]
> 

</details>

## 23.0.0 - 2024-05-28


<details>
<summary> Update balena/open-balena-base to v18 with nodejs 22.2.0 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-18.0.0 - 2024-05-28
> 
> * Update to nodejs 22.2.0 [Pagan Gazzard]
> 

</details>

## 22.2.3 - 2024-05-28

* Switch from using import assertions to import attributes [Pagan Gazzard]

## 22.2.2 - 2024-05-27

* Lock file maintenance [Self-hosted Renovate Bot]

## 22.2.1 - 2024-05-23

* better handling of exceptions from AWS/S3 [Anton Belodedenko]

## 22.2.0 - 2024-05-23

* Allow configuring HIDE_UNVERSIONED_ENDPOINT via env vars [Anton Belodedenko]

## 22.1.0 - 2024-05-20

* Update the overall_status computed field in the resin model [Andrea Rosci]

## 22.0.1 - 2024-05-20

* Update dependency sinon to v18 [Self-hosted Renovate Bot]

## 22.0.0 - 2024-05-16

* Drop deprecated addShims argument [Andrea Rosci]
* Remove unused Ordered, Preparing and Shipping overall statuses [Andrea Rosci]

## 21.1.11 - 2024-05-16

* Update `balena-model` to referenced types [Thodoris Greasidis]
* Lock file maintenance [Self-hosted Renovate Bot]

## 21.1.10 - 2024-05-16


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.20 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.20 - 2024-05-15
> 
> * Update dependency npm to v10.8.0 [Self-hosted Renovate Bot]
> 

</details>

## 21.1.9 - 2024-05-15

* Add .vscode/launch.json to make using fasttest --profile easier [Thodoris Greasidis]

## 21.1.8 - 2024-05-15

* fasttest: Allow targeting a single model version [Thodoris Greasidis]

## 21.1.7 - 2024-05-15

* device.addVirtualFieldsToModel: Auto-shim missing fields & deprecate the addShims param [Thodoris Greasidis]

## 21.1.6 - 2024-05-14

* Pin the open-balena-db used in tests to v5.2.2 (PG16) [Thodoris Greasidis]

## 21.1.5 - 2024-05-10

* Limit metric numbers to safe maximum values [Josh Bowling]

## 21.1.4 - 2024-05-09


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.19 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.19 - 2024-05-09
> 
> * Update ghcr.io/balena-io-modules/confd-releases Docker tag to v0.0.4 [Self-hosted Renovate Bot]
> 

</details>

## 21.1.3 - 2024-05-07

* Improve typing of api key actor type [Pagan Gazzard]

## 21.1.2 - 2024-05-04

* Update `tar` to 7.1.0 [Thodoris Greasidis]

## 21.1.1 - 2024-05-02

* correct startup when run as a standalone container [Anton Belodedenko]

## 21.1.0 - 2024-05-02

* Add revokeUserRole to auth [Otavio Jacobi]

## 21.0.0 - 2024-05-02

* Remove the `actor` from the `TokenUserPayload` & generated JWT [Thodoris Greasidis]

## 20.3.9 - 2024-05-01


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.18 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.18 - 2024-05-01
> 
> * Update ghcr.io/balena-io-modules/confd-releases Docker tag to v0.0.3 [Self-hosted Renovate Bot]
> 

</details>

## 20.3.8 - 2024-05-01


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.17 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.17 - 2024-05-01
> 
> * Install confd from pre-packaged OCI [Kyle Harding]
> 

</details>

## 20.3.7 - 2024-05-01


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.16 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.16 - Invalid date
> 
> * Update dependency npm to v10.7.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.15 - 2024-04-25
> 
> * Update dependency npm to v10.6.0 [Self-hosted Renovate Bot]
> 

</details>

## 20.3.6 - 2024-04-30

* Run docker build and test on Actuated [Kyle Harding]

## 20.3.5 - 2024-04-30

* Update pinejs-client-supertest to 2.0.3 [Thodoris Greasidis]

## 20.3.4 - 2024-04-30

* Update dependency supertest to v7 [Self-hosted Renovate Bot]

## 20.3.3 - 2024-04-26

* Migrate import assertions to use the "with" keyword [Thodoris Greasidis]

## 20.3.2 - 2024-04-24

* Drop superseded release versioning index [Thodoris Greasidis]

## 20.3.1 - 2024-04-23

* Move device additions tests to relevant repository [Andrea Rosci]

## 20.3.0 - 2024-04-23

* Switch to node-redis for sharded logs subscription support [Pagan Gazzard]

## 20.2.16 - 2024-04-21

* Update tar import & usage [Thodoris Greasidis]
* Update dependency tar to v7 [Self-hosted Renovate Bot]

## 20.2.15 - 2024-04-19

* Tests: Use model typings for device type helper typings [Pagan Gazzard]

## 20.2.14 - 2024-04-19

* Fix selecting the device.is_web_accessible field on the v6 model [Thodoris Greasidis]

## 20.2.13 - 2024-04-18

* fasttest: Stop syncing node_modules/@napi-rs that have a native build step [Andrea Rosci]

## 20.2.12 - 2024-04-15

* Lock file maintenance [Self-hosted Renovate Bot]

## 20.2.11 - 2024-04-12

* Update grafana/loki Docker tag to v3 [Self-hosted Renovate Bot]

## 20.2.10 - 2024-04-12

* Lock file maintenance [Self-hosted Renovate Bot]

## 20.2.9 - 2024-04-11

* target-hostapp: Prefer linking devices to a finalized release if it exists [Thodoris Greasidis]

## 20.2.8 - 2024-04-10


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.14 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.14 - 2024-04-10
> 
> * Update dependency npm to v10.5.2 [Self-hosted Renovate Bot]
> 

</details>

## 20.2.7 - 2024-04-10


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.13 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.13 - 2024-04-10
> 
> * Update dependency node to v21.7.3 [Self-hosted Renovate Bot]
> 

</details>

## 20.2.6 - 2024-04-10

* Update dependency @balena/pinejs-webresource-cloudfront to ^0.1.0 [Self-hosted Renovate Bot]

## 20.2.5 - 2024-04-10

* Update grafana/loki Docker tag to v2.9.7 [Self-hosted Renovate Bot]

## 20.2.4 - 2024-04-08

* Lock file maintenance [Self-hosted Renovate Bot]

## 20.2.3 - 2024-04-03


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.12 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.12 - 2024-04-03
> 
> * Update dependency node to v21.7.2 [Self-hosted Renovate Bot]
> 

</details>

## 20.2.2 - 2024-04-03


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.11 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.11 - 2024-04-03
> 
> * Update dependency npm to v10.5.1 [Self-hosted Renovate Bot]
> 

</details>

## 20.2.1 - 2024-04-01

* Lock file maintenance [Self-hosted Renovate Bot]

## 20.2.0 - 2024-03-28

* Expose the RPi family config vars to RevPi Connect 4 [Shreya Patel]

## 20.1.0 - 2024-03-28

* Use the release semver fields along with release_tags in hostApp operations [Thodoris Greasidis]

## 20.0.4 - 2024-03-26

* Update dependency express to v4.19.2 [SECURITY] [Self-hosted Renovate Bot]

## 20.0.3 - 2024-03-26

* Update dependency @balena/lint to v8 [Thodoris Greasidis]

## 20.0.2 - 2024-03-25

* Lock file maintenance [Self-hosted Renovate Bot]

## 20.0.1 - 2024-03-22

* Update grafana/loki Docker tag to v2.9.6 [Self-hosted Renovate Bot]

## 20.0.0 - 2024-03-21

* Update @balena/pinejs to enable ISODatestring as internal pine API interface for date and date time fields. [fisehara]

## 19.3.3 - 2024-03-19

* fixtures: Remove some unnecessary unloaders in favor of cascade delete [Thodoris Greasidis]
* fixtures: Define the unloaders dictionary in order of execution [Thodoris Greasidis]

## 19.3.2 - 2024-03-19

* Update dependency rate-limiter-flexible to v5 [Self-hosted Renovate Bot]

## 19.3.1 - 2024-03-13

* device-logs/redis: Comment the reasoning for the async snappy import [Thodoris Greasidis]

## 19.3.0 - 2024-03-12

* push optional OpenVPN UDP host to clients [Anton Belodedenko]

## 19.2.2 - 2024-03-12

* Test the exact open-vpn config returned by /os/v1/config [Thodoris Greasidis]

## 19.2.1 - 2024-03-12

* lib/config: Remove top level awaits to make execution more predictable [Thodoris Greasidis]

## 19.2.0 - 2024-03-11

* device-logs/redis: Add the option to disable compression [Thodoris Greasidis]

## 19.1.19 - 2024-03-11

* Lock file maintenance [Self-hosted Renovate Bot]

## 19.1.18 - 2024-03-09


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.10 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.10 - 2024-03-08
> 
> * Update dependency node to v21.7.1 [Self-hosted Renovate Bot]
> 

</details>

## 19.1.17 - 2024-03-07

* Update TypeScript to 5.4.2 [Thodoris Greasidis]

## 19.1.16 - 2024-03-06


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.9 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.9 - 2024-03-06
> 
> * Update dependency node to v21.7.0 [Self-hosted Renovate Bot]
> 

</details>

## 19.1.15 - 2024-03-04

* Lock file maintenance [Self-hosted Renovate Bot]

## 19.1.14 - 2024-03-01

* heartbeat: Clear the write cache when marking a device as offline [Thodoris Greasidis]

## 19.1.13 - 2024-03-01

* Add tests for the race conditions on the heartbeat state management [Thodoris Greasidis]

## 19.1.12 - 2024-02-29

* Tests: Remove restart=always policy for sidecar containers [Pagan Gazzard]

## 19.1.11 - 2024-02-29

* Update grafana/loki Docker tag to v2.9.5 [Self-hosted Renovate Bot]

## 19.1.10 - 2024-02-28


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.8 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.8 - 2024-02-28
> 
> * Update dependency npm to v10.5.0 [Self-hosted Renovate Bot]
> 

</details>

## 19.1.9 - 2024-02-27


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.7 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.7 - 2024-02-27
> 
> * Fix docker cache-from for no-system variants [Kyle Harding]
> 

</details>

## 19.1.8 - 2024-02-27


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.6 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.6 - 2024-02-27
> 
> * Move the no-systemd compatibility tag to a suffix [Kyle Harding]
> 

</details>

## 19.1.7 - 2024-02-26

* Lock file maintenance [Self-hosted Renovate Bot]

## 19.1.6 - 2024-02-26

* Lock file maintenance [Self-hosted Renovate Bot]

## 19.1.5 - 2024-02-23


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.5 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.5 - 2024-02-14
> 
> * Update dependency node to v21.6.2 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.4 - 2024-01-24
> 
> * Update dependency npm to v10.4.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.3 - 2024-01-22
> 
> * Update dependency node to v21.6.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.2 - 2024-01-15
> 
> * Update dependency node to v21.6.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.1 - 2024-01-10
> 
> * Update dependency npm to v10.3.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.0 - 2023-12-20
> 
> * Update nodejs to 21.4.0 [Pagan Gazzard]
> 
> ### open-balena-base-16.0.18 - 2023-12-13
> 
> * add missing data. host [ab77]
> 
> ### open-balena-base-16.0.17 - 2023-12-06
> 
> * Update dependency npm to v10.2.5 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.16 - 2023-12-05
> 
> * remove self-hosted Sentry config [ab77]
> 
> ### open-balena-base-16.0.15 - 2023-11-22
> 
> * Update dependency node to v20.10.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.14 - 2023-11-15
> 
> * Update dependency npm to v10.2.4 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.13 - 2023-11-02
> 
> * Update dependency npm to v10.2.3 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.12 - 2023-11-01
> 
> * Update dependency node to v20.9.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.11 - 2023-11-01
> 
> * Update dependency npm to v10.2.2 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.10 - 2023-10-18
> 
> * Update dependency node to v20.8.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.9 - 2023-10-18
> 
> * Update dependency npm to v10.2.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.8 - 2023-10-03
> 
> * Update dependency npm to v10.2.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.7 - 2023-10-02
> 
> * Prefer using local env var values before falling back to defaults [Thodoris Greasidis]
> 
> ### open-balena-base-16.0.6 - 2023-09-29
> 
> * Update dependency node to v20.8.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.5 - 2023-09-21
> 
> * Build confd from source to avoid upx issues in released binaries [Kyle Harding]
> 
> ### open-balena-base-16.0.4 - 2023-09-21
> 
> * Bump no-systemd image to node 20/npm 10 matching systemd [Page-]
> 
> ### open-balena-base-16.0.3 - 2023-09-18
> 
> * Update dependency node to v18.18.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.2 - 2023-09-18
> 
> * Update dependency node to v20.7.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.1 - 2023-09-12
> 
> * don't clobber existing values [Anton Belodedenko]
> 
> ### open-balena-base-16.0.0 - 2023-09-11
> 
> * Update nodejs to 20.6.1 and npm to 10.1.0 [Pagan Gazzard]
> 
> ### open-balena-base-15.1.1 - 2023-09-07
> 
> * fix env var resolution from token map [ab77]
> 
> ### open-balena-base-15.1.0 - 2023-08-24
> 
> * Add WEBRESOURCES_S3 ACCESS_KEY, SECRET_KEY and HOST to en configuration [Ot치vio Jacobi]
> 
> ### open-balena-base-15.0.5 - 2023-08-24
> 
> * Update dependency node to v18.17.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-15.0.4 - 2023-08-24
> 
> * Use renovate regex annotations to manage confd releases [Kyle Harding]
> * Install node and npm manually in no-systemd variant [Kyle Harding]
> * Use renovate regex annotations to version node and npm [Kyle Harding]
> 
> ### open-balena-base-15.0.3 - 2023-07-19
> 
> * Update Node.js to v18.17.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-15.0.2 - 2023-07-19
> 
> * Update dependency npm to v9.8.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-15.0.1 - 2023-07-18
> 
> * Update dependency node to v18.17.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-15.0.0 - 2023-07-06
> 
> * Upgrade to debian bookworm [Pagan Gazzard]
> 
> ### open-balena-base-14.11.1 - 2023-07-05
> 
> * Update Node.js to v18.16.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-14.11.0 - 2023-07-05
> 
> * Update dependency npm to v9.8.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-14.10.2 - 2023-06-21
> 
> * Update dependency npm to v9.7.2 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-14.10.1 - 2023-06-21
> 
> * Update dependency node to v18.16.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-14.10.0 - 2023-06-07
> 
> * Update dependency npm to v9.7.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-14.9.4 - 2023-06-01
> 
> * Set systemd stopsignal to SIGRTMIN+3 [Pagan Gazzard]
> 
> ### open-balena-base-14.9.3 - 2023-05-18
> 
> * Update dependency npm to v9.6.7 [Renovate Bot]
> 
> ### open-balena-base-14.9.2 - 2023-05-03
> 
> * Update dependency npm to v9.6.6 [Renovate Bot]
> 
> ### open-balena-base-14.9.1 - 2023-05-01
> 
> * Update dependency npm to v9.6.5 [Renovate Bot]
> 
> ### open-balena-base-14.9.0 - 2023-05-01
> 
> * Update Node.js to v18.16.0 [Renovate Bot]
> 
> ### open-balena-base-14.8.1 - 2023-05-01
> 
> * lock to prevent concurrent config updates [ab77]
> 
> ### open-balena-base-14.8.0 - 2023-04-13
> 
> * Update dependency node to v18.16.0 [Renovate Bot]
> 
> ### open-balena-base-14.7.4 - 2023-04-05
> 
> * Update dependency npm to v9.6.4 [Renovate Bot]
> 
> ### open-balena-base-14.7.3 - Invalid date
> 
> * Update dependency npm to v9.6.3 [Renovate Bot]
> 
> ### open-balena-base-14.7.2 - 2023-03-22
> 
> * Maintain legacy docker tags behaviour [Kyle Harding]
> 
> ### open-balena-base-14.7.1 - 2023-03-20
> 
> * Update dependency npm to v9.6.2 [Renovate Bot]
> 
> ### open-balena-base-14.7.0 - 2023-03-20
> 
> * Update dependency node [Renovate Bot]
> 
> ### open-balena-base-14.6.1 - 2023-03-14
> 
> * Restart confd if it fails to start [Anton Belodedenko]
> 
> ### open-balena-base-14.6.0 - 2023-03-02
> 
> * Update dependency npm to 9.6.0 [Renovate Bot]
> 
> ### open-balena-base-14.5.4 - 2023-02-22
> 
> * Update Node.js to v18.14.2 [Renovate Bot]
> 
> ### open-balena-base-14.5.3 - 2023-02-22
> 
> * Update dependency npm to 9.5.1 [Renovate Bot]
> 
> ### open-balena-base-14.5.2 - 2023-02-21
> 
> * Update dependency node to 18.14.2 [Renovate Bot]
> 
> ### open-balena-base-14.5.1 - 2023-02-20
> 
> * Update no-systemd nodejs to 18.14.1 [Page-]
> 
> ### open-balena-base-14.5.0 - 2023-02-17
> 
> * Update dependency npm to 9.5.0 [Renovate Bot]
> 
> ### open-balena-base-14.4.2 - 2023-02-16
> 
> * Update dependency node to 18.14.1 [Renovate Bot]
> 
> ### open-balena-base-14.4.1 - 2023-02-03
> 
> * Resolve some apt warnings by adding protection flags [Kyle Harding]
> * Clear the npm cache manually before running cache clear [Kyle Harding]
> 
> ### open-balena-base-14.4.0 - 2023-02-03
> 
> * Update nodejs to 18.14.0 and npm to 9.4.1 [Pagan Gazzard]
> 
> ### open-balena-base-14.3.0 - 2023-02-02
> 
> * Update dependency node to 18.14.0 [Renovate Bot]
> 
> ### open-balena-base-14.2.0 - 2023-01-09
> 
> * Update to nodejs 18.13.0 [Pagan Gazzard]
> 
> ### open-balena-base-14.1.4 - 2022-12-14
> 
> * no-systemd: Use official node base image [Kyle Harding]
> 
> ### open-balena-base-14.1.3 - 2022-12-08
> 
> * Update Flowzone workflow to support external contributions [Kyle Harding]
> * Build systemd variant for both amd64 and arm64 [Kyle Harding]
> 
> ### open-balena-base-14.1.2 - Invalid date
> 
> * Allow plain TLD certs without UUID [ab77]
> 
> ### open-balena-base-14.1.1 - 2022-11-29
> 
> * Correct public|private cert. check [ab77]
> 
> ### open-balena-base-14.1.0 - 2022-11-24
> 
> * Enable builds of no-systemd variant for arm64 [Kyle Harding]
> 
> ### open-balena-base-14.0.1 - 2022-11-09
> 
> * Update nodejs to 18.12.1 [Pagan Gazzard]
> 
> ### open-balena-base-14.0.0 - 2022-10-27
> 
> * Update to nodejs 18 [Pagan Gazzard]
> 
> ### open-balena-base-13.6.1 - 2022-10-24
> 
> * Update nodejs to 18.18.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.6.0 - 2022-10-14
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.18.0 [Renovate Bot]
> 
> ### open-balena-base-13.5.3 - 2022-10-14
> 
> * Switch to Flowzone for CI/CD [Kyle Harding]
> 
> ### open-balena-base-13.5.2 - 2022-09-26
> 
> * Update to nodejs 16.17.1 [Pagan Gazzard]
> 
> ### open-balena-base-13.5.1 - 2022-08-22
> 
> * Update nodejs to 16.17.0 and npm to 8.18.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.5.0 - 2022-08-18
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.17.0 [Renovate Bot]
> 
> ### open-balena-base-13.4.0 - 2022-07-09
> 
> * Update nodejs to 16.16.0 and npm to 8.13.2 [Pagan Gazzard]
> 
> ### open-balena-base-13.3.2 - 2022-06-08
> 
> * Update nodejs to 16.15.1 and npm to 8.12.1 [Pagan Gazzard]
> 
> ### open-balena-base-13.3.1 - 2022-05-05
> 
> * Add SystemMaxUse for journald.conf [Pagan Gazzard]
> 
> ### open-balena-base-13.3.0 - 2022-05-02
> 
> * Update nodejs to 16.15.0 and npm to 8.8.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.2.3 - 2022-04-08
> 
> * Add support to map tokens from existing env [ab77]
> 
> ### open-balena-base-13.2.2 - 2022-04-05
> 
> * Remove redundant package-lock.json [Akis Kesoglou]
> 
> ### open-balena-base-13.2.1 - 2022-03-21
> 
> * Update nodejs to 16.14.2 and npm to 8.5.5 [Pagan Gazzard]
> 
> ### open-balena-base-13.2.0 - 2022-02-22
> 
> * Consistent SENTRY environment names [ab77]
> 
> ### open-balena-base-13.1.0 - 2022-02-21
> 
> * Update nodejs to 16.14.0 and npm to 8.5.1 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.7 - 2022-02-16
> 
> * Avoid cryptic names and rename bcr to registry-proxy [Kyle Harding]
> 
> ### open-balena-base-13.0.6 - 2022-02-15
> 
> * Add new balena container registry (bcr) host [Kyle Harding]
> 
> ### open-balena-base-13.0.5 - 2022-02-01
> 
> * Refactor ROOT_CA handling/resolution [ab77]
> 
> ### open-balena-base-13.0.4 - 2022-01-11
> 
> * Update to nodejs 16.13.2 and npm 8.3.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.3 - 2021-12-08
> 
> * Update to nodejs 16.13.1 and npm 8.2.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.2 - 2021-11-19
> 
> * Stage stack global environment [ab77]
> 
> ### open-balena-base-13.0.1 - 2021-11-01
> 
> * Install python3 for node-gyp 8.x which is used by npm 8 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.0 - Invalid date
> 
> * Update nodejs to 16.13.0 and npm 8.1.1 [Pagan Gazzard]
> 
> ### open-balena-base-12.2.0 - 2021-10-18
> 
> * Update nodejs to 14.18.1 and npm to 6.14.15 [Pagan Gazzard]
> 
> ### open-balena-base-12.1.1 - 2021-10-14
> 
> * Simplify config by baking the device UUID into the DNS_TLD if available [Akis Kesoglou]
> * Fix configuration for non-BoB deployments [Akis Kesoglou]
> 
> ### open-balena-base-12.1.0 - 2021-09-24
> 
> * Auto-configure balenaMachine(bob) [ab77]
> 
> ### open-balena-base-12.0.3 - 2021-09-01
> 
> * Attempt to load root CA certificate bundle from file [ab77]
> 
> ### open-balena-base-12.0.2 - 2021-08-24
> 
> * Use multi-user.target as the default target [Pagan Gazzard]
> 
> ### open-balena-base-12.0.1 - 2021-08-19
> 
> * Use basic.target as the default target [Pagan Gazzard]
> 
> ### open-balena-base-12.0.0 - 2021-08-17
> 
> * Update to debian bullseye [Pagan Gazzard]
> 
> ### open-balena-base-11.3.12 - 2021-08-13
> 
> * Add hosts [ab77]
> 
> ### open-balena-base-11.3.11 - 2021-08-13
> 
> * Remove deprecated etcd config [ab77]
> 
> ### open-balena-base-11.3.10 - 2021-08-13
> 
> * Add missing init script [ab77]
> 
> ### open-balena-base-11.3.9 - 2021-08-13
> 
> * Update no-systemd variant [ab77]
> 
> ### open-balena-base-11.3.8 - 2021-08-12
> 
> * Update nodejs to 14.17.5 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.7 - Invalid date
> 
> * Use DNS_TLD internally [ab77]
> 
> ### open-balena-base-11.3.6 - Invalid date
> 
> * Accept DNS_TLD in place of BALENA_TLD [ab77]
> 
> ### open-balena-base-11.3.5 - Invalid date
> 
> * Update nodejs to 14.17.4 and npm to 6.14.14 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.4 - Invalid date
> 
> * Correct env var name and sort [ab77]
> 
> ### open-balena-base-11.3.3 - 2021-07-29
> 
> * Add parallel HOSTs and env vars [ab77]
> 
> ### open-balena-base-11.3.2 - 2021-07-02
> 
> * Update nodejs to 14.17.2 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.1 - Invalid date
> 
> * Delete .github directory [dfunckt]
> 
> ### open-balena-base-11.3.0 - Invalid date
> 
> * Update nodejs to 14.17.1 [Trong Nghia Nguyen]
> 
> ### open-balena-base-11.2.0 - 2021-05-14
> 
> * Update nodejs to 14.17.0 and npm to 6.14.13 [Pagan Gazzard]
> 
> ### open-balena-base-11.1.2 - 2021-04-08
> 
> * Update nodejs to 14.16.1 and npm to 6.14.12 [Pagan Gazzard]
> 
> ### open-balena-base-11.1.1 - 2021-03-17
> 
> * Drop CircleCI [ab77]
> 
> ### open-balena-base-11.1.0 - 2021-02-24
> 
> * Update nodejs to 14.16.0 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.5 - 2021-02-15
> 
> * Update nodejs to 14.15.5 and npm to 6.14.11 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.4 - 2021-01-08
> 
> * Update nodejs to 14.15.4 and npm to 6.14.10 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.3 - 2020-12-18
> 
> * Update nodejs to 14.15.3 and npm to 6.14.9 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.2 - 2020-11-18
> 
> * Update nodejs to 14.15.1 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.1 - 2020-10-29
> 
> * Publish tagged versions of the no-systemd image [Pagan Gazzard]
> 
> ### open-balena-base-11.0.0 - 2020-10-27
> 
> * Update to nodejs 14 [Pagan Gazzard]
> 
> ### open-balena-base-10.1.1 - 2020-10-09
> 
> * Fix no-systemd nodejs version [Pagan Gazzard]
> 
> ### open-balena-base-10.1.0 - 2020-10-07
> 
> * Update nodejs to 12.19.0 [Pagan Gazzard]
> 
> ### open-balena-base-10.0.2 - 2020-09-17
> 
> * Delete custom versionist.conf.js and add repo.yml [Giovanni Garufi]
> 
> ### open-balena-base-10.0.1 - 2020-09-17
> 
> * Update nodejs to 12.18.4 and npm to 6.14.8 [Pagan Gazzard]
> 
> ### open-balena-base-10.0.0 - 2020-08-26
> 
> * remove support for etcd-based confd config [Will Boyce]
> 
> ### open-balena-base-9.4.3 - 2020-07-24
> 
> * Update nodejs to 12.18.3 and npm to 6.14.7 [Pagan Gazzard]
> 
> ### open-balena-base-9.4.2 - Invalid date
> 
> * Update nodejs to 12.18.2 [Pagan Gazzard]
> 
> ### open-balena-base-9.4.1 - 2020-06-19
> 
> * Update nodejs to 12.18.1 [Pagan Gazzard]
> 
> ### open-balena-base-9.4.0 - 2020-06-08
> 
> * Update nodejs to 12.18.0 [Pagan Gazzard]
> 
> ### open-balena-base-9.3.0 - 2020-05-29
> 
> * Update nodejs to 12.17.0 and npm to 6.14.5 [Pagan Gazzard]
> 
> ### open-balena-base-9.2.4 - Invalid date
> 
> * Update nodejs to 12.16.3 [Pagan Gazzard]
> 
> ### open-balena-base-9.2.3 - 2020-04-15
> 
> * Forward log from journald to console by default [Trong Nghia Nguyen]
> 
> ### open-balena-base-9.2.2 - 2020-04-09
> 
> * Update nodejs to 12.16.2, npm to 6.14.4 [Pagan Gazzard]
> 
> ### open-balena-base-9.2.1 - 2020-02-20
> 
> * Update nodejs to 12.16.1 [Pagan Gazzard]
> 
> ### open-balena-base-9.2.0 - 2020-02-11
> 
> * Update nodejs to 12.16.0 [Pagan Gazzard]
> 
> ### open-balena-base-9.1.0 - 2020-02-06
> 
> * Update nodejs to 12.15.0 and npm to 6.13.7 [Pagan Gazzard]
> 
> ### open-balena-base-9.0.5 - 2020-01-10
> 
> * Update nodejs to 12.14.1 and npm to 6.13.6 [Pagan Gazzard]
> 
> ### open-balena-base-9.0.4 - 2020-01-07
> 
> * Mask apt-daily-upgrade.timer [Pagan Gazzard]
> 
> ### open-balena-base-9.0.3 - 2019-12-24
> 
> * Update nodejs to 12.14.0 and npm to 6.13.4 [Pagan Gazzard]
> 
> ### open-balena-base-9.0.2 - 2019-12-20
> 
> * Don't use UID used in node archive when unpacking as root [Federico Fissore]
> 
> ### open-balena-base-9.0.1 - 2019-11-15
> 
> * Update node to 12 in no systemd variant [Roman Mazur]
> 
> ### open-balena-base-9.0.0 - 2019-10-21
> 
> * Update to nodejs 12 [Pagan Gazzard]
> 
> ### open-balena-base-8.1.0 - 2019-09-24
> 
> * Respect BALENA_TLD env variable in nosystemd variant [Roman Mazur]
> * Optimize for caching [Roman Mazur]
> * Use balena node base image [Roman Mazur]
> * Add a base image without systemd [Roman Mazur]
> 
> ### open-balena-base-8.0.3 - 2019-08-16
> 
> * 游: Update Node to 10.16.3 and NPM to 6.10.3 [Andreas Fitzek]
> 
> ### open-balena-base-8.0.2 - 2019-08-06
> 
> * Update nodejs to 10.16.1 and npm to 6.10.2 [Pagan Gazzard]
> 
> ### open-balena-base-8.0.1 - 2019-07-17
> 
> * mdns: Ensure multipart subdomains are allowed [Heds Simons]
> 
> ### open-balena-base-8.0.0 - 2019-07-08
> 
> * Upgrade to debian buster [Pagan Gazzard]
> 
> ### open-balena-base-7.2.2 - 2019-06-19
> 
> * systemd: move StartLimitIntervalSec to proper conf section [Matthew McGinn]
> 
> ### open-balena-base-7.2.1 - 2019-06-03
> 
> * Fix adding htoprc [Pagan Gazzard]
> 
> ### open-balena-base-7.2.0 - 2019-05-29
> 
> * Add default htop settings to hide threads and use a tree view [Pagan Gazzard]
> 
> ### open-balena-base-7.1.0 - 2019-05-29
> 
> * Update nodejs to 10.16.0 and npm to 6.9.0 [Pagan Gazzard]
> 
> ### open-balena-base-7.0.2 - 2019-05-06
> 
> * Disable the apt daily timer [Pagan Gazzard]
> 
> ### open-balena-base-7.0.1 - 2019-05-06
> 
> * Disable start limit for confd.service [Pagan Gazzard]
> 
> ### open-balena-base-7.0.0 - 2019-03-14
> 
> * hostname-vars: Ensure previous hostname envvars aren't overwritten [Heds Simons]
> 
> ### open-balena-base-6.0.1 - 2019-03-14
> 
> * versionbot: Add CHANGELOG.yml (for nested changelogs) [Will Boyce]
> 
> ### open-balena-base-6.0.0 - 2019-03-11
> 
> * envvars: Add Monitor host and use balena UUID [Heds Simons]
> 
> ### open-balena-base-5.3.3 - 2019-03-11
> 
> * Update node to v10.15.3 [Pagan Gazzard]
> 
> ### open-balena-base-5.3.2 - 2019-03-08
> 
> * codeowners: Add backend team as owners [Heds Simons]
> 
> ### open-balena-base-5.3.1 - 2019-03-01
> 
> * Update nodejs to 10.15.2 and npm to 6.8.0 [Pagan Gazzard]
> 
> ### open-balena-base-5.3.0 - 2019-02-06
> 
> * Update nodejs to 10.15.1 [Pagan Gazzard]
> * journald: set RuntimeMaxUse=100M [Will Boyce]
> 
> ### open-balena-base-5.2.1 - 2019-02-05
> 
> * confd: Fix backslashes being removed from envvars [Michael Angelos Simos]
> 
> ### open-balena-base-5.2.0 - 2019-02-04
> 
> * confd: Update to v0.16.0 [Will Boyce]
> 
> ### open-balena-base-5.1.0 - 2019-01-29
> 
> * Update nodejs to 10.15.0 and npm to 6.7.0 [Pagan Gazzard]
> 
> ### open-balena-base-5.0.1 - 2018-12-03
> 
> * Update to node 10.14.1 [Pagan Gazzard]
> 
> ### open-balena-base-5.0.0 - Invalid date
> 
> * Update nodejs to 10.x [Pagan Gazzard]
> 
> ### open-balena-base-4.5.0 - 2018-10-24
> 
> * subdomains: Autoset subdomain envvars based on device UUID [Heds Simons]
> 
> ### open-balena-base-4.4.2 - 2018-10-23
> 
> * rename: s/resin/balena [Will Boyce]
> 
> ### open-balena-base-4.4.1 - 2018-09-28
> 
> * dns: Prioritise DNS over MDNS lookups for aliases [Heds Simons]
> 
> ### open-balena-base-4.4.0 - 2018-09-24
> 
> * logging: Allow child components	to log to the console [Heds Simons]
> 
> ### open-balena-base-4.3.0 - 2018-09-11
> 
> * Update to nodejs 8.12.0 and npm 6.4.1 [Pagan Gazzard]
> 
> ### open-balena-base-4.2.2 - 2018-08-20
> 
> * Update to nodejs 8.11.4 [Pagan Gazzard]
> 
> ### open-balena-base-4.2.1 - 2018-07-03
> 
> * Update to nodejs 8.11.3 [Pagan Gazzard]
> 
> ### open-balena-base-4.2.0 - 2018-07-03
> 
> * Add `libnss-mdns` to base images for MDNS lookups. [Heds Simons]
> 
> ### open-balena-base-4.1.0 - 2018-05-16
> 
> * Update to nodejs 8.11.2 and npm 5.10.0 [Pagan Gazzard]
> 
> ### open-balena-base-4.0.0 - 2018-04-26
> 
> * Update to debian stretch [Pagan Gazzard]
> 
> ### open-balena-base-3.4.1 - 2018-04-24
> 
> * Fix disabling systemd rate limiting. [Pagan Gazzard]
> 
> ### open-balena-base-3.4.0 - 2018-04-11
> 
> * Add `balena-root-ca.service` unit file for self-signed CA handling. [Heds Simons]
> 
> ### open-balena-base-3.3.0 - 2018-03-12
> 
> * Support confd env back-end switch, [Michael Angelos Simos]
> * Merge branch 'master' into 43-confd-env-backend-support [Michael Angelos Simos]
> 
> ### open-balena-base-3.2.0 - 2018-03-09
> 
> * Upgrade confd to v0.15.0 [Michael Angelos Simos]
> 
> ### open-balena-base-3.1.0 - 2018-03-08
> 
> * Update nodejs to 8.10.0 and npm to 5.6.0 [Pagan Gazzard]
> 
> ### open-balena-base-3.0.1 - 2017-11-29
> 
> * Turn off journald rate limiting [Cameron Diver]
> 
> ### open-balena-base-3.0.0 - 2017-11-01
> 
> * Update nodejs to 8.9.0 and npm to 5.5.1 [Pagan Gazzard]
> 
> ### open-balena-base-2.9.2 - 2017-10-25
> 
> * Update node to 6.11.5 [Andreas Fitzek]
> 
> ### open-balena-base-2.9.1 - 2017-09-12
> 
> * Fix tag detection on circle builds [John (Jack) Brown]
> 
> ### open-balena-base-2.9.0 - 2017-09-11
> 
> * Update confd to version 0.13.0 [Lucian Buzzo]
> 
> ### open-balena-base-2.8.5 - 2017-09-08
> 
> * Add CircleCI integration [John (Jack) Brown]
> 
> ### open-balena-base-2.8.4 - 2017-07-27
> 
> * Add versionist config [John (Jack) Brown]
> 

</details>

## 19.1.4 - 2024-02-22

* Update dependency husky to v9 [Self-hosted Renovate Bot]

## 19.1.3 - 2024-02-21

* Update dependency chai to v5 [Self-hosted Renovate Bot]

## 19.1.2 - 2024-02-21

* restrict-release-deletion: Remove unnecessary nested filtering [Thodoris Greasidis]

## 19.1.1 - 2024-02-16

* Fix a leftover commonjs require imports when using a TRUST_PROXY [Thodoris Greasidis]

## 19.1.0 - 2024-02-16

* Add exports for the balena-model typings [Thodoris Greasidis]
* Type 'get-state's storedDeviceFields as Partial<Device> [Thodoris Greasidis]

## 19.0.0 - 2024-02-16

* Switch to ES modules [Pagan Gazzard]

## 18.0.0 - 2024-02-15

* Remove the public_address from the storedDeviceFields of the 'get-state' event [Thodoris Greasidis]
* Remove the storedPublicAddress property from the 'get-state' event [Thodoris Greasidis]
* Drop the runCommand & runFromCommandLine exports [Thodoris Greasidis]
* Drop dist from exports [Thodoris Greasidis]

## 17.4.0 - 2024-02-15

* Add exports for balena.sbvr balena-init.sql and v6.sbvr [Thodoris Greasidis]

## 17.3.1 - 2024-02-14

* Tests: mock config in an ESM compatible manner [Pagan Gazzard]

## 17.3.0 - 2024-02-14

* Export the GetStateEventStoredDeviceFields type under device-state [Thodoris Greasidis]

## 17.2.6 - 2024-02-09

* Lock file maintenance [Self-hosted Renovate Bot]

## 17.2.5 - 2024-02-09

* Update grafana/loki Docker tag to v2.9.4 [Self-hosted Renovate Bot]

## 17.2.4 - 2024-02-09


<details>
<summary> Update balena/open-balena-base Docker tag to v17.0.4 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.4 - 2024-01-24
> 
> * Update dependency npm to v10.4.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.3 - 2024-01-22
> 
> * Update dependency node to v21.6.1 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.2 - 2024-01-15
> 
> * Update dependency node to v21.6.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-17.0.1 - 2024-01-10
> 
> * Update dependency npm to v10.3.0 [Self-hosted Renovate Bot]
> 

</details>

## 17.2.3 - 2024-02-09

* Update dependency @types/passport-jwt to v4 [Self-hosted Renovate Bot]

## 17.2.2 - 2024-02-09

* Switch test files to exporting an init function for ESM compatibility [Pagan Gazzard]

## 17.2.1 - 2024-02-09

* Fix getSubject username retrieval [Harald Fischer]

## 17.2.0 - 2024-02-08

* package.json: Add cache & config as exports/package entry points [Thodoris Greasidis]

## 17.1.0 - 2024-02-08

* Add synchronizeContracts & RepositoryInfo to the contracts export [Thodoris Greasidis]
* Add ResolveDeviceInfoCustomObject to the middleware export [Thodoris Greasidis]

## 17.0.5 - 2024-02-06

* Return empty 404 instead of expressjs default html [Harald Fischer]

## 17.0.4 - 2024-02-05

* Update dependencies [Pagan Gazzard]

## 17.0.3 - 2024-02-02

* Improve internal JWT typings. [Harald Fischer]

## 17.0.2 - 2024-02-02

* Fix the gracefully-deny-conflicting-registrations ttl being in ms [Thodoris Greasidis]

## 17.0.1 - 2024-02-02

* device-state: Fix the default ttl of the lastFailedDeviceStateTime cache [Thodoris Greasidis]

## 17.0.0 - 2024-01-31

* Reduce `TokenUserPayload` by removing `username`, `email`, `created_at`, `permissions` [Harald Fischer]

## 16.1.7 - 2024-01-26

* Ensure typings files are type-checked despite skipLibCheck [Pagan Gazzard]

## 16.1.6 - 2024-01-25

* Fix some typing issues that are normally hidden by `skipLibCheck` [Pagan Gazzard]

## 16.1.5 - 2024-01-24

* Switch to using typescript's `Node16` module resolution [Pagan Gazzard]

## 16.1.4 - 2024-01-24

* Fix typing of `req.prefetchApiKey` [Pagan Gazzard]

## 16.1.3 - 2024-01-24

* Switch from array-sort to native array.sort [Pagan Gazzard]

## 16.1.2 - 2024-01-24

* Remove now unnecessary cluster typings [Pagan Gazzard]

## 16.1.1 - 2024-01-24


<details>
<summary> Update @balena/pinejs to 15.5.0 [Pagan Gazzard] </summary>

> ### pinejs-15.5.0 - 2024-01-23
> 
> * Use `Node16` module resolution for typescript [Pagan Gazzard]
> 

</details>

## 16.1.0 - 2024-01-23

* state-get-v3: Unify the user,SV&hostApp app state generation helpers [Thodoris Greasidis]
* state-get-v3: Add the 'io.balena.image.store': 'root' label to hostApps [Thodoris Greasidis]
* Add the hostApp to the state GET v3 result [Thodoris Greasidis]

## 16.0.0 - 2024-01-23

* auth: Rename the exported User type to TokenUserPayload [Thodoris Greasidis]
* auth: Fix the JWT's actor being a deferred navigation resource [Thodoris Greasidis]

## 15.1.2 - 2024-01-19

* Update @balena/pinejs to 15.4.5 Update @balena/pinejs from 15.3.28 to 15.4.5 [Ot치vio Jacobi]

## 15.1.1 - 2024-01-16

* Improve typing of `registerUser` [Pagan Gazzard]

## 15.1.0 - 2024-01-10

* Add `generateAbstractSqlModelFromSE` that accepts an se model directly [Pagan Gazzard]
* Add `URL` to accepted path types for `generateAbstractSqlModel` [Pagan Gazzard]

## 15.0.0 - 2024-01-09

* Change v6 translations to a get function accepting an abstractSqlModel [Pagan Gazzard]

## 14.17.7 - 2024-01-02

* Update pinejs-client-supertest to 2.0.2 [Thodoris Greasidis]

## 14.17.6 - 2023-12-29

* Tests: remove an `any` typing [Pagan Gazzard]

## 14.17.5 - 2023-12-29

* Update dependencies [Pagan Gazzard]

## 14.17.4 - 2023-12-21

* Update dependency rate-limiter-flexible to v4 [Self-hosted Renovate Bot]

## 14.17.3 - 2023-12-21


<details>
<summary> Update balena/open-balena-base Docker tag to v17 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-17.0.0 - 2023-12-20
> 
> * Update nodejs to 21.4.0 [Pagan Gazzard]
> 

</details>

## 14.17.2 - 2023-12-21

* Update dependency passport to ^0.7.0 [Self-hosted Renovate Bot]

## 14.17.1 - 2023-12-20

* Expose v6 translations in module mode [Pagan Gazzard]
* Improve translations typings [Pagan Gazzard]
* Remove unused part of v6 translation [Pagan Gazzard]

## 14.17.0 - 2023-12-20

* Add v6 translations [Pagan Gazzard]

## 14.16.0 - 2023-12-20

* Create service installs for hostApps [Thodoris Greasidis]

## 14.15.12 - 2023-12-18

* Tests: improve readability of bdd assertions [Pagan Gazzard]
* Tests: improve error when trying to clean up empty fixtures [Pagan Gazzard]
* Tests: Use the same version for release assets fixtures as everything else [Pagan Gazzard]
* Tests: Ensure sample file uses lf line breaks for consistent size [Pagan Gazzard]

## 14.15.11 - 2023-12-15

* test-lib/api-helpers: Remove deep pinejs import [Thodoris Greasidis]

## 14.15.10 - 2023-12-14

* Update @balena/lint & its eslint dependencies [Thodoris Greasidis]

## 14.15.9 - 2023-12-14

* Improve the supervisor app state GET v3 tests [Thodoris Greasidis]

## 14.15.8 - 2023-12-13

* Use native promisified nodejs interfaces instead of `util.promisify` [Pagan Gazzard]

## 14.15.7 - 2023-12-13


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.18 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.18 - 2023-12-13
> 
> * add missing data. host [ab77]
> 

</details>

## 14.15.6 - 2023-12-12

* Avoid any async operations for loki publish before processing logs [Pagan Gazzard]

## 14.15.5 - 2023-12-11

* Update grafana/loki Docker tag to v2.9.3 [Self-hosted Renovate Bot]

## 14.15.4 - 2023-12-07


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.17 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.17 - 2023-12-06
> 
> * Update dependency npm to v10.2.5 [Self-hosted Renovate Bot]
> 

</details>

## 14.15.3 - 2023-12-05


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.16 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.16 - 2023-12-05
> 
> * remove self-hosted Sentry config [ab77]
> 

</details>

## 14.15.2 - 2023-11-30

* Update @balena/pinejs to 15.3.28 Update @balena/pinejs from 15.3.17 to 15.3.28 [Ot치vio Jacobi]

## 14.15.1 - 2023-11-29

* Update TypeScript to 5.3.2 [Thodoris Greasidis]

## 14.15.0 - 2023-11-28

* Publish `balena/open-balena-api` for ARM64 [fisehara]

## 14.14.6 - 2023-11-24


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.15 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.15 - 2023-11-22
> 
> * Update dependency node to v20.10.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.14 - 2023-11-15
> 
> * Update dependency npm to v10.2.4 [Self-hosted Renovate Bot]
> 

</details>

## 14.14.5 - 2023-11-24

* Update dependency rate-limiter-flexible to v3 [Self-hosted Renovate Bot]

## 14.14.4 - 2023-11-23


<details>
<summary> Update @balena/pinejs [Harald Fischer] </summary>

> ### pinejs-15.3.17 - 2023-11-23
> 
> * Update @balena/lint [Harald Fischer]
> 
> ### pinejs-15.3.16 - 2023-11-09
> 
> * Handling typing changes of @types/pg [Harald Fischer]
> 
> ### pinejs-15.3.15 - 2023-10-25
> 
> * Do not force storage class on s3 upload [Ot치vio Jacobi]
> 
> ### pinejs-15.3.14 - 2023-10-24
> 
> * Update dependency @types/node to v20 [Self-hosted Renovate Bot]
> 

</details>

## 14.14.3 - 2023-11-13

* Lock file maintenance [Self-hosted Renovate Bot]

## 14.14.2 - 2023-11-06

* Update dependency @types/sinon to v17 [Self-hosted Renovate Bot]

## 14.14.1 - 2023-11-06

* Lock file maintenance [Self-hosted Renovate Bot]

## 14.14.0 - 2023-11-03

* Make Retry-After available to CORS browser requests [Thodoris Greasidis]

## 14.13.8 - 2023-11-02


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.13 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.13 - 2023-11-02
> 
> * Update dependency npm to v10.2.3 [Self-hosted Renovate Bot]
> 

</details>

## 14.13.7 - 2023-11-02

* rate-limiting: Use the ceiling of ms values for the Retry-After header [Thodoris Greasidis]

## 14.13.6 - 2023-10-31


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.12 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.12 - 2023-11-01
> 
> * Update dependency node to v20.9.0 [Self-hosted Renovate Bot]
> 

</details>

## 14.13.5 - 2023-10-31


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.11 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.11 - 2023-11-01
> 
> * Update dependency npm to v10.2.2 [Self-hosted Renovate Bot]
> 

</details>

## 14.13.4 - 2023-10-30

* Lock file maintenance [Self-hosted Renovate Bot]

## 14.13.3 - 2023-10-24

* Update dependency sinon to v17 [Self-hosted Renovate Bot]

## 14.13.2 - 2023-10-23


<details>
<summary> Update @balena/pinejs dependency [Ot치vio Jacobi] </summary>

> ### pinejs-15.3.13 - 2023-10-23
> 
> * Blocks updating and creating webresources with non multipart-formdata requests [Ot치vio Jacobi]
> 
> ### pinejs-15.3.12 - 2023-10-20
> 
> * Update dependency @types/websql to ^0.0.28 [Self-hosted Renovate Bot]
> 
> ### pinejs-15.3.11 - 2023-10-20
> 
> * Update dependency @types/method-override to ^0.0.33 [Self-hosted Renovate Bot]
> 

</details>

## 14.13.1 - 2023-10-23

* Lock file maintenance [Self-hosted Renovate Bot]

## 14.13.0 - 2023-10-20

* multi-level-memoizee: Support local & global specific extra Cache options [Thodoris Greasidis]

## 14.12.6 - 2023-10-19

* Add release_asset update asset_key tests [Ot치vio Jacobi]

## 14.12.5 - 2023-10-19

* Add cascade deletes for release assets [Thodoris Greasidis]

## 14.12.4 - 2023-10-18


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.10 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.10 - 2023-10-18
> 
> * Update dependency node to v20.8.1 [Self-hosted Renovate Bot]
> 

</details>

## 14.12.3 - 2023-10-18


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.9 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.9 - 2023-10-18
> 
> * Update dependency npm to v10.2.1 [Self-hosted Renovate Bot]
> 

</details>

## 14.12.2 - 2023-10-18

* Fix the request.creds typings [Thodoris Greasidis]

## 14.12.1 - 2023-10-18

* Update dependency lint-staged to v15 [Self-hosted Renovate Bot]

## 14.12.0 - 2023-10-17

* Add release_asset [Ot치vio Jacobi]

## 14.11.4 - 2023-10-16

* Increase max webresource file [Ot치vio Jacobi]

## 14.11.3 - 2023-10-16

* Bump @babel/traverse from 7.21.2 to 7.23.2 [dependabot[bot]]

## 14.11.2 - 2023-10-16

* Update grafana/loki Docker tag to v2.9.2 [Self-hosted Renovate Bot]

## 14.11.1 - 2023-10-11


<details>
<summary> Update @balena/pinejs dependencies [Ot치vio Jacobi] </summary>

> ### pinejs-15.3.10 - 2023-10-06
> 
> * Allow uploading file on resourceName and synonyms [Ot치vio Jacobi]
> 
> ### pinejs-15.3.9 - 2023-10-06
> 
> * Fix Term Forms and Synonyms on webresources models [Ot치vio Jacobi]
> 

</details>

## 14.11.0 - 2023-10-10

* Update /os/v1/config endpoint for config.json migration [Christina Ying Wang]

## 14.10.2 - 2023-10-10

* Augment supertest .expect(status) to log the response body when failing  Change-type: patch [Thodoris Greasidis]

## 14.10.1 - 2023-10-10

* Update pinejs-client-supertest to v2.0.1 [Thodoris Greasidis]

## 14.10.0 - 2023-10-06

* New CONTRACT_ALLOWLIST option to limit device types/contracts [Shaun Cooley]

## 14.9.7 - 2023-10-04

* Bump postcss from 8.4.21 to 8.4.31 [dependabot[bot]]

## 14.9.6 - 2023-10-03


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.8 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.8 - 2023-10-03
> 
> * Update dependency npm to v10.2.0 [Self-hosted Renovate Bot]
> 

</details>

## 14.9.5 - 2023-10-03


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.7 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.7 - 2023-10-02
> 
> * Prefer using local env var values before falling back to defaults [Thodoris Greasidis]
> 

</details>

## 14.9.4 - 2023-10-03

* Update dependency @balena/pinejs-webresource-cloudfront to ^0.0.5 [Self-hosted Renovate Bot]

## 14.9.3 - 2023-10-01


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.6 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.6 - 2023-09-29
> 
> * Update dependency node to v20.8.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.5 - 2023-09-21
> 
> * Build confd from source to avoid upx issues in released binaries [Kyle Harding]
> 
> ### open-balena-base-16.0.4 - 2023-09-21
> 
> * Bump no-systemd image to node 20/npm 10 matching systemd [Page-]
> 
> ### open-balena-base-16.0.3 - 2023-09-18
> 
> * Update dependency node to v18.18.0 [Self-hosted Renovate Bot]
> 
> ### open-balena-base-16.0.2 - 2023-09-18
> 
> * Update dependency node to v20.7.0 [Self-hosted Renovate Bot]
> 

</details>

## 14.9.2 - 2023-10-01

* Bump protobufjs from 7.2.2 to 7.2.5 [dependabot[bot]]

## 14.9.1 - 2023-10-01

* Update dependency sinon to v16 [Self-hosted Renovate Bot]

## 14.9.0 - 2023-09-29

* Add S3 webresource handler [Ot치vio Jacobi]

## 14.8.0 - 2023-09-28

* Expose the RPi family config vars to raspberrypi5 board [Alex Gonzalez]

## 14.7.1 - 2023-09-28

* Check user access to the device type provided to /config/vars [Thodoris Greasidis]

## 14.7.0 - 2023-09-28

* Support extending the device fields populated in the "get-state" event [Thodoris Greasidis]

## 14.6.1 - 2023-09-27

* Mark expected floating promises with the `void` operator [Thodoris Greasidis]

## 14.6.0 - 2023-09-20

* Use general Redis auth when also using the general Redis host [Shaun Cooley]

## 14.5.6 - 2023-09-14

* Update grafana/loki Docker tag to v2.9.1 [Self-hosted Renovate Bot]

## 14.5.5 - 2023-09-13


<details>
<summary> Update balena/open-balena-base Docker tag to v16.0.1 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-16.0.1 - 2023-09-12
> 
> * don't clobber existing values [Anton Belodedenko]
> 

</details>

## 14.5.4 - 2023-09-11

* Update open-balena-base package.json to specify nodejs 20 [Pagan Gazzard]

## 14.5.3 - 2023-09-11

* Update open-balena-base to 16.0.0 [Pagan Gazzard]

## 14.5.2 - 2023-09-07

* Update grafana/loki Docker tag to v2.9.0 [Self-hosted Renovate Bot]

## 14.5.1 - 2023-08-30


<details>
<summary> Update @balena/pinejs dependencies [Harald Fischer] </summary>

> ### pinejs-15.3.4 - 2023-08-29
> 
> * Fix skipped migrations on empty database schema [Harald Fischer]
> 
> ### pinejs-15.3.3 - 2023-08-29
> 
> * Change S3Handler signing config from private to protected [Ot치vio Jacobi]
> 
> ### pinejs-15.3.2 - 2023-08-24
> 
> * Fix webresource patch on not accessible/inexistent key [Ot치vio Jacobi]
> 
> ### pinejs-15.3.1 - 2023-08-24
> 
> * bin: Use async imports in the cli commands [Thodoris Greasidis]
> 

</details>

## 14.5.0 - 2023-08-30

* Export the augmentReqApiKeyPermissions api key helper [Thodoris Greasidis]

## 14.4.0 - 2023-08-29

* Use snappy compression for device logs [Pagan Gazzard]

## 14.3.11 - 2023-08-29

* device-logs: Import the Loki backend asyncronoushly [Thodoris Greasidis]

## 14.3.10 - 2023-08-29

* Update TypeScript to 5.2.2 [Thodoris Greasidis]

## 14.3.9 - 2023-08-29

* Mark runCommand & runFromCommandLine as deprecated [Thodoris Greasidis]
* Fix the remaining eslint errors [Thodoris Greasidis]
* Properly mark floating-promise errors [Thodoris Greasidis]
* scheduler: Add missing await to the unlocking phase [Thodoris Greasidis]
* Stop using {} as a type [Thodoris Greasidis]
* Switch hasOwnProperty() to Object.prototype.hasOwnProperty.call [Thodoris Greasidis]
* Remove unnecessary escaping from regexes [Thodoris Greasidis]
* Remove not used lodash imports [Thodoris Greasidis]
* Update @balena/lint to 7.0.2 [Thodoris Greasidis]

## 14.3.8 - 2023-08-29

* config: Refactor the cluster mode Redis auth env var checks [Thodoris Greasidis]
* Throw when the redis auth env vars are not in the expected format [Thodoris Greasidis]
* Annotate a few type-only ioredis imports as such [Thodoris Greasidis]

## 14.3.7 - 2023-08-29

* Fix the construction of the Redis RO auth options in non-cluster mode [Thodoris Greasidis]

## 14.3.6 - 2023-08-25


<details>
<summary> Update balena/open-balena-base Docker tag to v15.1.0 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.1.0 - 2023-08-24
> 
> * Add WEBRESOURCES_S3 ACCESS_KEY, SECRET_KEY and HOST to en configuration [Ot치vio Jacobi]
> 

</details>

## 14.3.5 - 2023-08-24


<details>
<summary> Update balena/open-balena-base Docker tag to v15.0.5 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.0.5 - 2023-08-24
> 
> * Update dependency node to v18.17.1 [Self-hosted Renovate Bot]
> 

</details>

## 14.3.4 - 2023-08-24


<details>
<summary> Update balena/open-balena-base Docker tag to v15.0.4 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.0.4 - 2023-08-24
> 
> * Use renovate regex annotations to manage confd releases [Kyle Harding]
> * Install node and npm manually in no-systemd variant [Kyle Harding]
> * Use renovate regex annotations to version node and npm [Kyle Harding]
> 

</details>

## 14.3.3 - 2023-08-23

* Enable external PRs to run custom actions [Pagan Gazzard]

## 14.3.2 - 2023-08-23

* Make use of `.at(-1)` instead of `.length - 1` [Pagan Gazzard]

## 14.3.1 - 2023-08-23

* One additional Redis AUTH location also fixed possible 'redisAuthVar' use before initialization [Shaun Cooley]

## 14.3.0 - 2023-08-22

* Add support for Redis auth [Shaun Cooley]

## 14.2.3 - 2023-08-22

* Update dependency lint-staged to v14 [Self-hosted Renovate Bot]

## 14.2.2 - 2023-08-21

* Remove imports from pinejs/out directory [Ot치vio Jacobi]

## 14.2.1 - 2023-08-18

* CI: Use pglast to validate SQL [Josh Bowling]

## 14.2.0 - 2023-08-17


<details>
<summary> Adds webresource typing [Ot치vio Jacobi] </summary>

> ### pinejs-15.3.0 - 2023-08-16
> 
> * Add support to WebResrouce type [Ot치vio Jacobi]
> 
> ### pinejs-15.2.1 - 2023-08-14
> 
> * Mark that `tx` is always passed to `POSTRUN-ERROR` hooks [Pagan Gazzard]
> 
> ### pinejs-15.2.0 - 2023-08-02
> 
> * Return a response even when the request resolves to an HTTP error [myarmolinsky]
> 
> ### pinejs-15.1.1 - 2023-08-02
> 
> * Throw a Bad Request error when passing unknown vocabulary in a request [myarmolinsky]
> 
> ### pinejs-15.1.0 - 2023-07-11
> 
> 
> <details>
> <summary> Update pinejs-client-core to 6.13.0 [Thodoris Greasidis] </summary>
> 
>> #### pinejs-client-js-6.13.0 - 2023-07-11
>> 
>> * Add support for $duration [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.12.4 - 2023-05-09
>> 
>> * Avoid an unnecessary function creation on each get() call [Thodoris Greasidis]
>> 
> 
> </details>
> 
> 
> ### pinejs-15.0.5 - 2023-07-07
> 
> * Mark the bin scripts as executable [Thodoris Greasidis]
> 
> ### pinejs-15.0.4 - 2023-06-27
> 
> * Add transaction cancelation tests for properly hooked custom endpoints [Thodoris Greasidis]
> * Add OData request transaction cancelation tests [Thodoris Greasidis]
> 
> ### pinejs-15.0.3 - 2023-06-15
> 
> * Fix pinejs 15 migrations for the migrations model [Pagan Gazzard]
> 
> ### pinejs-15.0.2 - 2023-06-02
> 
> * Update TypeScript to 5.1.3 [Thodoris Greasidis]
> 
> ### pinejs-15.0.1 - 2023-05-23
> 
> * Migrations.md: Add marking the sbvr field as optional on the 2nd deploy [Thodoris Greasidis]
> 

</details>

## 14.1.1 - 2023-08-11

* Update grafana/loki Docker tag to v2.8.4 [Self-hosted Renovate Bot]

## 14.1.0 - 2023-08-02

* Add /actor/v1/whoami endpoint [Ot치vio Jacobi]

## 14.0.4 - 2023-07-21

* Update grafana/loki Docker tag to v2.8.3 [Self-hosted Renovate Bot]

## 14.0.3 - 2023-07-19


<details>
<summary> Update balena/open-balena-base Docker tag to v15.0.3 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.0.3 - 2023-07-19
> 
> * Update Node.js to v18.17.0 [Self-hosted Renovate Bot]
> 

</details>

## 14.0.2 - 2023-07-19


<details>
<summary> Update balena/open-balena-base Docker tag to v15.0.2 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.0.2 - 2023-07-19
> 
> * Update dependency npm to v9.8.1 [Self-hosted Renovate Bot]
> 

</details>

## 14.0.1 - 2023-07-18


<details>
<summary> Update balena/open-balena-base Docker tag to v15.0.1 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-15.0.1 - 2023-07-18
> 
> * Update dependency node to v18.17.0 [Self-hosted Renovate Bot]
> 

</details>

## 14.0.0 - 2023-07-17

* Use the graceful deny mechanism for device state PATCH v3 [Thodoris Greasidis]

## 13.3.0 - 2023-07-12

* vars-schema: Add custom DTB support for Jetson Orin Nano [Alexandru Costache]

## 13.2.2 - 2023-07-10

* Update open-balena-base to 15.0.0 [Pagan Gazzard]

## 13.2.1 - 2023-07-05


<details>
<summary> Update balena/open-balena-base Docker tag to v14.11.1 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.11.1 - 2023-07-05
> 
> * Update Node.js to v18.16.1 [Self-hosted Renovate Bot]
> 

</details>

## 13.2.0 - 2023-07-05


<details>
<summary> Update balena/open-balena-base Docker tag to v14.11.0 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.11.0 - 2023-07-05
> 
> * Update dependency npm to v9.8.0 [Self-hosted Renovate Bot]
> 

</details>

## 13.1.0 - 2023-07-05

* Expose the RPi family config vars to Revolution Pi Connect and Revolution Pi Connect S [Florin Sarbu]

## 13.0.7 - 2023-07-01

* Update dependency semver to v7.5.2 [SECURITY] [Self-hosted Renovate Bot]

## 13.0.6 - 2023-06-27

* Rollback device registration if the request ends/is aborted midway [Pagan Gazzard]

## 13.0.5 - 2023-06-21


<details>
<summary> Update balena/open-balena-base Docker tag to v14.10.2 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.10.2 - 2023-06-21
> 
> * Update dependency npm to v9.7.2 [Self-hosted Renovate Bot]
> 

</details>

## 13.0.4 - 2023-06-21


<details>
<summary> Update balena/open-balena-base Docker tag to v14.10.1 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.10.1 - 2023-06-21
> 
> * Update dependency node to v18.16.1 [Self-hosted Renovate Bot]
> 

</details>

## 13.0.3 - 2023-06-14

* device-provisioning: Stop reporting conflict errors [Thodoris Greasidis]

## 13.0.2 - 2023-06-14

* Combine two of the rules about supervisor releases managing devices [Thodoris Greasidis]

## 13.0.1 - 2023-06-13

* Gracefully deny device registrations with duplicate api key [Thodoris Greasidis]

## 13.0.0 - 2023-06-12

* Drop unused `device has vpn address` property [Pagan Gazzard]

## 12.1.0 - 2023-06-07


<details>
<summary> Update balena/open-balena-base Docker tag to v14.10.0 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.10.0 - 2023-06-07
> 
> * Update dependency npm to v9.7.1 [Self-hosted Renovate Bot]
> 

</details>

## 12.0.6 - 2023-06-07

* Clear the associated service instance when a device disconnects from it [Pagan Gazzard]

## 12.0.5 - 2023-06-02

* Update TypeScript to 5.1.3 [Thodoris Greasidis]

## 12.0.4 - 2023-05-31


<details>
<summary> Update balena/open-balena-base Docker tag to v14.9.4 [Self-hosted Renovate Bot] </summary>

> ### open-balena-base-14.9.4 - 2023-06-01
> 
> * Set systemd stopsignal to SIGRTMIN+3 [Pagan Gazzard]
> 

</details>

## 12.0.3 - 2023-05-24

* Add a CPU ID readable character filter [fisehara]

## 12.0.2 - 2023-05-24

* Update grafana/loki Docker tag to v2.8.2 [Renovate Bot]

## 12.0.1 - 2023-05-24


<details>
<summary> Update balena/open-balena-base Docker tag to v14.9.3 [Renovate Bot] </summary>

> ### open-balena-base-14.9.3 - 2023-05-18
> 
> * Update dependency npm to v9.6.7 [Renovate Bot]
> 
> ### open-balena-base-14.9.2 - 2023-05-03
> 
> * Update dependency npm to v9.6.6 [Renovate Bot]
> 

</details>

## 12.0.0 - 2023-05-24


<details>
<summary> Update to pinejs 15 [Pagan Gazzard] </summary>

> ### pinejs-15.0.0 - 2023-05-17
> 
> * Stop re-exporting `ODataRequest` as `HookRequest` [Pagan Gazzard]
> * Don't add a returning clause to requests if affectedIds has been populated [Pagan Gazzard]
> * Remove the deprecated `data` property from `PRERESPOND` hooks [Pagan Gazzard]
> * Remove support for the deprecated db result form of async migrations [Pagan Gazzard]
> * Update grunt [Harald Fischer]
> * Do not convert `null` to the default value in `customApiKeyMiddleware` [Pagan Gazzard]
> * Use `{ value: modelValue }` for se and odataMetadata model entries [Pagan Gazzard]
> * Switch mysql `sql_mode` from `ANSI_QUOTES` to `ANSI` [Pagan Gazzard]
> * Make `actor` a required property of the req.apiKey object [Pagan Gazzard]
> * Change `resolveAuthHeader`/`resolveApiKey` to throw on invalid api keys [Pagan Gazzard]
> * Do not bail in `resolveAuthHeader` if there is an existing api key [Pagan Gazzard]
> * Do not bail in `resolveApiKey` if there is an existing api key [Pagan Gazzard]
> * Treat ConceptType fields as expandable/foreign key fields as they are [Pagan Gazzard]
> * Throw rather than warn on invalid value for `PINEJS_DEBUG` [Pagan Gazzard]
> * Remove support for `DEBUG` env var in favor of only `PINEJS_DEBUG` [Pagan Gazzard]
> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
> * Reflect the usage of BOOLEAN/JSON database types [Pagan Gazzard]
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-9.0.2 - 2023-05-16
>> 
>> 
>> <details>
>> <summary> Update @balena/sbvr-types to 5.0.0 [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-5.0.0 - 2023-05-16
>>> 
>>> * Switch from `export =` to `export default` [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-4.0.2 - 2023-05-03
>>> 
>>> * Improve typings [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-4.0.1 - 2023-05-02
>>> 
>>> * boolean: Avoid unnecessary array creation to reduce GCs [Thodoris Greasidis]
>>> 
>> 
>> </details>
>> 
>> 
>> #### abstract-sql-compiler-9.0.1 - 2023-05-15
>> 
>> * Fix TS errors for the latest sbvrTypes [Thodoris Greasidis]
>> 
>> #### abstract-sql-compiler-9.0.0 - 2023-05-02
>> 
>> * Drop `require-npm4-to-publish` as `engines` used [fisehara]
>> 
>> <details>
>> <summary> Update @balena/odata-to-abstract-sql to 6.x [Pagan Gazzard] </summary>
>> 
>>> ##### odata-to-abstract-sql-6.0.1 - 2023-04-27
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### odata-parser-3.0.0 - 2023-04-26
>>>> 
>>>> * Use optional chaining operator [Pagan Gazzard]
>>>> * Set minimum supported nodejs version to 16.13.0 [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.5.0 - 2023-04-26
>>>> 
>>>> * Update to peggy 3 and make us of the repetition operator [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-4.0.0 - 2023-04-26
>>>> 
>>>> * Add test cases for Objects in JSON validate [fisehara]
>>>> * Drop `require-npm4-to-publish` devDependency [fisehara]
>>>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>>>> * Switch `JSON` to use `JSON` db type instead of `TEXT` [Pagan Gazzard]
>>>> * Switch `Boolean` to use `BOOLEAN` db type instead of `INTEGER` [Pagan Gazzard]
>>>> * Assert that JSON input typeof is object [Josh Bowling]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-6.0.0 - 2023-04-26
>>> 
>>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>>> * Switch `AggregateJSON` to use the newer `ReferencedField` format [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.9.6 - 2023-04-25
>>> 
>>> * Collapse `AliasedFunction` into `FunctionMatch` [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.9.5 - 2023-04-25
>>> 
>>> 
>>> <details>
>>> <summary> Improve typings [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-8.4.1 - 2023-04-25
>>>> 
>>>> * Add much finer grained typings for abstract-sql-optimizer [Pagan Gazzard]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.9.4 - 2023-04-24
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-8.4.0 - 2023-04-24
>>>> 
>>>> * Add support for using field type nodes with an AggregateJSON node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.13 - 2023-04-24
>>>> 
>>>> * Deprecate `AliasableFromTypeNodes` type as it's redundant [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.12 - 2023-04-17
>>>> 
>>>> * Revert tightening of `OrderBy` to only field nodes [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.11 - 2023-04-13
>>>> 
>>>> * Do not allow ON clauses for CROSS JOIN as it is invalid [Pagan Gazzard]
>>>> * Stop accepting `ExtractJSONPathAsText`/`ToJSON` as unknown node types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.10 - 2023-04-13
>>>> 
>>>> * Fix DateNode/AnyNode typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.9 - 2023-04-13
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>>> 
>>>>> ####### sbvr-types-3.5.0 - 2023-03-21
>>>>> 
>>>>> * Add Big Serial type [Josh Bowling]
>>>>> 
>>>>> ####### sbvr-types-3.4.19 - 2022-12-08
>>>>> 
>>>>> * Flowzone: Allow external contributions [Josh Bowling]
>>>>> 
>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-8.3.8 - 2023-04-12
>>>> 
>>>> * Improve typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.7 - 2023-04-12
>>>> 
>>>> * Remove typing for non-existent JSON node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.6 - 2023-04-12
>>>> 
>>>> * Tighten the `isXValue` function typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.5 - 2023-04-12
>>>> 
>>>> * Correctly treat `Value` nodes as rewritten to `Text` by the optimizer [Pagan Gazzard]
>>>> * Add EmbeddedTextNode typing [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.4 - 2023-04-12
>>>> 
>>>> * Enforce the first argument of ExtractJSONPathAsText is a JSON type node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.3 - 2023-04-12
>>>> 
>>>> * Improve node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.2 - 2023-04-12
>>>> 
>>>> * Add more node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.1 - 2023-04-12
>>>> 
>>>> * Add more node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.0 - 2023-04-11
>>>> 
>>>> * Support boolean nodes in a ValuesNode [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.2.0 - 2023-04-11
>>>> 
>>>> * Add `Between` node type [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.1.0 - 2023-04-11
>>>> 
>>>> * Add `BitwiseAnd`/`BitwiseShiftRight` node types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.0.2 - 2023-04-06
>>>> 
>>>> * Add `NotInNode` type [Pagan Gazzard]
>>>> * Add `IsDistinctFromNode`/`IsNotDistinctFromNode` types [Pagan Gazzard]
>>>> * Add `CharacterLengthNode` type [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.0.1 - 2023-04-06
>>>> 
>>>> * Adds Cast node type to tree parsing [Ot치vio Jacobi]
>>>> 
>>>> ###### odata-parser-2.4.6 - 2023-02-24
>>>> 
>>>> * Improve typings [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.5 - 2023-02-23
>>>> 
>>>> * Use const/let as appropriate [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.4 - 2023-02-23
>>>> 
>>>> * Use shorthand object notation [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.3 - 2023-02-23
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>> 
>> </details>
>> 
>> * Remove support for the legacy AggregateJSON format of `[tableName, fieldName]` [Pagan Gazzard]
>> * Remove support for the legacy boolean format of `true|false` [Pagan Gazzard]
>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>> * Remove support for the legacy alias format of `[node, alias]` [Pagan Gazzard]
>> * Remove support for the legacy table format of `tableName` [Pagan Gazzard]
>> * Remove support for the legacy null formats of `null` and `'Null'` [Pagan Gazzard]
>> * Reflect the usage of BOOLEAN db type [Pagan Gazzard]
>> 
>> <details>
>> <summary> Update @balena/sbvr-types to 4.x [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-4.0.0 - 2023-04-26
>>> 
>>> * Add test cases for Objects in JSON validate [fisehara]
>>> * Drop `require-npm4-to-publish` devDependency [fisehara]
>>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>>> * Switch `JSON` to use `JSON` db type instead of `TEXT` [Pagan Gazzard]
>>> * Switch `Boolean` to use `BOOLEAN` db type instead of `INTEGER` [Pagan Gazzard]
>>> * Assert that JSON input typeof is object [Josh Bowling]
>>> 
>> 
>> </details>
>> 
>> 
>> #### abstract-sql-to-typescript-2.0.0 - 2023-05-02
>> 
>> * Update @balena/abstract-sql-compiler to 9.x [Pagan Gazzard]
>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>> * Treat ConceptType like foreign keys, in line with pinejs 15 [Pagan Gazzard]
>> 
>> #### odata-parser-3.0.0 - 2023-04-26
>> 
>> * Use optional chaining operator [Pagan Gazzard]
>> * Set minimum supported nodejs version to 16.13.0 [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-6.0.1 - 2023-04-27
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### odata-parser-3.0.0 - 2023-04-26
>>> 
>>> * Use optional chaining operator [Pagan Gazzard]
>>> * Set minimum supported nodejs version to 16.13.0 [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.5.0 - 2023-04-26
>>> 
>>> * Update to peggy 3 and make us of the repetition operator [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-4.0.0 - 2023-04-26
>>> 
>>> * Add test cases for Objects in JSON validate [fisehara]
>>> * Drop `require-npm4-to-publish` devDependency [fisehara]
>>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>>> * Switch `JSON` to use `JSON` db type instead of `TEXT` [Pagan Gazzard]
>>> * Switch `Boolean` to use `BOOLEAN` db type instead of `INTEGER` [Pagan Gazzard]
>>> * Assert that JSON input typeof is object [Josh Bowling]
>>> 
>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-6.0.0 - 2023-04-26
>> 
>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>> * Switch `AggregateJSON` to use the newer `ReferencedField` format [Pagan Gazzard]
>> 
>> #### sbvr-types-5.0.0 - 2023-05-16
>> 
>> * Switch from `export =` to `export default` [Pagan Gazzard]
>> 
>> #### sbvr-types-4.0.2 - 2023-05-03
>> 
>> * Improve typings [Pagan Gazzard]
>> 
>> #### sbvr-types-4.0.1 - 2023-05-02
>> 
>> * boolean: Avoid unnecessary array creation to reduce GCs [Thodoris Greasidis]
>> 
>> #### sbvr-types-4.0.0 - 2023-04-26
>> 
>> * Add test cases for Objects in JSON validate [fisehara]
>> * Drop `require-npm4-to-publish` devDependency [fisehara]
>> * Set minimum supported nodejs version to 16.13.0 and tsconfig to es2021 [Pagan Gazzard]
>> * Switch `JSON` to use `JSON` db type instead of `TEXT` [Pagan Gazzard]
>> * Switch `Boolean` to use `BOOLEAN` db type instead of `INTEGER` [Pagan Gazzard]
>> * Assert that JSON input typeof is object [Josh Bowling]
>> 
> 
> </details>
> 
> 
> ### pinejs-14.64.1 - 2023-04-27
> 
> * Update async migration function typing to also accept `Promise<number>` [Pagan Gazzard]
> 
> ### pinejs-14.64.0 - 2023-04-27
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-8.5.0 - 2023-04-27
>> 
>> * Use native `StartsWith` node type for postgres [Pagan Gazzard]
>> * Convert `EscapeForLike` into a standalone node type [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.4.1 - 2023-04-25
>> 
>> * Add much finer grained typings for abstract-sql-optimizer [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.4.0 - 2023-04-24
>> 
>> * Add support for using field type nodes with an AggregateJSON node [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.13 - 2023-04-24
>> 
>> * Deprecate `AliasableFromTypeNodes` type as it's redundant [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.12 - 2023-04-17
>> 
>> * Revert tightening of `OrderBy` to only field nodes [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.11 - 2023-04-13
>> 
>> * Do not allow ON clauses for CROSS JOIN as it is invalid [Pagan Gazzard]
>> * Stop accepting `ExtractJSONPathAsText`/`ToJSON` as unknown node types [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.10 - 2023-04-13
>> 
>> * Fix DateNode/AnyNode typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.9 - 2023-04-13
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.5.0 - 2023-03-21
>>> 
>>> * Add Big Serial type [Josh Bowling]
>>> 
>>> ##### sbvr-types-3.4.19 - 2022-12-08
>>> 
>>> * Flowzone: Allow external contributions [Josh Bowling]
>>> 
>> 
>> </details>
>> 
>> 
>> #### abstract-sql-compiler-8.3.8 - 2023-04-12
>> 
>> * Improve typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.7 - 2023-04-12
>> 
>> * Remove typing for non-existent JSON node [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.6 - 2023-04-12
>> 
>> * Tighten the `isXValue` function typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.5 - 2023-04-12
>> 
>> * Correctly treat `Value` nodes as rewritten to `Text` by the optimizer [Pagan Gazzard]
>> * Add EmbeddedTextNode typing [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.4 - 2023-04-12
>> 
>> * Enforce the first argument of ExtractJSONPathAsText is a JSON type node [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.3 - 2023-04-12
>> 
>> * Improve node typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.2 - 2023-04-12
>> 
>> * Add more node typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.1 - 2023-04-12
>> 
>> * Add more node typings [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.3.0 - 2023-04-11
>> 
>> * Support boolean nodes in a ValuesNode [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.2.0 - 2023-04-11
>> 
>> * Add `Between` node type [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.1.0 - 2023-04-11
>> 
>> * Add `BitwiseAnd`/`BitwiseShiftRight` node types [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.0.2 - 2023-04-06
>> 
>> * Add `NotInNode` type [Pagan Gazzard]
>> * Add `IsDistinctFromNode`/`IsNotDistinctFromNode` types [Pagan Gazzard]
>> * Add `CharacterLengthNode` type [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-8.0.1 - 2023-04-06
>> 
>> * Adds Cast node type to tree parsing [Ot치vio Jacobi]
>> 
>> #### abstract-sql-to-typescript-1.5.1 - 2023-04-27
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### odata-to-abstract-sql-5.9.6 - 2023-04-25
>>> 
>>> * Collapse `AliasedFunction` into `FunctionMatch` [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.9.5 - 2023-04-25
>>> 
>>> 
>>> <details>
>>> <summary> Improve typings [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-8.4.1 - 2023-04-25
>>>> 
>>>> * Add much finer grained typings for abstract-sql-optimizer [Pagan Gazzard]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.9.4 - 2023-04-24
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-8.4.0 - 2023-04-24
>>>> 
>>>> * Add support for using field type nodes with an AggregateJSON node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.13 - 2023-04-24
>>>> 
>>>> * Deprecate `AliasableFromTypeNodes` type as it's redundant [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.12 - 2023-04-17
>>>> 
>>>> * Revert tightening of `OrderBy` to only field nodes [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.11 - 2023-04-13
>>>> 
>>>> * Do not allow ON clauses for CROSS JOIN as it is invalid [Pagan Gazzard]
>>>> * Stop accepting `ExtractJSONPathAsText`/`ToJSON` as unknown node types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.10 - 2023-04-13
>>>> 
>>>> * Fix DateNode/AnyNode typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.9 - 2023-04-13
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>>> 
>>>>> ####### sbvr-types-3.5.0 - 2023-03-21
>>>>> 
>>>>> * Add Big Serial type [Josh Bowling]
>>>>> 
>>>>> ####### sbvr-types-3.4.19 - 2022-12-08
>>>>> 
>>>>> * Flowzone: Allow external contributions [Josh Bowling]
>>>>> 
>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-8.3.8 - 2023-04-12
>>>> 
>>>> * Improve typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.7 - 2023-04-12
>>>> 
>>>> * Remove typing for non-existent JSON node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.6 - 2023-04-12
>>>> 
>>>> * Tighten the `isXValue` function typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.5 - 2023-04-12
>>>> 
>>>> * Correctly treat `Value` nodes as rewritten to `Text` by the optimizer [Pagan Gazzard]
>>>> * Add EmbeddedTextNode typing [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.4 - 2023-04-12
>>>> 
>>>> * Enforce the first argument of ExtractJSONPathAsText is a JSON type node [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.3 - 2023-04-12
>>>> 
>>>> * Improve node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.2 - 2023-04-12
>>>> 
>>>> * Add more node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.1 - 2023-04-12
>>>> 
>>>> * Add more node typings [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.3.0 - 2023-04-11
>>>> 
>>>> * Support boolean nodes in a ValuesNode [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.2.0 - 2023-04-11
>>>> 
>>>> * Add `Between` node type [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.1.0 - 2023-04-11
>>>> 
>>>> * Add `BitwiseAnd`/`BitwiseShiftRight` node types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.0.2 - 2023-04-06
>>>> 
>>>> * Add `NotInNode` type [Pagan Gazzard]
>>>> * Add `IsDistinctFromNode`/`IsNotDistinctFromNode` types [Pagan Gazzard]
>>>> * Add `CharacterLengthNode` type [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-8.0.1 - 2023-04-06
>>>> 
>>>> * Adds Cast node type to tree parsing [Ot치vio Jacobi]
>>>> 
>>>> ###### odata-parser-2.4.6 - 2023-02-24
>>>> 
>>>> * Improve typings [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.5 - 2023-02-23
>>>> 
>>>> * Use const/let as appropriate [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.4 - 2023-02-23
>>>> 
>>>> * Use shorthand object notation [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.4.3 - 2023-02-23
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.9.3 - 2023-03-08
>>> 
>>> * Fixes ODataBindings imported types [Ot치vio Jacobi]
>>> 
>>> ##### odata-to-abstract-sql-5.9.2 - 2023-02-15
>>> 
>>> * Update typings to the minimal subset of the abstract sql model we need [Pagan Gazzard]
>>> 
>> 
>> </details>
>> 
>> 
>> #### abstract-sql-to-typescript-1.5.0 - 2023-03-01
>> 
>> * Adds native SQL Date type [Ot치vio Jacobi]
>> 
>> #### odata-parser-2.5.0 - 2023-04-26
>> 
>> * Update to peggy 3 and make us of the repetition operator [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.9.6 - 2023-04-25
>> 
>> * Collapse `AliasedFunction` into `FunctionMatch` [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.9.5 - 2023-04-25
>> 
>> 
>> <details>
>> <summary> Improve typings [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-8.4.1 - 2023-04-25
>>> 
>>> * Add much finer grained typings for abstract-sql-optimizer [Pagan Gazzard]
>>> 
>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-5.9.4 - 2023-04-24
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-8.4.0 - 2023-04-24
>>> 
>>> * Add support for using field type nodes with an AggregateJSON node [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.13 - 2023-04-24
>>> 
>>> * Deprecate `AliasableFromTypeNodes` type as it's redundant [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.12 - 2023-04-17
>>> 
>>> * Revert tightening of `OrderBy` to only field nodes [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.11 - 2023-04-13
>>> 
>>> * Do not allow ON clauses for CROSS JOIN as it is invalid [Pagan Gazzard]
>>> * Stop accepting `ExtractJSONPathAsText`/`ToJSON` as unknown node types [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.10 - 2023-04-13
>>> 
>>> * Fix DateNode/AnyNode typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.9 - 2023-04-13
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.5.0 - 2023-03-21
>>>> 
>>>> * Add Big Serial type [Josh Bowling]
>>>> 
>>>> ###### sbvr-types-3.4.19 - 2022-12-08
>>>> 
>>>> * Flowzone: Allow external contributions [Josh Bowling]
>>>> 
>>> 
>>> </details>
>>> 
>>> 
>>> ##### abstract-sql-compiler-8.3.8 - 2023-04-12
>>> 
>>> * Improve typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.7 - 2023-04-12
>>> 
>>> * Remove typing for non-existent JSON node [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.6 - 2023-04-12
>>> 
>>> * Tighten the `isXValue` function typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.5 - 2023-04-12
>>> 
>>> * Correctly treat `Value` nodes as rewritten to `Text` by the optimizer [Pagan Gazzard]
>>> * Add EmbeddedTextNode typing [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.4 - 2023-04-12
>>> 
>>> * Enforce the first argument of ExtractJSONPathAsText is a JSON type node [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.3 - 2023-04-12
>>> 
>>> * Improve node typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.2 - 2023-04-12
>>> 
>>> * Add more node typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.1 - 2023-04-12
>>> 
>>> * Add more node typings [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.3.0 - 2023-04-11
>>> 
>>> * Support boolean nodes in a ValuesNode [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.2.0 - 2023-04-11
>>> 
>>> * Add `Between` node type [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.1.0 - 2023-04-11
>>> 
>>> * Add `BitwiseAnd`/`BitwiseShiftRight` node types [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.0.2 - 2023-04-06
>>> 
>>> * Add `NotInNode` type [Pagan Gazzard]
>>> * Add `IsDistinctFromNode`/`IsNotDistinctFromNode` types [Pagan Gazzard]
>>> * Add `CharacterLengthNode` type [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-8.0.1 - 2023-04-06
>>> 
>>> * Adds Cast node type to tree parsing [Ot치vio Jacobi]
>>> 
>>> ##### odata-parser-2.4.6 - 2023-02-24
>>> 
>>> * Improve typings [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.4.5 - 2023-02-23
>>> 
>>> * Use const/let as appropriate [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.4.4 - 2023-02-23
>>> 
>>> * Use shorthand object notation [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.4.3 - 2023-02-23
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-5.9.3 - 2023-03-08
>> 
>> * Fixes ODataBindings imported types [Ot치vio Jacobi]
>> 
>> #### sbvr-types-3.5.0 - 2023-03-21
>> 
>> * Add Big Serial type [Josh Bowling]
>> 
>> #### sbvr-types-3.4.19 - 2022-12-08
>> 
>> * Flowzone: Allow external contributions [Josh Bowling]
>> 
> 
> </details>
> 
> 
> ### pinejs-14.63.0 - 2023-04-27
> 
> * Support returning a number from async migrations rather than db result [Pagan Gazzard]
> 

</details>

## 11.8.5 - 2023-05-17

* Optimize the unique release_version rule [Thodoris Greasidis]

## 11.8.4 - 2023-05-16

* Add device type yocto properties to typings [Ot치vio Jacobi]

## 11.8.3 - 2023-05-12

* Add partial index to optimize the unique release_version rule [Thodoris Greasidis]

## 11.8.2 - 2023-05-11

* Test that setting a failed release to be operating a device is blocked [Thodoris Greasidis]

## 11.8.1 - 2023-05-11

* Add `TRUST_PROXY` environment variable [Bart Versluijs]

## 11.8.0 - 2023-05-08

* Add optional LOGS_HOST env var for log-stream subdomain [Christina Ying Wang]

## 11.7.0 - 2023-05-05

* Add configurable validity Timeout for the Online heartbeat update cache [Thodoris Greasidis]

## 11.6.2 - 2023-05-05

* Don't delete the heartbeat expiry entry if updating the db failed [Pagan Gazzard]

## 11.6.1 - 2023-05-04

* Fix device heartbeat being stuck to offline when the DB update fails [Thodoris Greasidis]

## 11.6.0 - 2023-05-01


<details>
<summary> Update balena/open-balena-base Docker tag to v14.9.1 [Renovate Bot] </summary>

> ### open-balena-base-14.9.1 - 2023-05-01
> 
> * Update dependency npm to v9.6.5 [Renovate Bot]
> 
> ### open-balena-base-14.9.0 - 2023-05-01
> 
> * Update Node.js to v18.16.0 [Renovate Bot]
> 
> ### open-balena-base-14.8.1 - 2023-05-01
> 
> * lock to prevent concurrent config updates [ab77]
> 

</details>

## 11.5.7 - 2023-04-26

* Update grafana/loki Docker tag to v2.8.1 [Renovate Bot]

## 11.5.6 - 2023-04-26


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.62.9 - 2023-04-21
> 
> * Narrow the registered express HTTP methods [fisehara]
> 
> ### pinejs-14.62.8 - 2023-04-19
> 
> * Add test cases for native translations [Harald Fischer]
> 
> ### pinejs-14.62.7 - 2023-04-18
> 
> * Update select sql typing [Josh Bowling]
> 

</details>

## 11.5.5 - 2023-04-24

* Correct gpio example env var [Christina Wang]

## 11.5.4 - 2023-04-24

* device-logs: Reduce the memory operations on initial stream GET response [Thodoris Greasidis]

## 11.5.3 - 2023-04-24

* Add test for streaming read of device logs [Thodoris Greasidis]

## 11.5.2 - 2023-04-21

* Narrow registered http methods on forwardRequests [Harald Fischer]

## 11.5.1 - 2023-04-20

* Avoid device heartbeat updates when it's already in that state in Redis [Thodoris Greasidis]

## 11.5.0 - 2023-04-20

* chore(deps): update grafana/loki docker tag to v2.8.0 [Renovate Bot]

## 11.4.0 - 2023-04-20


<details>
<summary> chore(deps): update balena/open-balena-base docker tag to v14.8.0 [Renovate Bot] </summary>

> ### open-balena-base-14.8.0 - 2023-04-13
> 
> * Update dependency node to v18.16.0 [Renovate Bot]
> 
> ### open-balena-base-14.7.4 - 2023-04-05
> 
> * Update dependency npm to v9.6.4 [Renovate Bot]
> 
> ### open-balena-base-14.7.3 - Invalid date
> 
> * Update dependency npm to v9.6.3 [Renovate Bot]
> 

</details>

## 11.3.0 - 2023-04-20

* Reuse & export the helper that generates the config for device state GET [Thodoris Greasidis]

## 11.2.1 - 2023-04-20

* Combine checking write-log permission with uuid -> id resolution [Pagan Gazzard]
* Separate loki specific log context [Pagan Gazzard]

## 11.2.0 - 2023-04-19

* Add the device's stored `public_address` to the get-state event args [Pagan Gazzard]

## 11.1.1 - 2023-04-19

* Be more specific with `reqHasPermission` typing [Pagan Gazzard]

## 11.1.0 - 2023-04-19

* Include the ipAddress in 'get-state' event [Pagan Gazzard]

## 11.0.3 - 2023-04-19

* heartbeat: Reuse the poll interval from the State GET result [Thodoris Greasidis]

## 11.0.2 - 2023-04-18

* Avoid fetching the poll interval if it is not a device key request [Pagan Gazzard]

## 11.0.1 - 2023-04-17


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.62.6 - 2023-04-11
> 
> * Guard against translations aliasing to a field that does not exist [Pagan Gazzard]
> 
> ### pinejs-14.62.5 - 2023-03-23
> 
> * Fix resourceName to resourceName native translation [fisehara]
> 

</details>

## 11.0.0 - 2023-04-17

* Switch from uuids to device ids for the device-heartbeat mechanism [Pagan Gazzard]

## 10.8.5 - 2023-04-17

* Use a $any for filtering the device uuid when getting the poll interval [Pagan Gazzard]

## 10.8.4 - 2023-04-17

* Avoid unnecessarily fetching the var name when getting a poll interval [Pagan Gazzard]

## 10.8.3 - 2023-04-17

* Stop unnecessarily fetching `os_version` for state queries [Pagan Gazzard]

## 10.8.2 - 2023-04-17

* Remove unnecessary `$orderby`s in the state queries [Pagan Gazzard]

## 10.8.1 - 2023-04-12

* device-logs: Fix streaming suppressed logs warnings out of order [Thodoris Greasidis]

## 10.8.0 - 2023-04-07

* vars-schema: Add custom DTB support for Jetson Orin NX [Alexandru]

## 10.7.0 - 2023-04-06

* Add a cache for looking up api key roles [Pagan Gazzard]

## 10.6.2 - 2023-04-06

* Revert "Enforce that for a release to be marked "successful" all its images must have been successfully built" [Akis Kesoglou]

## 10.6.1 - 2023-04-06

* Enforce that for a release to be marked "successful" all its images must have been successfully built [Akis Kesoglou]

## 10.6.0 - 2023-03-30

* Track scheduled job runs in the model [Thodoris Greasidis]

## 10.5.2 - 2023-03-27

* Remove double await from test case [Thodoris Greasidis]

## 10.5.1 - 2023-03-23

* Update image install cache timeout to reflect that it is in seconds [Pagan Gazzard]

## 10.5.0 - 2023-03-22

* Update open-balena-base to 14.7.2 [Pagan Gazzard]

## 10.4.1 - 2023-03-16

* Optimize the app type web url support check to fix TS error [Thodoris Greasidis]
* Update TypeScript to 5.0.2 [Thodoris Greasidis]

## 10.4.0 - 2023-03-14

* Allow deleting applications when a device is running its release in another application [myarmolinsky]

## 10.3.1 - 2023-03-13

* Remodel `device` `is_running__release` to be informative reference type [myarmolinsky]

## 10.3.0 - 2023-03-10

* Use the graceful deny mechanism for device-logs [Pagan Gazzard]

## 10.2.0 - 2023-03-10

* Block proxy actions on frozen devices [Thodoris Greasidis]

## 10.1.0 - 2023-03-09

* Block deleting releases that are tracked by devices or apps [myarmolinsky]

## 10.0.0 - 2023-03-09

* Drop gateway_download and some other dependent devices remnants [Pagan Gazzard]

## 9.1.9 - 2023-03-09

* Use root permissions to resolve uuids for device logs write context [Pagan Gazzard]

## 9.1.8 - 2023-03-09

* Update cache key for `checkDeviceExistsIsFrozen` [Pagan Gazzard]

## 9.1.7 - 2023-03-09

* Extend `resolveOrGracefullyDenyDevices` to also check for frozen status [Pagan Gazzard]

## 9.1.6 - 2023-03-09

* Remove duplicate is_frozen check from service install insert permission [Thodoris Greasidis]

## 9.1.5 - 2023-03-09

* Remove duplicate is_frozen check on image install insert permission [Thodoris Greasidis]

## 9.1.4 - 2023-03-08

* Cache the entirety of the device logs write context [Pagan Gazzard]

## 9.1.3 - 2023-03-07

* Add a cache for checking logs write permissions [Pagan Gazzard]

## 9.1.2 - 2023-03-07

* Create a separate cloudlink device permission [Thodoris Greasidis]

## 9.1.1 - 2023-03-07

* Add a delay before repeating failed device state fetches [Pagan Gazzard]

## 9.1.0 - 2023-03-06

* Block device api key permissions of frozen devices [Thodoris Greasidis]

## 9.0.3 - 2023-03-06

* Use `crypto.randomUUID` for generating default device uuids [Pagan Gazzard]

## 9.0.2 - 2023-03-03

* Improve typings [Pagan Gazzard]

## 9.0.1 - 2023-03-02


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.62.4 - 2023-02-28
> 
> * Rollback async migration tx on failed async mgmt tx [fisehara]
> 
> ### pinejs-14.62.3 - 2023-02-27
> 
> * Fix `isAsyncMigration` to accept mixed fn and sql async migrations [Pagan Gazzard]
> 
> ### pinejs-14.62.2 - 2023-02-27
> 
> * Fix async migrator typings when mixing migrator fns and sql [Pagan Gazzard]
> 
> ### pinejs-14.62.1 - 2023-02-24
> 
> 
> <details>
> <summary> Update @balena/odata-parser to 2.4.6 [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.4.6 - 2023-02-24
>> 
>> * Improve typings [Pagan Gazzard]
>> 
>> #### odata-parser-2.4.5 - 2023-02-23
>> 
>> * Use const/let as appropriate [Pagan Gazzard]
>> 
>> #### odata-parser-2.4.4 - 2023-02-23
>> 
>> * Use shorthand object notation [Pagan Gazzard]
>> 
>> #### odata-parser-2.4.3 - 2023-02-23
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
> 
> </details>
> 
> 

</details>

## 9.0.0 - 2023-03-02

* Remove legacy logs_channel entries [Pagan Gazzard]

## 8.0.1 - 2023-03-02

* Skip deleting service installs for the app a device is moving to [Pagan Gazzard]

## 8.0.0 - 2023-02-28

* Remove dependent devices [Pagan Gazzard]

## 7.15.4 - 2023-02-27

* Tests dockerfile: Remove unnecessary `systemctl disable balena-api` [Pagan Gazzard]

## 7.15.3 - 2023-02-23


<details>
<summary> Update balena/open-balena-base Docker tag to v14.5.4 [Renovate Bot] </summary>

> ### open-balena-base-14.5.4 - 2023-02-22
> 
> * Update Node.js to v18.14.2 [Renovate Bot]
> 

</details>

## 7.15.2 - 2023-02-22


<details>
<summary> Update balena/open-balena-base Docker tag to v14.5.3 [Renovate Bot] </summary>

> ### open-balena-base-14.5.3 - 2023-02-22
> 
> * Update dependency npm to 9.5.1 [Renovate Bot]
> 

</details>

## 7.15.1 - 2023-02-22

* Rewrite multicontainer rule for better rule narrowing [Pagan Gazzard]

## 7.15.0 - 2023-02-21


<details>
<summary> Update balena/open-balena-base Docker tag to v14.5.2 [Renovate Bot] </summary>

> ### open-balena-base-14.5.2 - 2023-02-21
> 
> * Update dependency node to 18.14.2 [Renovate Bot]
> 

</details>


<details>
<summary> Update balena/open-balena-base Docker tag to v14.5.1 [Renovate Bot] </summary>

> ### open-balena-base-14.5.1 - 2023-02-20
> 
> * Update no-systemd nodejs to 18.14.1 [Page-]
> 
> ### open-balena-base-14.5.0 - 2023-02-17
> 
> * Update dependency npm to 9.5.0 [Renovate Bot]
> 
> ### open-balena-base-14.4.2 - 2023-02-16
> 
> * Update dependency node to 18.14.1 [Renovate Bot]
> 

</details>

## 7.14.0 - 2023-02-20

* Update pine with root narrowing [Carol Schulze]

## 7.13.4 - 2023-02-15

* Destructure hook args in the fn definition where possible [Pagan Gazzard]

## 7.13.3 - 2023-02-15

* Fix cpu_id reported either in lower / upper case [fisehara]

## 7.13.2 - 2023-02-10

* Allow public applications be of a legacy application type [Thodoris Greasidis]

## 7.13.1 - 2023-02-09

* Fixes fleet default state releaseUuid query parameter [Harald Fischer]

## 7.13.0 - 2023-02-07

* Default fleet state compatible to device state v3 [Harald Fischer]

## 7.12.1 - 2023-02-06

* Fix env-var schema for backwards compatibility [Felipe Lalanne]

## 7.12.0 - 2023-02-06

* Add configuration variables for HDMI port 1 [Felipe Lalanne]

## 7.11.0 - 2023-02-06

* Update engines entry to specify npm 9 [Pagan Gazzard]

## 7.10.0 - 2023-02-06

* Always apply device configuration filtering [Harald Fischer]

## 7.9.0 - 2023-02-04


<details>
<summary> Update balena/open-balena-base Docker tag to v14.4.1 [Renovate Bot] </summary>

> ### open-balena-base-14.4.1 - 2023-02-03
> 
> * Resolve some apt warnings by adding protection flags [Kyle Harding]
> * Clear the npm cache manually before running cache clear [Kyle Harding]
> 
> ### open-balena-base-14.4.0 - 2023-02-03
> 
> * Update nodejs to 18.14.0 and npm to 9.4.1 [Pagan Gazzard]
> 
> ### open-balena-base-14.3.0 - 2023-02-02
> 
> * Update dependency node to 18.14.0 [Renovate Bot]
> 

</details>

## 7.8.3 - 2023-02-03

* Listen for the correct message type when using sharded pub/sub [Pagan Gazzard]

## 7.8.2 - 2023-02-02

* Remove missed no longer needed Writable cast [Thodoris Greasidis]

## 7.8.1 - 2023-02-02

* Change auth.findUser to accept non-readonly arrays of user fiels [Thodoris Greasidis]
* Reduce "as Writable" casts with "satisfies" [Thodoris Greasidis]

## 7.8.0 - 2023-02-02

* Add support for sharded pub/sub for redis device logs [Pagan Gazzard]

## 7.7.5 - 2023-02-02

* Fix typo [Pagan Gazzard]

## 7.7.4 - 2023-02-02

* Allow state patches with no user app releases [Felipe Lalanne]

## 7.7.3 - 2023-02-01

* Update grafana/loki Docker tag to v2.7.3 [Renovate Bot]

## 7.7.2 - 2023-01-30


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.59.1 - 2023-01-26
> 
> * Remove duplicate stack trace logging [Pagan Gazzard]
> 
> ### pinejs-14.59.0 - 2023-01-25
> 
> * Introduce control means for async migration execution [fisehara]
> 
> ### pinejs-14.58.0 - 2023-01-25
> 
> * chore(deps): update node.js to v19 [Renovate Bot]
> 

</details>

## 7.7.1 - 2023-01-26

* Update grafana/loki Docker tag to v2.7.2 [Renovate Bot]

## 7.7.0 - 2023-01-25

* Update npm to 9.4.0 [Renovate Bot]

## 7.6.1 - 2023-01-25


<details>
<summary> Update dependencies [Thodoris Greasidis] </summary>

> ### pinejs-14.57.2 - 2023-01-25
> 
> * db: Make the base getTxLevelLock blocking by default [Thodoris Greasidis]
> 
> ### pinejs-14.57.1 - 2023-01-25
> 
> 
> <details>
> <summary> Update @balena/abstract-sql-compiler to 7.25.3 [Thodoris Greasidis] </summary>
> 
>> #### abstract-sql-compiler-7.25.3 - 2023-01-24
>> 
>> * Wrap Date & Duration operations with parenthesis when necessary [Thodoris Greasidis]
>> * Wrap composite math operations with parenthesis when necessary [Thodoris Greasidis]
>> 
>> #### abstract-sql-compiler-7.25.2 - 2023-01-24
>> 
>> * Tests: update @balena/odata-to-abstract-sql to 5.8 [Thodoris Greasidis]
>> 
>> #### abstract-sql-compiler-7.25.1 - 2023-01-23
>> 
>> * Change AggregateJSON to use `JSON_AGG` instead of `ARRAY_TO_JSON`+`ARRAY_AGG` [Pagan Gazzard]
>> 
> 
> </details>
> 
> 
> ### pinejs-14.57.0 - 2023-01-24
> 
> * Use postgres advisory locks for migration locking. [Harald Fischer]
> 
> ### pinejs-14.56.0 - 2023-01-23
> 
> * Update dependency @types/node to 18.11.18 [Renovate Bot]
> 
> ### pinejs-14.55.0 - 2023-01-23
> 
> * Update dependency commander to 10.0.0 [Renovate Bot]
> 
> ### pinejs-14.54.8 - 2023-01-23
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.25.0 - 2023-01-23
>> 
>> * Add `modifyFields`/`modifyName` to table definition [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.24.0 - 2023-01-16
>> 
>> * Add the AbstractSql node `Any` [Carol Schulze]
>> 
>> #### lf-to-abstract-sql-4.7.0 - 2022-12-14
>> 
>> * Empty commit to force a new version to be generated [Carol Schulze]
>> * Add an `lfInfo` entry in the results object [Carol Schulze]
>> 
>> #### odata-to-abstract-sql-5.8.0 - 2023-01-23
>> 
>> 
>> <details>
>> <summary> Respect `modifyFields`/`modifyName` in the table definition [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.25.0 - 2023-01-23
>>> 
>>> * Add `modifyFields`/`modifyName` to table definition [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.24.0 - 2023-01-16
>>> 
>>> * Add the AbstractSql node `Any` [Carol Schulze]
>>> 
>>> ##### abstract-sql-compiler-7.23.0 - 2022-12-08
>>> 
>>> * Add support for rules optimizations when using COUNT(*) = 0 [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.22.5 - 2022-12-08
>>> 
>>> * Flowzone: Allow external contributions [Josh Bowling]
>>> 
>>> ##### abstract-sql-compiler-7.22.4 - Invalid date
>>> 
>>> * Fix: move @balena/odata-to-abstract-sql to dev dependencies [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.22.3 - Invalid date
>>> 
>>> * Tests: update @balena/odata-to-abstract-sql to 5.x [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.22.2 - Invalid date
>>> 
>>> * Fix deprecation notice module name [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.22.1 - 2022-11-29
>>> 
>>> * Add deprecation notices to the legacy null formats of `null` and `'Null'` [Pagan Gazzard]
>>> * Add deprecation notice to the legacy table format of `tableName` [Pagan Gazzard]
>>> * Add deprecation notice to the legacy alias format of `[node, alias]` [Pagan Gazzard]
>>> 
>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-5.7.7 - 2023-01-23
>> 
>> * Always replace the table being modified in definitions, ignoring aliases [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.7.6 - 2023-01-20
>> 
>> * Integrate beta version of sbvr-types supporting WebResource [Ramiro Gonz치lez Maciel]
>> 
>> #### odata-to-abstract-sql-5.7.5 - 2023-01-16
>> 
>> * Integrate beta version of sbvr-types supporting WebResource [Ramiro Gonz치lez Maciel]
>> 
>> #### odata-to-abstract-sql-5.7.4 - 2023-01-10
>> 
>> * Tests: reduce lodash usage [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.7.3 - 2022-12-08
>> 
>> * Flowzone: Allow external contributions [Josh Bowling]
>> 
>> #### pinejs-client-js-6.12.3 - 2022-12-28
>> 
>> * CI: Convert tests to TypeScript [Josh Bowling]
>> 
> 
> </details>
> 
> 

</details>

## 7.6.0 - 2023-01-25

* Add a re-usable ThisShouldNeverHappenError helper [Thodoris Greasidis]

## 7.5.3 - 2023-01-17

* Use `authenticatedApiKey` middleware for device logs endpoints [Pagan Gazzard]

## 7.5.2 - 2023-01-17


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.54.7 - 2023-01-13
> 
> * Filter for `SideEffectHook`s before entering the async rollback loop [Pagan Gazzard]
> 
> ### pinejs-14.54.6 - 2023-01-12
> 
> * Handle symbols when proxying for constrained models [Pagan Gazzard]
> 
> ### pinejs-14.54.5 - 2023-01-11
> 
> * Prettified according to new rules [fisehara]
> 
> ### pinejs-14.54.4 - 2022-12-22
> 
> * Fix pre-commit husky hook [fisehara]
> 
> ### pinejs-14.54.3 - 2022-12-19
> 
> * Fix running linting as part of `npm test` [Pagan Gazzard]
> 
> ### pinejs-14.54.2 - 2022-12-19
> 
> * Simplify `checkApiKey` by moving checks out to more relevant places [Pagan Gazzard]
> 
> ### pinejs-14.54.1 - 2022-12-12
> 
> * Update debugging docs [Pagan Gazzard]
> 
> ### pinejs-14.54.0 - 2022-12-09
> 
> * Update postgres Docker tag to v15 [Renovate Bot]
> 

</details>

## 7.5.1 - 2023-01-17

* Include id in "image"."is a build of-service" index [Pagan Gazzard]

## 7.5.0 - 2023-01-09


<details>
<summary> Update balena/open-balena-base Docker tag to v14.2.0 [Renovate Bot] </summary>

> ### open-balena-base-14.2.0 - 2023-01-09
> 
> * Update to nodejs 18.13.0 [Pagan Gazzard]
> 

</details>

## 7.4.0 - 2023-01-03

* Use new authenticated middleware on some endpoints to require auth [Pagan Gazzard]
* Use authenticatedApiKey middleware on some endpoints that require one [Pagan Gazzard]

## 7.3.2 - 2023-01-02

* Remove dependent devices from state v2/v3, the permissions were removed in 6.0.0 [Pagan Gazzard]

## 7.3.1 - 2022-12-29

* Preserve comments in the generated output for JSDoc reasons [Pagan Gazzard]

## 7.3.0 - 2022-12-29

* Switch to a middleware for enforcing API key on /device/register [Pagan Gazzard]

## 7.2.1 - 2022-12-29

* Tests: fix composition typings/usage [Pagan Gazzard]

## 7.2.0 - 2022-12-27

* Update dependency @types/jsonwebtoken to 9.0.0 [Renovate Bot]

## 7.1.2 - 2022-12-27

* CI: Fix action config typos [Josh Bowling]

## 7.1.1 - 2022-12-23

* Update dependency libpg-query to 15.0.2 [Renovate Bot]

## 7.1.0 - 2022-12-23

* Update dependency jsonwebtoken to 9.0.0 [SECURITY] [Renovate Bot]

## 7.0.1 - 2022-12-23

* Update device/should_be_operated_by_release index to include device type [Pagan Gazzard]

## 7.0.0 - 2022-12-23

* Rename auth middleware for clarity reasons [Pagan Gazzard]

## 6.10.5 - 2022-12-23

* Unify API key handling across `retrieveAPIKey` and middleware [Pagan Gazzard]

## 6.10.4 - 2022-12-23

* Include the actor id for service api keys [Pagan Gazzard]
* Memoize the guest actor, avoiding unnecessary queries during start up [Pagan Gazzard]

## 6.10.3 - 2022-12-21

* Avoid calling `retrieveAPIKey` when possible in `getUser` [Pagan Gazzard]

## 6.10.2 - 2022-12-21

* Improve some typings [Pagan Gazzard]

## 6.10.1 - 2022-12-20

* Improve some typings [Pagan Gazzard]

## 6.10.0 - 2022-12-14

* Allow device API keys to delete their own device_tags [Thodoris Greasidis]

## 6.9.9 - 2022-12-14


<details>
<summary> Update balena/open-balena-base Docker tag to v14.1.4 [Renovate Bot] </summary>

> ### open-balena-base-14.1.4 - 2022-12-14
> 
> * no-systemd: Use official node base image [Kyle Harding]
> 

</details>

## 6.9.8 - 2022-12-13

* Fix the autogenerated constraint names [Thodoris Greasidis]

## 6.9.7 - 2022-12-11

* Update grafana/loki Docker tag to v2.7.1 [Renovate Bot]

## 6.9.6 - 2022-12-11


<details>
<summary> Update balena/open-balena-base Docker tag to v14.1.3 [Renovate Bot] </summary>

> ### open-balena-base-14.1.3 - 2022-12-08
> 
> * Update Flowzone workflow to support external contributions [Kyle Harding]
> * Build systemd variant for both amd64 and arm64 [Kyle Harding]
> 
> ### open-balena-base-14.1.2 - Invalid date
> 
> * Allow plain TLD certs without UUID [ab77]
> 
> ### open-balena-base-14.1.1 - 2022-11-29
> 
> * Correct public|private cert. check [ab77]
> 

</details>

## 6.9.5 - 2022-12-11

* CI: Replace pgsanity with libpg-query [Josh Bowling]

## 6.9.4 - 2022-12-09

* Update dependency sinon to 15.0.0 [Renovate Bot]

## 6.9.3 - 2022-12-09


<details>
<summary> Update @balena/pinejs to 14.53.6 [Harald Fischer] </summary>

> ### pinejs-14.53.6 - 2022-12-09
> 
> * Fix async migrations being able to stop unexpectedly in some failure cases [fisehara]
> 

</details>

## 6.9.2 - 2022-12-08


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.53.5 - 2022-12-08
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.23.0 - 2022-12-08
>> 
>> * Add support for rules optimizations when using COUNT(*) = 0 [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.22.5 - 2022-12-08
>> 
>> * Flowzone: Allow external contributions [Josh Bowling]
>> 
>> #### lf-to-abstract-sql-4.6.0 - 2022-12-08
>> 
>> * Switch UniversalQuantification from NOT EXISTS to COUNT(*) = 0 [Pagan Gazzard]
>> 
>> #### lf-to-abstract-sql-4.5.7 - 2022-12-08
>> 
>> * Flowzone: Allow external contributions [Josh Bowling]
>> 
> 
> </details>
> 
> 
> ### pinejs-14.53.4 - 2022-12-08
> 
> * Fix husky pre-commit script [Pagan Gazzard]
> 
> ### pinejs-14.53.3 - 2022-12-06
> 
> * Flowzone: Allow external contributions [Josh Bowling]
> 
> ### pinejs-14.53.2 - 2022-12-02
> 
> 
> <details>
> <summary> Update eventemitter to 5.x [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.22.4 - Invalid date
>> 
>> * Fix: move @balena/odata-to-abstract-sql to dev dependencies [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.22.3 - Invalid date
>> 
>> * Tests: update @balena/odata-to-abstract-sql to 5.x [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.22.2 - Invalid date
>> 
>> * Fix deprecation notice module name [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.22.1 - 2022-11-29
>> 
>> * Add deprecation notices to the legacy null formats of `null` and `'Null'` [Pagan Gazzard]
>> * Add deprecation notice to the legacy table format of `tableName` [Pagan Gazzard]
>> * Add deprecation notice to the legacy alias format of `[node, alias]` [Pagan Gazzard]
>> 
>> #### lf-to-abstract-sql-4.5.6 - 2022-11-29
>> 
>> * Stop using legacy/deprecated format for table aliases [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.7.2 - 2022-11-29
>> 
>> * Switch insert casts from using legacy `'Null'` to using a `['Null']` node [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.7.1 - 2022-11-25
>> 
>> * Remove package-lock.json [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.4.3 - 2022-11-24
>> 
>> * Update dependencies [fisehara]
>> 
>> #### sbvr-types-3.4.18 - 2022-11-25
>> 
>> * Tests: remove chai-as-promised [Pagan Gazzard]
>> * Tests: remove bluebird [Pagan Gazzard]
>> * Tests: remove lodash [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.17 - 2022-11-25
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.16 - 2022-11-25
>> 
>> * Switch from `new Buffer` to `Buffer.from` to avoid deprecation warnings [Pagan Gazzard]
>> 
> 
> </details>
> 
> 
> ### pinejs-14.53.1 - 2022-11-24
> 
> 
> <details>
> <summary> Update dependencies [fisehara] </summary>
> 
>> #### lf-to-abstract-sql-4.5.5 - 2022-11-17
>> 
>> * Update @balena/sbvr-parser from 1.4.1 to 1.4.2 [Josh Bowling]
>> 
>> #### lf-to-abstract-sql-4.5.4 - 2022-11-17
>> 
>> * Add .npmrc [Josh Bowling]
>> 
>> #### lf-to-abstract-sql-4.5.3 - 2022-11-17
>> 
>> * Bump dev dependencies [Josh Bowling]
>> 
>> #### lf-to-abstract-sql-4.5.2 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
>> #### odata-parser-2.4.2 - 2022-11-03
>> 
>> * Test that `/$count` works with a `$filter`containing an 'and' [Thodoris Greasidis]
>> 
>> #### odata-parser-2.4.1 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.4.2 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.15 - 2022-11-18
>> 
>> * Dev: Migrate husky setup for v8 [Josh Bowling]
>> 
>> #### sbvr-types-3.4.14 - 2022-11-17
>> 
>> * Update dependency mocha to 10.1.0 [Renovate Bot]
>> 
>> #### sbvr-types-3.4.13 - 2022-11-17
>> 
>> * Update dependency lint-staged to 13.0.3 [Renovate Bot]
>> 
>> #### sbvr-types-3.4.12 - 2022-11-17
>> 
>> * Update dependency husky to 8.0.2 [Renovate Bot]
>> 
>> #### sbvr-types-3.4.11 - 2022-11-17
>> 
>> * Dev: Add lint-fix npm script [Josh Bowling]
>> 
>> #### sbvr-types-3.4.10 - 2022-11-17
>> 
>> * Dev: Move type deps to dev [Josh Bowling]
>> 
>> #### sbvr-types-3.4.9 - 2022-11-17
>> 
>> * Add .npmrc [Josh Bowling]
>> 
>> #### sbvr-types-3.4.8 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
> 
> </details>
> 
> 

</details>

## 6.9.1 - 2022-12-07

* Flowzone: Allow external contributions [Josh Bowling]

## 6.9.0 - 2022-12-07

* Update dependency @types/uuid to 9.0.0 [Renovate Bot]

## 6.8.0 - 2022-12-06

* Add support for setting brotli window size [Pagan Gazzard]

## 6.7.1 - 2022-12-01

* Improve device service install permission [Thodoris Greasidis]

## 6.7.0 - 2022-12-01

* Make public apps & releases accessible by guests [Thodoris Greasidis]
* Test service install creation of SV app of different DT than the device [Thodoris Greasidis]

## 6.6.4 - 2022-11-30

* Remove name property from v3 state patch typing [Felipe Lalanne]

## 6.6.3 - 2022-11-30

* Remove TS node cache directory usage. [Harald Fischer]
* Disable changing device name via the state endpoint [Felipe Lalanne]

## 6.6.2 - 2022-11-30

* Fix whitespace/sql in release contract migration [Josh Bowling]

## 6.6.1 - 2022-11-29

* Simplify the device host & SV app permissions to rely only on is_public [Thodoris Greasidis]

## 6.6.0 - 2022-11-28

* Allow configuring gzip compression quality [Pagan Gazzard]

## 6.5.3 - 2022-11-25

* Finalize release contract async migration [Josh Bowling]

## 6.5.2 - 2022-11-25

* Migration: Normalize release contract fields [Josh Bowling]

## 6.5.1 - 2022-11-25

* Check the model typings as part of the sut [Thodoris Greasidis]

## 6.5.0 - 2022-11-24


<details>
<summary> Update balena/open-balena-base Docker tag to v14.1.0 [Renovate Bot] </summary>

> ### open-balena-base-14.1.0 - 2022-11-24
> 
> * Enable builds of no-systemd variant for arm64 [Kyle Harding]
> 
</details>

## 6.4.0 - 2022-11-24


<details>
<summary> Update dependencies [fisehara] </summary>

> ### pinejs-14.53.0 - 2022-11-24
> 
> 
> <details>
> <summary> Update dependencies [fisehara] </summary>
> 
>> #### abstract-sql-compiler-7.22.0 - 2022-11-23
>> 
>> * Fix date fields used inside arithmetic expressions [fisehara]
>> 
>> #### abstract-sql-to-typescript-1.3.0 - 2022-11-24
>> 
>> 
>> <details>
>> <summary> Update dependencies [fisehara] </summary>
>> 
>>> ##### odata-to-abstract-sql-5.7.0 - 2022-11-24
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [fisehara] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.22.0 - 2022-11-23
>>>> 
>>>> * Fix date fields used inside arithmetic expressions [fisehara]
>>>> 
>>>> ###### abstract-sql-compiler-7.21.1 - 2022-11-22
>>>> 
>>>> * Add support for getting the modified fields of an aliased query [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.6.2 - 2022-11-22
>>> 
>>> * Fix replacing an aliased resource select with bind vars for inserts [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.6.1 - 2022-11-22
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.6.0 - 2022-11-22
>>> 
>>> * Add an option to always use minimized aliases [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.5.1 - 2022-10-14
>>> 
>>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.5.0 - 2022-09-15
>>> 
>>> 
>>> <details>
>>> <summary> Add support for `/$count` with nested `$filter` in $orderby & $orderby [Thodoris Greasidis] </summary>
>>> 
>>>> ###### odata-parser-2.4.0 - 2022-09-15
>>>> 
>>>> * Add support for `/$count` with nested `$filter` in $orderby & $orderby [Thodoris Greasidis]
>>>> 
>>>> ###### odata-parser-2.3.0 - 2022-06-06
>>>> 
>>>> * Add source map [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.4.15 - 2022-07-26
>>> 
>>> * Stop using _.compact [Thodoris Greasidis]
>>> * Stop using _.isObject in favor of the native methods [Thodoris Greasidis]
>>> * Stop using Lodash's Dictionary type [Thodoris Greasidis]
>>> 
>>> ##### odata-to-abstract-sql-5.4.14 - 2022-06-25
>>> 
>>> * Avoid unnecessary loop when adding computed fields to `SELECT *` [Thodoris Greasidis]
>>> 
>>> ##### odata-to-abstract-sql-5.4.13 - 2022-06-03
>>> 
>>> * Use `SELECT *, $computedFields` for adding computed fields [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.12 - 2022-06-03
>>> 
>>> * Use nullish coalescing when sensible [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.11 - 2022-05-19
>>> 
>>> * Improve support for computed fields by respecting them in more places [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.10 - 2022-05-19
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.20.0 - 2022-05-19
>>>> 
>>>> * Expose `isAliasNode` helper [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.19.1 - 2022-04-08
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>>> 
>>>>> ####### sbvr-types-3.4.7 - 2022-04-08
>>>>> 
>>>>> * Update dependencies [Pagan Gazzard]
>>>>> * Remove circleci [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.4.6 - 2021-09-21
>>>>> 
>>>>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>>>>> 
>>>> </details>
>>>> 
>>>> 
>>> </details>
>>> 
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-to-typescript-1.2.6 - 2022-11-18
>> 
>> * Dev: Update pre-commit hook [Josh Bowling]
>> 
>> #### abstract-sql-to-typescript-1.2.5 - 2022-11-18
>> 
>> * Dev: Migrate husky setup for v8 [Josh Bowling]
>> 
>> #### abstract-sql-to-typescript-1.2.4 - 2022-11-17
>> 
>> * Update dependency mocha to 10.1.0 [Renovate Bot]
>> 
>> #### abstract-sql-to-typescript-1.2.3 - 2022-11-17
>> 
>> * Update dependency lint-staged to 13.0.3 [Renovate Bot]
>> 
>> #### abstract-sql-to-typescript-1.2.2 - 2022-11-17
>> 
>> * Update dependency husky to 8.0.2 [Renovate Bot]
>> 
>> #### abstract-sql-to-typescript-1.2.1 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.7.0 - 2022-11-24
>> 
>> 
>> <details>
>> <summary> Update dependencies [fisehara] </summary>
>> 
>>> ##### abstract-sql-compiler-7.22.0 - 2022-11-23
>>> 
>>> * Fix date fields used inside arithmetic expressions [fisehara]
>>> 
>>> ##### abstract-sql-compiler-7.21.1 - 2022-11-22
>>> 
>>> * Add support for getting the modified fields of an aliased query [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
> </details>
> 
> 
</details>

## 6.3.0 - 2022-11-24

* Update dependencies Update @balena/abstract-sql-compiler from 7.21.1 to 7.22.0 [fisehara]

## 6.2.0 - 2022-11-23

* Separate the image install cache and download progress throttle timers [Pagan Gazzard]

## 6.1.5 - 2022-11-23

* Update `loki-grpc-client` to version 2 [Thomas Manning]

## 6.1.4 - 2022-11-23

* Avoid some unnecessary work in device-heartbeat [Pagan Gazzard]

## 6.1.3 - 2022-11-23

* Fix device requests to gateway_download failing with 401 [Thodoris Greasidis]

## 6.1.2 - 2022-11-22


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.52.2 - 2022-11-22
> 
> 
> <details>
> <summary> Use minimized aliases when not in debug mode for smaller queries [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.21.1 - 2022-11-22
>> 
>> * Add support for getting the modified fields of an aliased query [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.6.2 - 2022-11-22
>> 
>> * Fix replacing an aliased resource select with bind vars for inserts [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.6.1 - 2022-11-22
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.6.0 - 2022-11-22
>> 
>> * Add an option to always use minimized aliases [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.5.1 - 2022-10-14
>> 
>> * Switch from balenaCI to flowzone [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.52.1 - 2022-11-20
> 
> * Update @balena/abstract-sql-compiler from 7.20.0 to 7.21.0 [Josh Bowling]
> 
</details>

## 6.1.1 - 2022-11-21

* Fix specifying brotli compression parameter [Pagan Gazzard]

## 6.1.0 - 2022-11-21

* Allow configuring brotli compression quality [Pagan Gazzard]

## 6.0.2 - 2022-11-18

* Improve check to only handle dependent devices when necessary [Pagan Gazzard]

## 6.0.1 - 2022-11-18

* Replace the deprecated $count notation [Thodoris Greasidis]

<details>
<summary> Update @balena/pinejs to 14.52.0 [Thodoris Greasidis] </summary>

> ### pinejs-14.52.0 - 2022-11-18
> 
> 
> <details>
> <summary> Support `$count: { $filter: {...} }` notation in $filter & $orderby [Thodoris Greasidis] </summary>
> 
>> #### pinejs-client-js-6.12.2 - 2022-11-18
>> 
>> * Fix `$orderby: { a: { $count: ... }, $dir: 'asc' }` typings [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.12.1 - 2022-11-15
>> 
>> * Update TypeScript to 4.9.3 [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.12.0 - 2022-11-10
>> 
>> * Deprecate the 'a/count' notation in $orderby [Thodoris Greasidis]
>> * Deprecate the $count: { $op: number } notation [Thodoris Greasidis]
>> * Add support for `$filter: { $op: [{ $count: {} }, number] }` notation [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.11.0 - 2022-11-09
>> 
>> * Deprecate non-$filter props inside `$expand: { a: { $count: {...}}}` [Thodoris Greasidis]
>> * Add support for `$orderby: { a: { $count: ... }, $dir: 'asc' }` notation [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.10.7 - 2022-11-07
>> 
>> * Refactor the deprecation message definitions [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.10.6 - 2022-11-01
>> 
>> * tests: Support `.only` & `.skip` in the higher level test functions [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.10.5 - 2022-10-14
>> 
>> * Flowzone: Use inherited secrets [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.10.4 - 2022-09-26
>> 
>> * Specify node 10 as the minimum supported node engine in the package.json [Thodoris Greasidis]
>> * Replace balenaCI with flowzone [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.10.3 - 2022-09-15
>> 
>> * Fix $count typings to only allow $filter under it [Thodoris Greasidis]
>> 
> </details>
> 
> 
> ### pinejs-14.51.8 - 2022-11-17
> 
> * Docs: Remove todo.txt [Josh Bowling]
> 
> ### pinejs-14.51.7 - 2022-11-16
> 
> * Docs: Update/fix project config doc [Josh Bowling]
> 
> ### pinejs-14.51.6 - 2022-11-16
> 
> * Docs: Update/fix getting started doc [Josh Bowling]
> 
> ### pinejs-14.51.5 - 2022-11-16
> 
> * Docs: Update/fix advanced usage doc [Josh Bowling]
> 
> ### pinejs-14.51.4 - 2022-11-15
> 
> * Update TypeScript to 4.9.3 [Thodoris Greasidis]
> 
> ### pinejs-14.51.3 - 2022-11-07
> 
> * Change docker-compose sut spin up for node version testing. [fisehara]
> 
> ### pinejs-14.51.2 - 2022-11-02
> 
> * Docs: Improve getting started doc [Josh Bowling]
> 
> ### pinejs-14.51.1 - 2022-11-01
> 
> * Docs: Fix TypeScript getting started example [Josh Bowling]
> 
</details>

## 6.0.0 - 2022-11-18

* Remove dependent device permissions [Pagan Gazzard]

## 5.3.6 - 2022-11-17

* Tests: pin redis to 7.x [Pagan Gazzard]

## 5.3.5 - 2022-11-16

* state-get-v2/v3: Do not count expired api key requests as heartbeats [Thodoris Greasidis]

## 5.3.4 - 2022-11-16

* test/fixtures: Convert to async-await to workaround TS 4.9.3 regression [Thodoris Greasidis]
* Rely on npm test for checking for diverged model types [Thodoris Greasidis]

## 5.3.3 - 2022-11-16

* Only fetch data if necessary for patching v3 current device state [Pagan Gazzard]

## 5.3.2 - 2022-11-15

* Update TypeScript to 4.9.3 [Thodoris Greasidis]

## 5.3.1 - 2022-11-15

* Add a test that auto-generated model types are up to date [Thodoris Greasidis]

## 5.3.0 - 2022-11-15

* Add a Synonymous Form for service & image installs [Thodoris Greasidis]

## 5.2.1 - 2022-11-15

* Mark loki-grpc-client as an optional dependency [Pagan Gazzard]

## 5.2.0 - 2022-11-11

* chore(deps): update grafana/loki docker tag to v2.7.0 [Renovate Bot]

## 5.1.0 - 2022-11-10

* vars-schema: Add custom DTB support for Jetson AGX Orin [Alexandru Costache]

## 5.0.3 - 2022-11-09

* Enable esModuleInterop to ease the transition to ES modules [Pagan Gazzard]

## 5.0.2 - 2022-11-09


<details>
<summary> chore(deps): update balena/open-balena-base docker tag to v14.0.1 [Renovate Bot] </summary>

> ### open-balena-base-14.0.1 - 2022-11-09
> 
> * Update nodejs to 18.12.1 [Pagan Gazzard]
> 
</details>

## 5.0.1 - 2022-11-07

* Remove chai-as-promised [Pagan Gazzard]
* fasttest: Stop syncing node_modules that have a native build step [Thodoris Greasidis]

## 5.0.0 - 2022-11-03

* Change the Fact Type for device & app config vars to `config var name` [Thodoris Greasidis]
* fasttest: Stop syncing node_modules/grpc to fix conflicting lib errors [Thodoris Greasidis]

## 4.10.0 - 2022-10-27

* Update open-balena-base to 14.0.0 [Pagan Gazzard]

## 4.9.1 - 2022-10-26

* Adding forked Express.js compression lib to support brotli compression [dsevastianov]

## 4.9.0 - 2022-10-25


<details>
<summary> Update balena/open-balena-base Docker tag to v13.6.1 [Renovate Bot] </summary>

> ### open-balena-base-13.6.1 - 2022-10-24
> 
> * Update nodejs to 18.18.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.6.0 - 2022-10-14
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.18.0 [Renovate Bot]
> 
> ### open-balena-base-13.5.3 - 2022-10-14
> 
> * Switch to Flowzone for CI/CD [Kyle Harding]
> 
</details>

## 4.8.1 - 2022-09-29

* Update dependency @types/mocha to 10.0.0 [Renovate Bot]

## 4.8.0 - 2022-09-29

* Update grafana/loki Docker tag to v2.6.1 [Renovate Bot]

## 4.7.2 - 2022-09-29


<details>
<summary> Update balena/open-balena-base Docker tag to v13.5.2 [Renovate Bot] </summary>

> ### open-balena-base-13.5.2 - 2022-09-26
> 
> * Update to nodejs 16.17.1 [Pagan Gazzard]
> 
</details>

## 4.7.1 - 2022-09-29

* Prevent unauthenticated requests from proceeding in token auth [dfunckt]

## 4.7.0 - 2022-09-28

* Introduce flowzone [fisehara]

## 4.6.0 - 2022-09-16


<details>
<summary> Update pinejs to support filtered $count inside $orderby [Thodoris Greasidis] </summary>

> ### pinejs-14.51.0 - 2022-09-16
> 
> * Update lodash typings [Thodoris Greasidis]
> 
> <details>
> <summary> Add support for `/$count` with nested `$filter` in $orderby & $orderby [Thodoris Greasidis] </summary>
> 
>> #### odata-parser-2.4.0 - 2022-09-15
>> 
>> * Add support for `/$count` with nested `$filter` in $orderby & $orderby [Thodoris Greasidis]
>> 
> </details>
> 
> 
</details>

## 4.5.0 - 2022-09-12


<details>
<summary> Update pinejs version for async migrator [Harald Fischer] </summary>

> ### pinejs-14.50.0 - 2022-09-09
> 
> * Add async migrator [Harald Fischer]
> 
> ### pinejs-14.49.6 - 2022-09-09
> 
> * Remove docker hub credentials from flow zone job Set docker_image explicitly to empty to skip push [Harald Fischer]
> 
> ### pinejs-14.49.5 - 2022-09-08
> 
> * Enable flowzone branch protection [Pagan Gazzard]
> 
> ### pinejs-14.49.4 - 2022-09-08
> 
> * Remove prepublishOnly lint step [Pagan Gazzard]
> 
> ### pinejs-14.49.3 - 2022-09-08
> 
> * Replace balena ci with flowzone [fisehara]
> 
</details>

## 4.4.0 - 2022-09-07

* vars-schema: Add custom DTB support for imx8mm-var-som [Alexandru Costache]

## 4.3.0 - 2022-09-05

* Update dependency uuid to 9.0.0 [Renovate Bot]

## 4.2.1 - 2022-09-02

* Update dependencies [Pagan Gazzard]

## 4.2.0 - 2022-08-30

* Add logs throttling when exceeding the `LOGS_WRITE_BUFFER_LIMIT` [Pagan Gazzard]

## 4.1.6 - 2022-08-26

* Remove unused `max` option from the global multi-level-memoizee typings [Pagan Gazzard]

## 4.1.5 - 2022-08-26

* Remove unused `max` option from the global multi-level-store typings [Pagan Gazzard]

## 4.1.4 - 2022-08-26

* Update TypeScript to v4.8 [Thodoris Greasidis]

## 4.1.3 - 2022-08-23

* vars-update-trigger: Fix 42P01 error when the affected envs are too many [Thodoris Greasidis]
* Add tests for supervisor notification after deleting variables [Thodoris Greasidis]

## 4.1.2 - 2022-08-22

* Use a windows+dev-only friendly husky install method [Pagan Gazzard]

## 4.1.1 - 2022-08-22


<details>
<summary> Update balena/open-balena-base Docker tag to v13.5.1 [Renovate Bot] </summary>

> ### open-balena-base-13.5.1 - 2022-08-22
> 
> * Update nodejs to 16.17.0 and npm to 8.18.0 [Pagan Gazzard]
> 
</details>

## 4.1.0 - 2022-08-22


<details>
<summary> Update balena/open-balena-base Docker tag to v13.5.0 [Renovate Bot] </summary>

> ### open-balena-base-13.5.0 - 2022-08-18
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.17.0 [Renovate Bot]
> 
</details>

## 4.0.3 - 2022-08-22

* Remove unnecessary CORS headers from non-OPTIONS requests [Pagan Gazzard]

## 4.0.2 - 2022-08-17

* Remove misleading date header removal for supervisor requests [Pagan Gazzard]

## 4.0.1 - 2022-08-16

* Remove more unnecessary headers for supervisor requests [Pagan Gazzard]

## 4.0.0 - 2022-08-15

* Use @balena/env-parsing for shared env var parsing behavior [Pagan Gazzard]

## 3.5.0 - 2022-08-10

* Allow trusted ips to make http connections with x-forwarded-proto [Pagan Gazzard]

## 3.4.1 - 2022-08-09

* Change forEach to for..of for truncateShortText [Christina Wang]

## 3.4.0 - 2022-08-05

* Truncate ip and mac addresses from Supervisor state patches [Harald Fischer]

## 3.3.14 - 2022-08-05

* Fix Husky hooks not being installed on fresh repo clones [Thodoris Greasidis]

## 3.3.13 - 2022-08-04

* Add caching for the trust proxy function when trusting by ip [Pagan Gazzard]

## 3.3.12 - 2022-08-02


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.48.0 - 2022-07-26
> 
> * Refactur checkModelExists to isModelNew [Harald Fischer]
> 
> ### pinejs-14.47.6 - 2022-07-26
> 
> * Fix synonyms iteration [Pagan Gazzard]
> 
> ### pinejs-14.47.5 - 2022-07-26
> 
> * Prefer for..of over forEach [Pagan Gazzard]
> 
> ### pinejs-14.47.4 - 2022-07-25
> 
> * Convert lodash flatMap/flatten to native versions [Pagan Gazzard]
> 
> ### pinejs-14.47.3 - 2022-07-25
> 
> * Convert lodash `isObject` usage to native versions [Pagan Gazzard]
> 
> ### pinejs-14.47.2 - 2022-07-21
> 
> * Narrow the scope of the permissions bypass for root permissions [Pagan Gazzard]
> 
> ### pinejs-14.47.1 - 2022-07-21
> 
> * Increase strictness of typings [Pagan Gazzard]
> 
> ### pinejs-14.47.0 - 2022-07-14
> 
> * Allow PRERESPOND hooks to modify the response [Pagan Gazzard]
> 
</details>

## 3.3.11 - 2022-08-02

* Optimize device logs in the case that loki is disabled [Pagan Gazzard]

## 3.3.10 - 2022-08-02

* Update tsconfig target to es2021 [Pagan Gazzard]

## 3.3.9 - 2022-07-28

* device-state: Optimize state PATCH v3's image retrieval pine requests [Thodoris Greasidis]

## 3.3.8 - 2022-07-26

* Prefer for..of over forEach [Pagan Gazzard]

## 3.3.7 - 2022-07-21

* Fix Husky not working after v4 to v8 update [Thodoris Greasidis]

## 3.3.6 - 2022-07-15

* Add an explicit flush for the logs read stream [Pagan Gazzard]

## 3.3.5 - 2022-07-15

* Explicitly enable compression for ndjson [Pagan Gazzard]

## 3.3.4 - 2022-07-15

* Update dependencies [Pagan Gazzard]

## 3.3.3 - 2022-07-15

* Remove an unnecessary `$select`ed field [Pagan Gazzard]

## 3.3.2 - 2022-07-12

* chore(deps): update dependency husky to 8.0.1 [Renovate Bot]

## 3.3.1 - 2022-07-12

* Update open-balena-base to 13.4.0 [Pagan Gazzard]

## 3.3.0 - 2022-07-11

* fix(deps): update dependency @sentry/node to 7.6.0 [Renovate Bot]

## 3.2.0 - 2022-07-11

* Add custom DTB support for the Variscite DART-MX8M device family [Thodoris Greasidis]

## 3.1.0 - 2022-07-08


<details>
<summary> Update @balena/pinejs to 14.46.1 [Thodoris Greasidis] </summary>

> ### pinejs-14.46.1 - 2022-07-08
> 
> 
> <details>
> <summary> Update @balena/odata-to-abstract-sql to 5.4.12 [Thodoris Greasidis] </summary>
> 
>> #### odata-to-abstract-sql-5.4.12 - 2022-06-03
>> 
>> * Use nullish coalescing when sensible [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 3.0.2 - 2022-07-07

* chore(deps): update dependency lint-staged to 13.0.3 [Renovate Bot]

## 3.0.1 - 2022-07-07


<details>
<summary> Update @balena/pinejs from 14.44.0 to 14.46.0 [Thodoris Greasidis] </summary>

> ### pinejs-14.46.0 - 2022-06-21
> 
> * Fix for passport.js update 0.6.0 [Harald Fischer]
> 
> ### pinejs-14.45.1 - 2022-06-08
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.3.0 - 2022-06-06
>> 
>> * Add source map [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.12 - 2022-06-03
>> 
>> * Use nullish coalescing when sensible [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.45.0 - 2022-06-03
> 
> * Generalisation and decouple migrator functions. Prepare for migration categories. [Harald Fischer]
> 
</details>

* fix(deps): update dependency passport to 0.6.0 [security] [Renovate Bot]

## 3.0.0 - 2022-07-04


<details>
<summary> auth: Require & use a transaction param in most methods [Thodoris Greasidis] </summary>

> ### pinejs-14.44.0 - Invalid date
> 
> * permissions: Add optional transaction param to user & api key methods [Thodoris Greasidis]
> 
> ### pinejs-14.43.6 - 2022-05-27
> 
> * Update typescript to 4.7 [Thodoris Greasidis]
> 
> ### pinejs-14.43.5 - 2022-05-20
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.20.0 - 2022-05-19
>> 
>> * Expose `isAliasNode` helper [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.11 - 2022-05-19
>> 
>> * Improve support for computed fields by respecting them in more places [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.10 - 2022-05-19
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.20.0 - 2022-05-19
>>> 
>>> * Expose `isAliasNode` helper [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.19.1 - 2022-04-08
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.4.7 - 2022-04-08
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Remove circleci [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.4.6 - 2021-09-21
>>>> 
>>>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>> </details>
>> 
>> 
> </details>
> 
> 
> ### pinejs-14.43.4 - 2022-05-18
> 
> * Only remove constrained aliases when they match the field name [Pagan Gazzard]
> 
> ### pinejs-14.43.3 - 2022-05-16
> 
> * Use the modern definition format for permission constrained definitions [Pagan Gazzard]
> 
> ### pinejs-14.43.2 - 2022-05-12
> 
> * Update to webpack 5 [Pagan Gazzard]
> 
> ### pinejs-14.43.1 - 2022-05-12
> 
> * Simplify check for read-only hooks [Pagan Gazzard]
> 
> ### pinejs-14.43.0 - 2022-04-28
> 
> * inital test framework for pinejs [Harald Fischer]
> 
> ### pinejs-14.42.2 - 2022-04-20
> 
> * Use the db engine from the existing request when getting affected ids [Pagan Gazzard]
> 
> ### pinejs-14.42.1 - 2022-04-20
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.19.1 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.4.7 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.4.6 - 2021-09-21
>>> 
>>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-to-typescript-1.2.0 - 2022-04-15
>> 
>> * Add support for reverse references using relationships info [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.1.2 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### odata-to-abstract-sql-5.4.9 - 2022-04-08
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.19.0 - 2022-03-24
>>>> 
>>>> * Remove .circleci/config.yml [Thodoris Greasidis]
>>>> * Add support for `ConcatenateWithSeparator` nodes [Thodoris Greasidis]
>>>> 
>>>> ###### abstract-sql-compiler-7.18.0 - 2022-02-16
>>>> 
>>>> * Add reference property type [Harald Fischer]
>>>> 
>>>> ###### abstract-sql-compiler-7.17.1 - 2022-01-24
>>>> 
>>>> * Avoid the operation type optimization for HAVING clauses [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.2.9 - 2022-04-08
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Remove circleci [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> * Remove circleci [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.8 - 2022-01-13
>>> 
>>> * Use the full alias for the prefix hash [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.7 - 2022-01-11
>>> 
>>> * Use a hash instead of random str when it's necessary to shorten aliases [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.6 - Invalid date
>>> 
>>> * Improve `ResourceFunction` typings [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.5 - 2021-11-26
>>> 
>>> * Fix `isBindReference` check for non-null non-object types [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.4 - 2021-09-07
>>> 
>>> * Convert tests to type checked javascript [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.3 - 2021-08-24
>>> 
>>> 
>>> <details>
>>> <summary> Add SBVR Date TIme Type to DateTrunc Wrapper JS Date format has only milliseconds precision, postgresql stores TIMESTAMPS with microseconds precission. Comparisions may fail, when giving millisecond JS dates but comparing on microseconds. [fisehara] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.13.4 - 2021-08-17
>>>> 
>>>> * Support for non postgres db engines [fisehara]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.3 - 2021-07-28
>>>> 
>>>> * Supprt date_trunc postgres date function for DateValue [fisehara]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.2 - 2021-07-26
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.1 - Invalid date
>>>> 
>>>> * Delete CODEOWNERS [Thodoris Greasidis]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.0 - 2021-05-18
>>>> 
>>>> * Add support for `CurrentTimestamp`/`CurrentDate` nodes [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.7 - 2021-05-18
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update sbvr-types to 3.4.3 [Thodoris Greasidis] </summary>
>>>> 
>>>>> ####### sbvr-types-3.4.3 - 2021-05-11
>>>>> 
>>>>> * Support boolean results from the db as well as integer [Pagan Gazzard]
>>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-7.12.6 - 2021-05-18
>>>> 
>>>> * Allow duration seconds to be nullable [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.5 - 2021-05-18
>>>> 
>>>> * Re-enable all tests [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.4 - 2021-05-04
>>>> 
>>>> * Revert "Remove now unnecessary hack for casting SERIAL types" [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.3 - 2021-05-03
>>>> 
>>>> * Remove now unnecessary hack for casting SERIAL types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.2 - 2021-03-22
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>>> 
>>>>> ####### sbvr-types-3.4.2 - 2021-03-22
>>>>> 
>>>>> * Update dev dependencies [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.4.1 - 2021-02-10
>>>>> 
>>>>> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.4.0 - 2021-02-08
>>>>> 
>>>>> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.3.0 - 2021-02-05
>>>>> 
>>>>> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
>>>>> 
>>>>> ####### sbvr-types-3.2.0 - 2021-01-29
>>>>> 
>>>>> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
>>>>> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
>>>>> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
>>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-7.12.1 - 2021-03-22
>>>> 
>>>> * Enable strict options by default and only disable specific ones [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.0 - 2021-03-05
>>>> 
>>>> * Enable narrowing down create/delete referenced fields for nested exists [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.11.0 - 2021-03-01
>>>> 
>>>> * Generalize/share the referenced fields code and cover more cases [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.2 - 2021-02-12
>>>> 
>>>> * Fix `getModifiedFields` for `UpsertQuery`s [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.1 - 2021-01-29
>>>> 
>>>> * Separate code relating to referenced fields out of the main file [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.0 - 2021-01-29
>>>> 
>>>> * Add an `action` property to modified fields of create/update/delete [Pagan Gazzard]
>>>> * Automatically add `ruleReferencedFields` to `SqlRule`s [Pagan Gazzard]
>>>> * Add a `getRuleReferencedFields` which is tailored for rules [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.9.1 - 2021-01-29
>>>> 
>>>> * Add test for optimizeSchema optimizing rules [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.9.0 - 2021-01-25
>>>> 
>>>> * Optimize the abstract sql of rules when running `optimizeSchema` [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.2 - 2021-01-15
>>>> 
>>>> * Fix schema optimizations when table and resource names are different [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.1 - 2021-01-04
>>>> 
>>>> * Convert some lodash usage to native equivalents [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.0 - 2021-01-01
>>>> 
>>>> * Optimize Is[Not]DistinctFrom and [Not]Exists for non-null values [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.7.0 - 2021-01-01
>>>> 
>>>> * Optimize EXISTS/NOT EXISTS for empty queries [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.6.0 - 2021-01-01
>>>> 
>>>> * Optimize away AND/ORs with false/true respectively [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.5.0 - 2021-01-01
>>>> 
>>>> * Optimize out booleans from AND/OR where possible [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.4.2 - Invalid date
>>> 
>>> * Delete CODEOWNERS [Thodoris Greasidis]
>>> 
>> </details>
>> 
>> 
>> #### lf-to-abstract-sql-4.5.1 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-parser-1.4.1 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>> </details>
>> 
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### odata-parser-2.2.9 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.9 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.19.0 - 2022-03-24
>>> 
>>> * Remove .circleci/config.yml [Thodoris Greasidis]
>>> * Add support for `ConcatenateWithSeparator` nodes [Thodoris Greasidis]
>>> 
>>> ##### abstract-sql-compiler-7.18.0 - 2022-02-16
>>> 
>>> * Add reference property type [Harald Fischer]
>>> 
>>> ##### abstract-sql-compiler-7.17.1 - 2022-01-24
>>> 
>>> * Avoid the operation type optimization for HAVING clauses [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.2.9 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>> </details>
>> 
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.10.2 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.4.1 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.7 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.42.0 - 2022-04-13
> 
> * Add an expiry date to 'api key' [Nitish Agarwal]
> 
> ### pinejs-14.41.2 - 2022-04-07
> 
> * Add link and npm package version badge [Harald Fischer]
> 
> ### pinejs-14.41.1 - 2022-04-01
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.10.1 - 2022-02-08
>> 
>> * Do not await the _request() result to allow enhanced promises downstream [Thodoris Greasidis]
>> 
> </details>
> 
> 
> ### pinejs-14.41.0 - 2022-03-24
> 
> 
> <details>
> <summary> Update dependencies [Thodoris Greasidis] </summary>
> 
>> #### abstract-sql-compiler-7.19.0 - 2022-03-24
>> 
>> * Remove .circleci/config.yml [Thodoris Greasidis]
>> * Add support for `ConcatenateWithSeparator` nodes [Thodoris Greasidis]
>> 
> </details>
> 
> 
> ### pinejs-14.40.2 - 2022-03-18
> 
> * Add logo and header to README [Lucian Buzzo]
> 
> ### pinejs-14.40.1 - 2022-03-18
> 
> * Fixed unneccessary @ts-expect-error + lint [Harald Fischer]
> 
> ### pinejs-14.40.0 - 2022-03-04
> 
> 
> <details>
> <summary> Update dependencies for referenceType [Harald Fischer] </summary>
> 
>> #### abstract-sql-compiler-7.18.0 - 2022-02-16
>> 
>> * Add reference property type [Harald Fischer]
>> 
>> #### lf-to-abstract-sql-4.5.0 - 2022-02-16
>> 
>> * Reference property type for informative references [Harald Fischer]
>> 
>> #### sbvr-parser-1.4.0 - 2022-02-16
>> 
>> * Addind ReferenceType [Harald Fischer]
>> 
> </details>
> 
> 
> ### pinejs-14.39.2 - 2022-03-04
> 
> * Remove circle.yml [Pagan Gazzard]
> 
</details>

## 2.0.1 - 2022-06-26


<details>
<summary> Update dependencies [Thodoris Greasidis] </summary>

> ### pinejs-14.43.5 - 2022-05-20
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.20.0 - 2022-05-19
>> 
>> * Expose `isAliasNode` helper [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.11 - 2022-05-19
>> 
>> * Improve support for computed fields by respecting them in more places [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.10 - 2022-05-19
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.20.0 - 2022-05-19
>>> 
>>> * Expose `isAliasNode` helper [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.19.1 - 2022-04-08
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.4.7 - 2022-04-08
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Remove circleci [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.4.6 - 2021-09-21
>>>> 
>>>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>> </details>
>> 
>> 
> </details>
> 
> 
> ### pinejs-14.43.4 - 2022-05-18
> 
> * Only remove constrained aliases when they match the field name [Pagan Gazzard]
> 
> ### pinejs-14.43.3 - 2022-05-16
> 
> * Use the modern definition format for permission constrained definitions [Pagan Gazzard]
> 
> ### pinejs-14.43.2 - 2022-05-12
> 
> * Update to webpack 5 [Pagan Gazzard]
> 
> ### pinejs-14.43.1 - 2022-05-12
> 
> * Simplify check for read-only hooks [Pagan Gazzard]
> 
> ### pinejs-14.43.0 - 2022-04-28
> 
> * inital test framework for pinejs [Harald Fischer]
> 
</details>

## 2.0.0 - 2022-06-17

* Update sinon from 13.0.2 to 14.0.0 [Renovate Bot]

## 1.0.0 - 2022-06-16

* Update mocha from 9.2.2 to 10.0.0 [Renovate Bot]

## 0.209.2 - 2022-06-16

* Add a cleanup npm script to remove all runtime caches [Thodoris Greasidis]

## 0.209.1 - 2022-06-16

* repo.yml: Use module names that match renovate's depName [Thodoris Greasidis]

## 0.209.0 - 2022-06-14

* auth: Limit password length to 64 characters [Thodoris Greasidis]

## 0.208.6 - 2022-06-14

* Update cache-manager from 3.6.1 to 4.0.1 [Renovate Bot]

## 0.208.5 - 2022-06-14

* Update balena/open-balena-base from v13.3.1 to v13.3.2 [Renovate Bot]

## 0.208.4 - 2022-06-13

* Update @types/node-schedule from 1.3.2 to 2.1.0 [Renovate Bot]

## 0.208.3 - 2022-06-13

* Add test for the release update progress [Thodoris Greasidis]

## 0.208.2 - 2022-06-06

* patch: Bump semver-regex from 3.1.3 to 3.1.4 [dependabot[bot]]

## 0.208.1 - 2022-06-03

* balena.sbvr: Note that release.release_version is deprecated [Thodoris Greasidis]

## 0.208.0 - 2022-06-01

* Add release phase to the model [Thodoris Greasidis]

## 0.207.9 - 2022-05-31

* Sort some sbvr terms alphabetically [Thodoris Greasidis]

## 0.207.8 - 2022-05-26

* Add provisioning key expiry date to generic api key endpoint [Nitish Agarwal]

## 0.207.7 - 2022-05-25

* Update TypeScript to v4.7 [Thodoris Greasidis]

## 0.207.6 - 2022-05-24

* Re-generate the model types to include reverse navigation resources [Thodoris Greasidis]
* Optimize the release resolution in state v2 PATCH endpoint [Thodoris Greasidis]

## 0.207.5 - 2022-05-06

* Change the device type local cache timeout to 5 minutes [Thodoris Greasidis]
* Invalidate the device type JSONs cache when a new hostApp is created [Thodoris Greasidis]
* mutli-level-memoizee: Support different preFetch per cache [Thodoris Greasidis]

## 0.207.4 - 2022-05-05


<details>
<summary> Update open-balena-base to 13.3.1 [Pagan Gazzard] </summary>

> ### open-balena-base-13.3.1 - 2022-05-05
> 
> * Add SystemMaxUse for journald.conf [Pagan Gazzard]
> 
</details>

## 0.207.3 - 2022-05-03


<details>
<summary> Update open-balena-base to 13.3.0 [Pagan Gazzard] </summary>

> ### open-balena-base-13.3.0 - 2022-05-02
> 
> * Update nodejs to 16.15.0 and npm to 8.8.0 [Pagan Gazzard]
> 
</details>

## 0.207.2 - 2022-04-29

* Optimize missing service-install detection for large fleets [Thodoris Greasidis]

## 0.207.1 - 2022-04-29

* Fix early exist check on service install creation from application PATCH [Thodoris Greasidis]

## 0.207.0 - 2022-04-28

* Add optional expiration date on api keys [Nitish Agarwal]

## 0.206.6 - 2022-04-28

* env-vars: Add a validation pattern for the BALENA_HOST_SPLASH_IMAGE [Thodoris Greasidis]
* env-vars: Remove the invalid default value for BALENA_HOST_SPLASH_IMAGE [Thodoris Greasidis]

## 0.206.5 - 2022-04-26


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.42.2 - 2022-04-20
> 
> * Use the db engine from the existing request when getting affected ids [Pagan Gazzard]
> 
> ### pinejs-14.42.1 - 2022-04-20
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.19.1 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.4.7 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.4.6 - 2021-09-21
>>> 
>>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-to-typescript-1.2.0 - 2022-04-15
>> 
>> * Add support for reverse references using relationships info [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.1.2 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### odata-to-abstract-sql-5.4.9 - 2022-04-08
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.19.0 - 2022-03-24
>>>> 
>>>> * Remove .circleci/config.yml [Thodoris Greasidis]
>>>> * Add support for `ConcatenateWithSeparator` nodes [Thodoris Greasidis]
>>>> 
>>>> ###### abstract-sql-compiler-7.18.0 - 2022-02-16
>>>> 
>>>> * Add reference property type [Harald Fischer]
>>>> 
>>>> ###### abstract-sql-compiler-7.17.1 - 2022-01-24
>>>> 
>>>> * Avoid the operation type optimization for HAVING clauses [Pagan Gazzard]
>>>> 
>>>> ###### odata-parser-2.2.9 - 2022-04-08
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Remove circleci [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> * Remove circleci [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.8 - 2022-01-13
>>> 
>>> * Use the full alias for the prefix hash [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.7 - 2022-01-11
>>> 
>>> * Use a hash instead of random str when it's necessary to shorten aliases [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.6 - Invalid date
>>> 
>>> * Improve `ResourceFunction` typings [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.5 - 2021-11-26
>>> 
>>> * Fix `isBindReference` check for non-null non-object types [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.4 - 2021-09-07
>>> 
>>> * Convert tests to type checked javascript [Pagan Gazzard]
>>> 
>>> ##### odata-to-abstract-sql-5.4.3 - 2021-08-24
>>> 
>>> 
>>> <details>
>>> <summary> Add SBVR Date TIme Type to DateTrunc Wrapper JS Date format has only milliseconds precision, postgresql stores TIMESTAMPS with microseconds precission. Comparisions may fail, when giving millisecond JS dates but comparing on microseconds. [fisehara] </summary>
>>> 
>>>> ###### abstract-sql-compiler-7.13.4 - 2021-08-17
>>>> 
>>>> * Support for non postgres db engines [fisehara]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.3 - 2021-07-28
>>>> 
>>>> * Supprt date_trunc postgres date function for DateValue [fisehara]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.2 - 2021-07-26
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.1 - Invalid date
>>>> 
>>>> * Delete CODEOWNERS [Thodoris Greasidis]
>>>> 
>>>> ###### abstract-sql-compiler-7.13.0 - 2021-05-18
>>>> 
>>>> * Add support for `CurrentTimestamp`/`CurrentDate` nodes [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.7 - 2021-05-18
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update sbvr-types to 3.4.3 [Thodoris Greasidis] </summary>
>>>> 
>>>>> ####### sbvr-types-3.4.3 - 2021-05-11
>>>>> 
>>>>> * Support boolean results from the db as well as integer [Pagan Gazzard]
>>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-7.12.6 - 2021-05-18
>>>> 
>>>> * Allow duration seconds to be nullable [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.5 - 2021-05-18
>>>> 
>>>> * Re-enable all tests [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.4 - 2021-05-04
>>>> 
>>>> * Revert "Remove now unnecessary hack for casting SERIAL types" [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.3 - 2021-05-03
>>>> 
>>>> * Remove now unnecessary hack for casting SERIAL types [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.2 - 2021-03-22
>>>> 
>>>> 
>>>> <details>
>>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>>> 
>>>>> ####### sbvr-types-3.4.2 - 2021-03-22
>>>>> 
>>>>> * Update dev dependencies [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.4.1 - 2021-02-10
>>>>> 
>>>>> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.4.0 - 2021-02-08
>>>>> 
>>>>> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
>>>>> 
>>>>> ####### sbvr-types-3.3.0 - 2021-02-05
>>>>> 
>>>>> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
>>>>> 
>>>>> ####### sbvr-types-3.2.0 - 2021-01-29
>>>>> 
>>>>> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
>>>>> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
>>>>> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
>>>>> 
>>>> </details>
>>>> 
>>>> 
>>>> ###### abstract-sql-compiler-7.12.1 - 2021-03-22
>>>> 
>>>> * Enable strict options by default and only disable specific ones [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.12.0 - 2021-03-05
>>>> 
>>>> * Enable narrowing down create/delete referenced fields for nested exists [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.11.0 - 2021-03-01
>>>> 
>>>> * Generalize/share the referenced fields code and cover more cases [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.2 - 2021-02-12
>>>> 
>>>> * Fix `getModifiedFields` for `UpsertQuery`s [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.1 - 2021-01-29
>>>> 
>>>> * Separate code relating to referenced fields out of the main file [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.10.0 - 2021-01-29
>>>> 
>>>> * Add an `action` property to modified fields of create/update/delete [Pagan Gazzard]
>>>> * Automatically add `ruleReferencedFields` to `SqlRule`s [Pagan Gazzard]
>>>> * Add a `getRuleReferencedFields` which is tailored for rules [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.9.1 - 2021-01-29
>>>> 
>>>> * Add test for optimizeSchema optimizing rules [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.9.0 - 2021-01-25
>>>> 
>>>> * Optimize the abstract sql of rules when running `optimizeSchema` [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.2 - 2021-01-15
>>>> 
>>>> * Fix schema optimizations when table and resource names are different [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.1 - 2021-01-04
>>>> 
>>>> * Convert some lodash usage to native equivalents [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.8.0 - 2021-01-01
>>>> 
>>>> * Optimize Is[Not]DistinctFrom and [Not]Exists for non-null values [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.7.0 - 2021-01-01
>>>> 
>>>> * Optimize EXISTS/NOT EXISTS for empty queries [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.6.0 - 2021-01-01
>>>> 
>>>> * Optimize away AND/ORs with false/true respectively [Pagan Gazzard]
>>>> 
>>>> ###### abstract-sql-compiler-7.5.0 - 2021-01-01
>>>> 
>>>> * Optimize out booleans from AND/OR where possible [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### odata-to-abstract-sql-5.4.2 - Invalid date
>>> 
>>> * Delete CODEOWNERS [Thodoris Greasidis]
>>> 
>> </details>
>> 
>> 
>> #### lf-to-abstract-sql-4.5.1 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-parser-1.4.1 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>> </details>
>> 
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### odata-parser-2.2.9 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.9 - 2022-04-08
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.19.0 - 2022-03-24
>>> 
>>> * Remove .circleci/config.yml [Thodoris Greasidis]
>>> * Add support for `ConcatenateWithSeparator` nodes [Thodoris Greasidis]
>>> 
>>> ##### abstract-sql-compiler-7.18.0 - 2022-02-16
>>> 
>>> * Add reference property type [Harald Fischer]
>>> 
>>> ##### abstract-sql-compiler-7.17.1 - 2022-01-24
>>> 
>>> * Avoid the operation type optimization for HAVING clauses [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.2.9 - 2022-04-08
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> * Remove circleci [Pagan Gazzard]
>>> 
>> </details>
>> 
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.10.2 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.4.1 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.7 - 2022-04-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> * Remove circleci [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.42.0 - 2022-04-13
> 
> * Add an expiry date to 'api key' [Nitish Agarwal]
> 
> ### pinejs-14.41.2 - 2022-04-07
> 
> * Add link and npm package version badge [Harald Fischer]
> 
</details>

## 0.206.4 - 2022-04-26

* Increase device cache timeout to 1 hour [Pagan Gazzard]
* Use a multi-level cache for device types info [Pagan Gazzard]

## 0.206.3 - 2022-04-26

* Use a shared cache for the device type json [Pagan Gazzard]

## 0.206.2 - 2022-04-21

* Move some state-patch-v2 preprocessing out of the transaction [Pagan Gazzard]

## 0.206.1 - 2022-04-21

* Look up the release id in advance of starting the write transaction [Pagan Gazzard]

## 0.206.0 - 2022-04-19

* Consider devices with heartbeats to be out of the pre-provisioning state [Thodoris Greasidis]

## 0.205.2 - 2022-04-19

* Only cache the device id for `checkDeviceExists` rather than an object [Pagan Gazzard]

## 0.205.1 - 2022-04-18

* Clear the device existence cache entry when registering a device [Pagan Gazzard]
* Correctly cache devices that have been deleted [Pagan Gazzard]

## 0.205.0 - 2022-04-15

* Add an early check to quickly deny deleted devices access to the VPN [Pagan Gazzard]

## 0.204.1 - 2022-04-08

* Update open-balena-base to 13.2.3 Update open-balena-base from 13.2.1 to 13.2.3 [ab77]

## 0.204.0 - 2022-04-08

* Add release variant & support all valid semver values in releases [Thodoris Greasidis]

## 0.203.1 - 2022-04-06


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### node-metrics-gatherer-6.0.1 - 2022-04-06
> 
> * Add missing await [Josh Bowling]
> 
</details>

## 0.203.0 - 2022-04-05

* Update dependencies [Pagan Gazzard]

## 0.202.5 - 2022-04-05

* Avoid deprecated `req.param` calls for downloading device config [Pagan Gazzard]

## 0.202.4 - 2022-04-05

* Fix hiding unversioned endpoint [Pagan Gazzard]

## 0.202.3 - 2022-04-04

* Fix lua syntax [Pagan Gazzard]

## 0.202.2 - 2022-04-01

* Optimize check for active subscribers [Pagan Gazzard]

## 0.202.1 - 2022-03-31

* Ensure `subscriptionHeartbeats` is initialized [Pagan Gazzard]
* Lazy load device backends [Pagan Gazzard]

## 0.202.0 - 2022-03-31

* Only publish logs to redis subscribers if there are any [Pagan Gazzard]

## 0.201.2 - 2022-03-28

* Bump minimist from 1.2.5 to 1.2.6 [dependabot[bot]]

## 0.201.1 - 2022-03-28

* Allow configuring some log storage settings [Pagan Gazzard]

## 0.201.0 - 2022-03-24

* Switch from raven to @sentry/node for error reporting [Pagan Gazzard]

## 0.200.0 - 2022-03-24

* Add support for using a redis cluster for device logs [Pagan Gazzard]
* Use a hash tag for redis logs keys [Pagan Gazzard]

## 0.199.0 - 2022-03-23

* Add v3 state-patch endpoint [Pagan Gazzard]

## 0.198.0 - 2022-03-23

* Add v3 state-get endpoint [Pagan Gazzard]

## 0.197.5 - 2022-03-23

* Use our standard redis options for the multi-level-store [Pagan Gazzard]

## 0.197.4 - 2022-03-22

* CircleCI: Use small instances (we only need 1 core) [Pagan Gazzard]

## 0.197.3 - 2022-03-22

* Remove unused redis port vars [Pagan Gazzard]

## 0.197.2 - 2022-03-21


<details>
<summary> Update open-balena-base to 13.2.1 [Pagan Gazzard] </summary>

> ### open-balena-base-13.2.1 - 2022-03-21
> 
> * Update nodejs to 16.14.2 and npm to 8.5.5 [Pagan Gazzard]
> 
> ### open-balena-base-13.2.0 - 2022-02-22
> 
> * Consistent SENTRY environment names [ab77]
> 
</details>

## 0.197.1 - 2022-03-15

* Fix random name generator [Chris Crocker-White]

## 0.197.0 - 2022-03-14

* Add default name and description for new keys (also backfill for existing provisioning keys) [Nitish Agarwal]

## 0.196.1 - 2022-03-14

* patch: Update configuration variable descriptions [Vipul Gupta (@vipulgupta2048)]

## 0.196.0 - 2022-03-11

* registry: Only resolve releases with one service [Kyle Harding]
* registry: Enable auth requests to resolve scope aliases [Kyle Harding]

## 0.195.2 - 2022-03-11

* Refactor release versioning tests to be less release_version focused [Thodoris Greasidis]

## 0.195.1 - 2022-03-08

* Ensure the device logs buffer cannot be larger than the retention limit [Pagan Gazzard]

## 0.195.0 - 2022-03-04

* Only accept redis host vars in `${host}:${port}` pairs [Pagan Gazzard]

## 0.194.2 - 2022-03-04

* Also support a single `${host}:${port}` var for `REDIS_LOGS_RO_HOST` [Pagan Gazzard]

## 0.194.1 - 2022-03-03

* Allow specifying redis hosts as a single `${host}:${port}` var [Pagan Gazzard]

## 0.194.0 - 2022-03-03

* Drop support for legacy reporting single vpn client connect/disconnects [Pagan Gazzard]

## 0.193.5 - 2022-03-01

* Add missing awaits [Pagan Gazzard]

## 0.193.4 - 2022-03-01

* Remove unused binding [Pagan Gazzard]

## 0.193.3 - 2022-03-01

* Update dependencies [Pagan Gazzard]

## 0.193.2 - 2022-03-01

* Ensure at least one device is being updated for batch vpn updates [Pagan Gazzard]

## 0.193.1 - 2022-03-01

* Add support for reporting multiple connecting/disconnecting VPN clients [Pagan Gazzard]

## 0.193.0 - 2022-02-25

* Ignore reported vpn_address [Pagan Gazzard]

## 0.192.6 - 2022-02-25

* Update dependencies [Pagan Gazzard]

## 0.192.5 - 2022-02-25

* Make `virtual_address` optional for `/services/vpn/client-connect` [Pagan Gazzard]

## 0.192.4 - 2022-02-21

* Fix generate-model-schema npm script for npm v8 [Thodoris Greasidis]

## 0.192.3 - 2022-02-21


<details>
<summary> Update open-balena-base to 13.1.0 [Pagan Gazzard] </summary>

> ### open-balena-base-13.1.0 - 2022-02-21
> 
> * Update nodejs to 16.14.0 and npm to 8.5.1 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.7 - 2022-02-16
> 
> * Avoid cryptic names and rename bcr to registry-proxy [Kyle Harding]
> 
> ### open-balena-base-13.0.6 - 2022-02-15
> 
> * Add new balena container registry (bcr) host [Kyle Harding]
> 
> ### open-balena-base-13.0.5 - 2022-02-01
> 
> * Refactor ROOT_CA handling/resolution [ab77]
> 
</details>

## 0.192.2 - 2022-02-21

* device-provisioning: Report conflict errors [Thodoris Greasidis]

## 0.192.1 - 2022-02-21

* Handle missing img install statuses in device state reporting [Pagan Gazzard]

## 0.192.0 - 2022-02-16

* target-hostapp: Fix getOSReleaseResource parameter type [Thodoris Greasidis]
* Stop accepting the application&device device_type POST parameter [Thodoris Greasidis]

## 0.191.1 - 2022-02-15

* Drop resin-token & temp from dev dependencies [Thodoris Greasidis]

## 0.191.0 - 2022-02-11

* Support generating named device keys. [Nitish Agarwal]

## 0.190.0 - 2022-02-10

* add database name env variable [GoodOldJack12]

## 0.189.4 - 2022-02-09


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.39.1 - 2022-02-08
> 
> * Use native version of Bluebird.using [Pagan Gazzard]
> * Use native version of Bluebird.try [Pagan Gazzard]
> * Use native version of Bluebird.timeout [Pagan Gazzard]
> * Use native version of Bluebird.fromCallback [Pagan Gazzard]
> * Use native version of Bluebird.delay [Pagan Gazzard]
> * Use native version of Bluebird.mapSeries [Pagan Gazzard]
> 
> ### pinejs-14.39.0 - 2022-02-07
> 
> * Add the ability to set the maxLifetimeSeconds for the postgres pool [Pagan Gazzard]
> 
> ### pinejs-14.38.3 - 2022-02-07
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.17.1 - 2022-01-24
>> 
>> * Avoid the operation type optimization for HAVING clauses [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.10.0 - 2022-01-24
>> 
>> * Add optional retry logic to client [Paul Jonathan Zoulin]
>> 
> </details>
> 
> 
</details>

## 0.189.3 - 2022-02-07

* Return the ratelimiting key used from the ratelimit middleware [Pagan Gazzard]
* Stop using the v5 app's & device's device_type property internally [Thodoris Greasidis]

## 0.189.2 - 2022-02-04

* Remove unnecessary import [Pagan Gazzard]

## 0.189.1 - 2022-02-01

* registry: Optimize the image read access query [Thodoris Greasidis]

## 0.189.0 - 2022-01-31

* Re-throw the original error on unrecognized ratelimiting consume errors [Pagan Gazzard]

## 0.188.11 - 2022-01-31

* Add `penalty` method to created rate limiters [Pagan Gazzard]

## 0.188.10 - 2022-01-25

* Improve state-patch-v2 typings [Pagan Gazzard]

## 0.188.9 - 2022-01-25

* Improve state-patch typings [Pagan Gazzard]
* Move generic state-patch code to state-patch-utils [Pagan Gazzard]
* Move generic state-get code to state-get-utils [Pagan Gazzard]
* Separate state-patch and state-get utils [Pagan Gazzard]

## 0.188.8 - 2022-01-24


<details>
<summary> Update PineJS [Akis Kesoglou] </summary>

> ### pinejs-14.38.2 - 2022-01-24
> 
> * Fix permissions using `canAccess` that would fail if target resource specified no filter [Akis Kesoglou]
> 
</details>

## 0.188.7 - 2022-01-21

* Test that /device/register sets the target hostApp [Thodoris Greasidis]
* Fix hostApp release linking on /device/register endpoint [Bart Versluijs]

## 0.188.6 - 2022-01-21

* Fix hostApp release linking on /device/register endpoint [Bart Versluijs]

## 0.188.5 - 2022-01-21

* Remove 'balena-root-ca.service' dependency [Bart Versluijs]

## 0.188.4 - 2022-01-20

* Fix supervisor & hostApp being set on device outside of the transaction [Thodoris Greasidis]

## 0.188.3 - 2022-01-20


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.38.1 - 2022-01-14
> 
> * Improve typings of databaseOptions parameter [Pagan Gazzard]
> 
> ### pinejs-14.38.0 - 2022-01-14
> 
> * Add the ability to set the maxUses for the postgres pool [Pagan Gazzard]
> 
> ### pinejs-14.37.2 - 2022-01-13
> 
> * Update @balena/odata-to-abstract-sql to 5.4.8 [Pagan Gazzard]
> 
> ### pinejs-14.37.1 - 2022-01-11
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 0.188.2 - 2022-01-20

* Use the config module instead of direct process.env access [Pagan Gazzard]

## 0.188.1 - 2022-01-20

* target-hostapp: Inline the hook definitions to increase readability [Thodoris Greasidis]

## 0.188.0 - 2022-01-19

* Add a more generic mechanism for default state config variables [Pagan Gazzard]

## 0.187.2 - 2022-01-13


<details>
<summary> Update open-balena-base to 13.0.4 [Pagan Gazzard] </summary>

> ### open-balena-base-13.0.4 - 2022-01-11
> 
> * Update to nodejs 16.13.2 and npm 8.3.0 [Pagan Gazzard]
> 
</details>

## 0.187.1 - 2022-01-11

* Add missing `private` property to the DeviceTypeJson type [Thodoris Greasidis]

## 0.187.0 - 2022-01-11

* Stop relying on the @resin.io/device-types module [Thodoris Greasidis]
* Rely only on the model for resolving device type aliases [Thodoris Greasidis]

## 0.186.0 - 2022-01-11

* Rename the exported DeviceType type to DeviceTypeJson [Thodoris Greasidis]
* Rename deviceTypes.getDeviceTypeIdBySlug() to getDeviceTypeBySlug() [Thodoris Greasidis]

## 0.185.1 - 2022-01-10

* features/device-types: Remove the special case for the "edge" DT [Thodoris Greasidis]

## 0.185.0 - 2022-01-07

* Add device type aliases as part of the model & sync from contracts [Thodoris Greasidis]

## 0.184.1 - 2022-01-07

* Add a fasttest-stop npm script that stops the fasttest containers [Thodoris Greasidis]

## 0.184.0 - 2022-01-06

* Only grant access to user info when necessary for resolving public keys [Pagan Gazzard]

## 0.183.0 - 2022-01-04

* Add date header to /connectivity-check as balenaOS 2.88 requires it [Pagan Gazzard]

## 0.182.0 - 2022-01-04

* minor: Add BALENA_HOST_EXTLINUX_isolcpu [Vipul Gupta (@vipulgupta2048)]

## 0.181.2 - 2021-12-30

* Convert a missed Bluebird.delay [Pagan Gazzard]

## 0.181.1 - 2021-12-30

* Use timers/promises instead of Bluebird.delay [Pagan Gazzard]

## 0.181.0 - 2021-12-28

* Add /user/v1/refresh-token GET & POST endpoints [Thodoris Greasidis]

## 0.180.0 - 2021-12-23

* target-hostapp: Add support for detecting unified OS releases [Thodoris Greasidis]

## 0.179.9 - 2021-12-23

* Update dependencies [Pagan Gazzard]

## 0.179.8 - 2021-12-21

* Make image config 띿evelopmentMode option work in POST body [Thodoris Greasidis]

## 0.179.7 - 2021-12-21

* Accept 띿evelopmentMode image config option as a request parameter [Akis Kesoglou]

## 0.179.6 - 2021-12-20

* Create service install when pinning supervisor on device creation [Pagan Gazzard]

## 0.179.5 - 2021-12-17

* Add index to optimize should be running successful release rule [Pagan Gazzard]

## 0.179.4 - 2021-12-17

* Add index to optimize supervisor app rule [Pagan Gazzard]

## 0.179.3 - 2021-12-17

* Add index to optimize supervisor/device cpu arch rule [Pagan Gazzard]

## 0.179.2 - 2021-12-17

* Trim .versionbot/CHANGELOG.yml so that it's < 1MB [Pagan Gazzard]

## 0.179.1 - 2021-12-16


<details>
<summary> Rephrase multicontainer rule to start from the application type [Pagan Gazzard] </summary>

> ### pinejs-14.37.0 - 2021-12-16
> 
> 
> <details>
> <summary> Update dependencies for improved sbvr negation [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.17.0 - 2021-12-14
>> 
>> * Add support for `Count` nodes in rule referenced fields [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.16.0 - 2021-12-14
>> 
>> * Add support for `From` nodes in rule referenced fields [Pagan Gazzard]
>> 
>> #### lf-to-abstract-sql-4.4.1 - 2021-12-16
>> 
>> * Respect negated verbs for link tables and foreign keys [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.3.0 - 2021-12-16
>> 
>> * Add support for more forms of negation in rules [Pagan Gazzard]
>> * Do not check for negated verbs when declaring fact types [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.36.1 - 2021-12-13
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.15.0 - 2021-12-13
>> 
>> * Add support for `HAVING` clauses [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.14.2 - 2021-12-13
>> 
>> * Fix GroupByNode typings [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.36.0 - 2021-12-10
> 
> * Add the ability to enable caching of api key actor ids [Pagan Gazzard]
> 
</details>

## 0.179.0 - 2021-12-14

* Extend the supervisor application rule to also check the slug [Thodoris Greasidis]

## 0.178.4 - 2021-12-13

* patch: Add required_reboot properties to config variables [Vipul Gupta (@vipulgupta2048)]

## 0.178.3 - 2021-12-10

* Optimize the "device operated by same device type hostApp" rule [Thodoris Greasidis]

## 0.178.2 - 2021-12-09


<details>
<summary> Update open-balena-base to 13.0.3 [Pagan Gazzard] </summary>

> ### open-balena-base-13.0.3 - 2021-12-08
> 
> * Update to nodejs 16.13.1 and npm 8.2.0 [Pagan Gazzard]
> 
> ### open-balena-base-13.0.2 - 2021-11-19
> 
> * Stage stack global environment [ab77]
> 
> ### open-balena-base-13.0.1 - 2021-11-01
> 
> * Install python3 for node-gyp 8.x which is used by npm 8 [Pagan Gazzard]
> 
</details>

## 0.178.1 - 2021-12-08

* state-patch: Fix image update throttling key [Thodoris Greasidis]

## 0.178.0 - 2021-12-08

* Limit changing the app DT only to ones of the same cpu architecture [Thodoris Greasidis]

## 0.177.2 - 2021-12-08

* Add info about the contract that failed to parse when throwing an error [Pagan Gazzard]

## 0.177.1 - 2021-12-07

* Add comment [Pagan Gazzard]

## 0.177.0 - 2021-12-07

* Fix treating DOWNLOAD_PROGRESS_MAX_REPORT_INTERVAL_SECONDS as ms [Pagan Gazzard]
* Switch to METRICS_MAX_REPORT_INTERVAL_SECONDS as it must be in seconds [Pagan Gazzard]

## 0.176.5 - 2021-12-07

* Add throttling for image install updates [Pagan Gazzard]

## 0.176.4 - 2021-12-06


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.35.1 - 2021-12-06
> 
> * Update from lf-to-abstract-sql to 4.4.0 [Pagan Gazzard]
> 
</details>

## 0.176.3 - 2021-12-03

* device-state: Drop unused device config filtering implementation [Thodoris Greasidis]

## 0.176.2 - 2021-12-02

* Test updating device supervisor to a release with different service name [Thodoris Greasidis]

## 0.176.1 - 2021-12-01

* Fix test [Pagan Gazzard]

## 0.176.0 - 2021-12-01

* Remove querying device state as root as it's no longer beneficial [Pagan Gazzard]

<details>
<summary> Use canAccess for device key dependent device permissions [Pagan Gazzard] </summary>

> ### pinejs-14.35.0 - 2021-12-01
> 
> 
> <details>
> <summary> Add support for circular `canAccess` permissions using a depth argument [Pagan Gazzard] </summary>
> 
>> #### odata-to-abstract-sql-5.4.6 - 2021-11-30
>> 
>> * Improve `ResourceFunction` typings [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.5 - 2021-11-26
>> 
>> * Fix `isBindReference` check for non-null non-object types [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.34.2 - 2021-11-30
> 
> * Add missing await [Pagan Gazzard]
> 
> ### pinejs-14.34.1 - 2021-11-30
> 
> * Fix env var name in warning message [Pagan Gazzard]
> 
</details>

## 0.175.1 - 2021-12-01

* Add some missing `await`s [Pagan Gazzard]

## 0.175.0 - 2021-12-01

* Set download progress to null when marking image installs as deleted [Pagan Gazzard]

## 0.174.2 - 2021-11-30

* Allow devices to access services they have service installs for [Thodoris Greasidis]
* Limit device access to service installs to those of accessible devices [Thodoris Greasidis]

## 0.174.1 - 2021-11-29

* Test that devices self-pinning have new service installs created [Thodoris Greasidis]

## 0.174.0 - 2021-11-26

* Added Loki environment variables to confd [Robbe Haesendonck]

## 0.173.8 - 2021-11-25

* Allow device api keys to query their state as root [Pagan Gazzard]

## 0.173.7 - 2021-11-25

* Use manual cache invalidation for the metrics update throttling [Pagan Gazzard]
* Add an option to disable cache invalidation based upon version [Pagan Gazzard]

## 0.173.6 - 2021-11-23

* Expose the RPi family config vars to Pi Zero 2W [Alexandru Costache]

## 0.173.5 - 2021-11-23

* Fix ioredis subscriptions [Pagan Gazzard]

## 0.173.4 - 2021-11-23

* Revert to node redis for subscribing to logs [Pagan Gazzard]

## 0.173.3 - 2021-11-22

* Disable auto pipelining in subscriber mode as it makes no sense there [Pagan Gazzard]

## 0.173.2 - 2021-11-22

* Enable keepalive for ioredis [Pagan Gazzard]

## 0.173.1 - 2021-11-22

* Fix service installs query when changing target release of huge fleets [Thodoris Greasidis]

## 0.173.0 - 2021-11-19

* Add support for a separate redis instance for device logs [Pagan Gazzard]

## 0.172.12 - 2021-11-18

* Use a predefined script for publishing device logs [Pagan Gazzard]

## 0.172.11 - 2021-11-18

* Use isolated ioredis instances for device logs [Pagan Gazzard]

## 0.172.10 - 2021-11-18

* Use the shared read-write redis instance for device logs [Pagan Gazzard]
* Use ioredis for the device logs pub/sub redis instance [Pagan Gazzard]
* Use the shared read-only redis instance for device logs [Pagan Gazzard]

## 0.172.9 - 2021-11-18

* device-config: Make typings stricter [Thodoris Greasidis]

## 0.172.8 - 2021-11-18

* Switch to using a single shared ioredis client [Pagan Gazzard]

## 0.172.7 - 2021-11-17

* Update typescript to 4.5.2 [Thodoris Greasidis]

## 0.172.6 - 2021-11-17

* Enable auto pipelining for ioredis [Pagan Gazzard]

## 0.172.5 - 2021-11-17

* Switch to ioredis for the device-heartbeat client [Pagan Gazzard]

## 0.172.4 - 2021-11-16

* Switch to ioredis for the multi-level-store client [Pagan Gazzard]
* Switch to ioredis for the scheduler client [Pagan Gazzard]
* Switch to ioredis for the rate-limiting client [Pagan Gazzard]

## 0.172.3 - 2021-11-16

* Add the option for a read-only redis endpoint for reading device logs [Pagan Gazzard]

## 0.172.2 - 2021-11-16


<details>
<summary> Allow specifying databaseOptions for pinejs init [Pagan Gazzard] </summary>

> ### pinejs-14.34.0 - 2021-11-16
> 
> * Allow specifying a replica to use for read-only postgres requests [Pagan Gazzard]
> 
> ### pinejs-14.33.3 - 2021-11-15
> 
> * Use the env pool settings as defaults only if not explicitly provided [Pagan Gazzard]
> 
</details>

## 0.172.1 - 2021-11-15

* cache: Abstract the req permissions key normalizer [Thodoris Greasidis]

## 0.172.0 - 2021-11-15

* Add the ability to disable the in-memory cache for multi-level stores [Pagan Gazzard]

## 0.171.0 - 2021-11-12

* Add an invalidation reason to the release resource [Thodoris Greasidis]

## 0.170.0 - 2021-11-12

* Add a note field to the release resource [Thodoris Greasidis]

## 0.169.1 - 2021-11-11

* Add a cache for resolving image read access [Pagan Gazzard]

## 0.169.0 - 2021-11-11

* Remove the cache for device write context as it's no longer beneficial [Pagan Gazzard]

## 0.168.9 - 2021-11-11

* Report redis buffer conversion errors to sentry [Pagan Gazzard]

## 0.168.8 - 2021-11-11

* var-schema: Extend custom DTB support to include Jetson Nano 2GB Devkit [Alexandru Costache]

## 0.168.7 - 2021-11-10

* Explicitly remove support for old supervisor log format [Pagan Gazzard]

## 0.168.6 - 2021-11-10

* Add test for device-state metrics patch cross-instance throttling [Thodoris Greasidis]

## 0.168.5 - 2021-11-10

* Fix cross-instance metrics throttling [Thodoris Greasidis]

## 0.168.4 - 2021-11-09

* Refactor the state patch tests to use the expectResourceToMatch helper [Thodoris Greasidis]

## 0.168.3 - 2021-11-09

* Add device state endpoint tests for updating the running release [Thodoris Greasidis]

## 0.168.2 - 2021-11-09

* Fix release resolving query [Pagan Gazzard]

## 0.168.1 - 2021-11-09

* Use seconds for ttl not ms [Pagan Gazzard]

## 0.168.0 - 2021-11-08

* device-state: Combine the deleted check with the device id resolution [Thodoris Greasidis]

## 0.167.1 - 2021-11-08

* cache/multi-level-store: Fix not using the store cacheKey [Thodoris Greasidis]

## 0.167.0 - 2021-11-08

* Enforce minimum TLS v1.2 (OpenVPN) [ab77]

## 0.166.3 - 2021-11-08

* Use the multi-level store for saving the last metrics report time [Pagan Gazzard]
* Split the underlying multi-level store from the multi-level memoization [Pagan Gazzard]

## 0.166.2 - 2021-11-05

* state-patch: Prepare the device & release pine queries [Thodoris Greasidis]

## 0.166.1 - 2021-11-05

* Avoid starting a transaction if there's no updates for device-state [Pagan Gazzard]

## 0.166.0 - 2021-11-05

* Stop requiring a release version for the supervisor releases [Thodoris Greasidis]

## 0.165.1 - 2021-11-04

* Revert "Avoid unnecessary conversions of buffers to strings in redis based logs" [Pagan Gazzard]

## 0.165.0 - 2021-11-03

* Change the supervisor releases to require & use the semver field [Thodoris Greasidis]

## 0.164.5 - 2021-11-03

* Infer device supervisor releases only from balena_os supervisor apps [Thodoris Greasidis]

## 0.164.4 - 2021-11-02

* Update dependencies [Pagan Gazzard]

## 0.164.3 - 2021-11-02

* Avoid unnecessary conversions of buffers to strings in redis based logs [Pagan Gazzard]

## 0.164.2 - 2021-11-01

* Fix the inconsistent numeric prefix of release pinning fixtures [Thodoris Greasidis]

## 0.164.1 - 2021-11-01

* Fix cluster typings [Pagan Gazzard]

## 0.164.0 - 2021-11-01


<details>
<summary> Update open-balena-base to 13.0.0 [Pagan Gazzard] </summary>

> ### open-balena-base-13.0.0 - 2021-10-30
> 
> * Update nodejs to 16.13.0 and npm 8.1.1 [Pagan Gazzard]
> 
</details>

## 0.163.0 - 2021-10-29

* Add a raw_version computed term to the release resource [Thodoris Greasidis]

## 0.162.2 - 2021-10-29

* Run `requestDevices` queries within a single transaction context [Pagan Gazzard]

## 0.162.1 - 2021-10-29

* Ensure the tx is committed before sending device update notifications [Pagan Gazzard]

## 0.162.0 - 2021-10-28

* Add a generic relationship aliasing helper [Thodoris Greasidis]

## 0.161.11 - 2021-10-28


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.33.2 - 2021-10-26
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.14.1 - 2021-09-23
>> 
>> * Improve typing for `LikeNode` [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.6 - 2021-09-21
>> 
>> * Avoid creating a new Date object when we already have one [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.33.1 - 2021-10-14
> 
> * Add an error handler to each pg client to prevent any unhandled errors [Pagan Gazzard]
> 
</details>

## 0.161.10 - 2021-10-28

* Stop using docker layer caching on circleCI [Thodoris Greasidis]

## 0.161.9 - 2021-10-25

* Add HOST_CONFIG_gpio config definition for config.txt backend [Christina Wang]

## 0.161.8 - 2021-10-25

* Add a cache for fetching the device logs write context [Pagan Gazzard]

## 0.161.7 - 2021-10-25

* Check logs for write permissions earlier, avoiding work on failure [Pagan Gazzard]
* Improve types for device logs, catching an issue reading from loki [Pagan Gazzard]

## 0.161.6 - 2021-10-25

* Allow configuring the trust proxy setting via an env var [Pagan Gazzard]

## 0.161.5 - 2021-10-25

* Run all queries for a token request within a single transaction [Pagan Gazzard]

## 0.161.4 - 2021-10-22

* Also write device metrics data if we're writing other device data [Pagan Gazzard]

## 0.161.3 - 2021-10-21

* Reworked resource filtering test cases [fisehara]

## 0.161.2 - 2021-10-21

* registry: Avoid fetching unused fields in the image access check [Thodoris Greasidis]

## 0.161.1 - 2021-10-21

* Expose cache timeout config via env vars [Pagan Gazzard]
* Cache resolution of repository path to image id [Pagan Gazzard]

## 0.161.0 - 2021-10-21

* multiCache: Fix using the preFetch option as ms instead of seconds [Thodoris Greasidis]
* mutliCache: Support separate configuration for the shared cache [Thodoris Greasidis]

## 0.160.5 - 2021-10-21

* Fix VPN authentication caching edge cases [Thodoris Greasidis]
* Test VPN subsequent authentication caching edge case [Thodoris Greasidis]

## 0.160.4 - 2021-10-21

* Adding tests for datetime filters [fisehara]

## 0.160.3 - 2021-10-20

* Add tests for the VPN authentication endpoint [Thodoris Greasidis]

## 0.160.2 - 2021-10-19

* Expose `metricsPatchFields` [Pagan Gazzard]

## 0.160.1 - 2021-10-19

* Limit max metrics reporting rate, defaulting to 1 minute [Pagan Gazzard]

## 0.160.0 - 2021-10-19

* Move device state functions from `device` export to `deviceState` [Pagan Gazzard]

## 0.159.13 - 2021-10-19

* Run both write log context gathering queries in the same transaction [Pagan Gazzard]

## 0.159.12 - 2021-10-19

* Expose the valid state patch fields [Pagan Gazzard]

## 0.159.11 - 2021-10-18

* Add an index to optimize device api key permissions lookups [Pagan Gazzard]

## 0.159.10 - 2021-10-18

* Add an `onLogReadStreamInitialized` hook [Pagan Gazzard]

## 0.159.9 - 2021-10-18


<details>
<summary> Update open-balena-base to 12.2.0 [Pagan Gazzard] </summary>

> ### open-balena-base-12.2.0 - 2021-10-18
> 
> * Update nodejs to 14.18.1 and npm to 6.14.15 [Pagan Gazzard]
> 
> ### open-balena-base-12.1.1 - 2021-10-14
> 
> * Simplify config by baking the device UUID into the DNS_TLD if available [Akis Kesoglou]
> * Fix configuration for non-BoB deployments [Akis Kesoglou]
> 
> ### open-balena-base-12.1.0 - 2021-09-24
> 
> * Auto-configure balenaMachine(bob) [ab77]
> 
> ### open-balena-base-12.0.3 - 2021-09-01
> 
> * Attempt to load root CA certificate bundle from file [ab77]
> 
</details>

## 0.159.8 - 2021-10-18

* Add an `onLogWriteStreamInitialized` hook [Pagan Gazzard]

## 0.159.7 - 2021-10-15

* Add caching of `UnauthorizedError`s for the VPN auth cache [Pagan Gazzard]

## 0.159.6 - 2021-10-15

* Expose the ability to remove individual entries from the cache [Pagan Gazzard]

## 0.159.5 - 2021-10-14

* Avoid deep imports into pinejs [Pagan Gazzard]

## 0.159.4 - 2021-10-14


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.33.0 - 2021-10-14
> 
> * Add the ability to enable caching of api key permissions [Pagan Gazzard]
> * Add the ability to enable caching of user permissions [Pagan Gazzard]
> 
> ### pinejs-14.32.0 - 2021-10-14
> 
> * Allow passing a function as the cache params to enable custom caching [Pagan Gazzard]
> 
> ### pinejs-14.31.2 - 2021-10-05
> 
> * Add the postgres pool error handler even when no PG_SCHEMA is specified [Pagan Gazzard]
> 
> ### pinejs-14.31.1 - 2021-09-30
> 
> * More usage of nullish coalescing [Pagan Gazzard]
> 
> ### pinejs-14.31.0 - 2021-09-29
> 
> * Add support for a `PINEJS_DEBUG` env var that is more strictly checked [Pagan Gazzard]
> 
> ### pinejs-14.30.4 - 2021-09-29
> 
> * Avoid creating a new readOnlyArgs object when args is already read-only [Pagan Gazzard]
> 
</details>

## 0.159.3 - 2021-10-13

* Change image install index to only look at download progress existence [Pagan Gazzard]

## 0.159.2 - 2021-10-12

* Drop duplicate image install index [Thodoris Greasidis]

## 0.159.1 - 2021-10-12

* Add an index to optimize overall status computed fact type [Pagan Gazzard]

## 0.159.0 - 2021-10-12

* Add a cache for vpn auth requests [Pagan Gazzard]

## 0.158.1 - 2021-10-11

* vars-update-trigger: Get the affected devices in POSTRUN when possible [Thodoris Greasidis]

## 0.158.0 - 2021-10-06

* Add release known_issue property [JSReds]

## 0.157.9 - 2021-10-01

* device-proxy: Skip canAccess check for internal root operations [Thodoris Greasidis]
* Test that changing the fleet target release triggers a device update [Thodoris Greasidis]

## 0.157.8 - 2021-09-29

* Add npm command to generate the sql schema [Thodoris Greasidis]

## 0.157.7 - 2021-09-22

* Fix check if publish is already scheduled [Pagan Gazzard]

## 0.157.6 - 2021-09-21

* Only schedule publishing logs when we have some in the buffer [Pagan Gazzard]

## 0.157.5 - 2021-09-21

* Promisify the redis prototype rather than each instance individually [Pagan Gazzard]

## 0.157.4 - 2021-09-21

* Promisify redis methods once for logs rather than wrapping each call [Pagan Gazzard]

## 0.157.3 - 2021-09-17

* Add support for modelling multi-container host OS apps and blocks [Pagan Gazzard]

## 0.157.2 - 2021-09-13


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.30.3 - 2021-09-13
> 
> 
> <details>
> <summary> Update abstract-sql-compiler to 7.14.0 [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.14.0 - 2021-09-13
>> 
>> * Relax the restrictions on `ORDER BY` as it doesn't just allow fields [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.30.2 - 2021-09-13
> 
> * Avoid iterating the sql result if affectedIds is already populated [Pagan Gazzard]
> 
> ### pinejs-14.30.1 - 2021-09-13
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.13.5 - 2021-09-07
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.13.4 - 2021-08-17
>> 
>> * Support for non postgres db engines [fisehara]
>> 
>> #### abstract-sql-compiler-7.13.3 - 2021-07-28
>> 
>> * Supprt date_trunc postgres date function for DateValue [fisehara]
>> 
>> #### abstract-sql-compiler-7.13.2 - 2021-07-26
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### odata-parser-2.2.8 - 2021-09-07
>> 
>> * Remove some typescript strict mode exceptions [Pagan Gazzard]
>> 
>> #### odata-parser-2.2.7 - 2021-09-06
>> 
>> * Convert tests to type checked javascript [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.4 - 2021-09-07
>> 
>> * Convert tests to type checked javascript [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.3 - 2021-08-24
>> 
>> 
>> <details>
>> <summary> Add SBVR Date TIme Type to DateTrunc Wrapper JS Date format has only milliseconds precision, postgresql stores TIMESTAMPS with microseconds precission. Comparisions may fail, when giving millisecond JS dates but comparing on microseconds. [fisehara] </summary>
>> 
>>> ##### abstract-sql-compiler-7.13.4 - 2021-08-17
>>> 
>>> * Support for non postgres db engines [fisehara]
>>> 
>>> ##### abstract-sql-compiler-7.13.3 - 2021-07-28
>>> 
>>> * Supprt date_trunc postgres date function for DateValue [fisehara]
>>> 
>>> ##### abstract-sql-compiler-7.13.2 - 2021-07-26
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.13.1 - 2021-06-30
>>> 
>>> * Delete CODEOWNERS [Thodoris Greasidis]
>>> 
>>> ##### abstract-sql-compiler-7.13.0 - 2021-05-18
>>> 
>>> * Add support for `CurrentTimestamp`/`CurrentDate` nodes [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.7 - 2021-05-18
>>> 
>>> 
>>> <details>
>>> <summary> Update sbvr-types to 3.4.3 [Thodoris Greasidis] </summary>
>>> 
>>>> ###### sbvr-types-3.4.3 - 2021-05-11
>>>> 
>>>> * Support boolean results from the db as well as integer [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### abstract-sql-compiler-7.12.6 - 2021-05-18
>>> 
>>> * Allow duration seconds to be nullable [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.5 - 2021-05-18
>>> 
>>> * Re-enable all tests [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.4 - 2021-05-04
>>> 
>>> * Revert "Remove now unnecessary hack for casting SERIAL types" [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.3 - 2021-05-03
>>> 
>>> * Remove now unnecessary hack for casting SERIAL types [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.2 - 2021-03-22
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.4.2 - 2021-03-22
>>>> 
>>>> * Update dev dependencies [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.4.1 - 2021-02-10
>>>> 
>>>> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.4.0 - 2021-02-08
>>>> 
>>>> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.3.0 - 2021-02-05
>>>> 
>>>> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
>>>> 
>>>> ###### sbvr-types-3.2.0 - 2021-01-29
>>>> 
>>>> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
>>>> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
>>>> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### abstract-sql-compiler-7.12.1 - 2021-03-22
>>> 
>>> * Enable strict options by default and only disable specific ones [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.12.0 - 2021-03-05
>>> 
>>> * Enable narrowing down create/delete referenced fields for nested exists [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.11.0 - 2021-03-01
>>> 
>>> * Generalize/share the referenced fields code and cover more cases [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.10.2 - 2021-02-12
>>> 
>>> * Fix `getModifiedFields` for `UpsertQuery`s [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.10.1 - 2021-01-29
>>> 
>>> * Separate code relating to referenced fields out of the main file [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.10.0 - 2021-01-29
>>> 
>>> * Add an `action` property to modified fields of create/update/delete [Pagan Gazzard]
>>> * Automatically add `ruleReferencedFields` to `SqlRule`s [Pagan Gazzard]
>>> * Add a `getRuleReferencedFields` which is tailored for rules [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.9.1 - 2021-01-29
>>> 
>>> * Add test for optimizeSchema optimizing rules [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.9.0 - 2021-01-25
>>> 
>>> * Optimize the abstract sql of rules when running `optimizeSchema` [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.8.2 - 2021-01-15
>>> 
>>> * Fix schema optimizations when table and resource names are different [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.8.1 - 2021-01-04
>>> 
>>> * Convert some lodash usage to native equivalents [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.8.0 - 2021-01-01
>>> 
>>> * Optimize Is[Not]DistinctFrom and [Not]Exists for non-null values [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.7.0 - 2021-01-01
>>> 
>>> * Optimize EXISTS/NOT EXISTS for empty queries [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.6.0 - 2021-01-01
>>> 
>>> * Optimize away AND/ORs with false/true respectively [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.5.0 - 2021-01-01
>>> 
>>> * Optimize out booleans from AND/OR where possible [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### sbvr-types-3.4.5 - 2021-09-07
>> 
>> * Convert tests to type checked javascript [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.157.1 - 2021-09-10

* multiCache: Fix using milliseconds instead of seconds for the ttl [Thodoris Greasidis]

## 0.157.0 - 2021-09-10

* Stop exporting the deviceTypes.getDeviceTypes() request handler [Thodoris Greasidis]

## 0.156.1 - 2021-09-07

* Use native pinejs advisory lock method [Thodoris Greasidis]

<details>
<summary> Update pinejs from 14.30.0 [Thodoris Greasidis] </summary>

> ### pinejs-14.30.0 - 2021-09-07
> 
> * Add method for getting transaction level advisory locks in Postgresql [Thodoris Greasidis]
> 
> ### pinejs-14.29.1 - 2021-09-07
> 
> * Update typescript to 4.4 [Thodoris Greasidis]
> 
</details>

## 0.156.0 - 2021-09-07

* Support generating named provisioning keys [Nitish Agarwal]

## 0.155.5 - 2021-09-06

* Trigger updates when image env vars change like for other env vars [Pagan Gazzard]

## 0.155.4 - 2021-09-02

* Add additional naming words [Chris Crocker-White]
* Sort haiku names [Chris Crocker-White]

## 0.155.3 - 2021-09-02

* Inject OS image development mode flag into generated config [Akis Kesoglou]

## 0.155.2 - 2021-08-30

* Deduplicate env var renaming [Pagan Gazzard]

## 0.155.1 - 2021-08-26

* Update RESIN_OVERRIDE_LOCK description [Vipul Gupta]

## 0.155.0 - 2021-08-25

* Remove BALENA_|RESIN_ prefixes [ab77]

## 0.154.0 - 2021-08-24

* release versioning: Drop the release type field from the DB [Thodoris Greasidis]

## 0.153.2 - 2021-08-24


<details>
<summary> Update open-balena-base to 12.0.2 [Pagan Gazzard] </summary>

> ### open-balena-base-12.0.2 - 2021-08-24
> 
> * Use multi-user.target as the default target [Pagan Gazzard]
> 
</details>

## 0.153.1 - 2021-08-24


<details>
<summary> Update pinejs to 14.29.0 [Pagan Gazzard] </summary>

> ### pinejs-14.29.0 - 2021-08-24
> 
> * Use readTransaction for read-only requests [Pagan Gazzard]
> 
</details>

## 0.153.0 - 2021-08-24

* release versioning: Drop the release type property from the model [Thodoris Greasidis]

## 0.152.2 - 2021-08-23

* Allow specifying a custom readTransaction function for state requests [Pagan Gazzard]

## 0.152.1 - 2021-08-23

* var-schema: Add custom DTB support for TX2 NX variants [Alexandru Costache]

## 0.152.0 - 2021-08-19


<details>
<summary> Update open-balena-base to 12.0.1 [Pagan Gazzard] </summary>

> ### open-balena-base-12.0.1 - 2021-08-19
> 
> * Use basic.target as the default target [Pagan Gazzard]
> 
</details>

## 0.151.1 - 2021-08-19

* Update dependencies [Pagan Gazzard]

## 0.151.0 - 2021-08-19


<details>
<summary> Update open-balena-base to 12.0.0 [Pagan Gazzard] </summary>

> ### open-balena-base-12.0.0 - 2021-08-17
> 
> * Update to debian bullseye [Pagan Gazzard]
> 
</details>

## 0.150.3 - 2021-08-19


<details>
<summary> Update open-balena-base to 11.3.12 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.12 - 2021-08-13
> 
> * Add hosts [ab77]
> 
> ### open-balena-base-11.3.11 - 2021-08-13
> 
> * Remove deprecated etcd config [ab77]
> 
> ### open-balena-base-11.3.10 - 2021-08-13
> 
> * Add missing init script [ab77]
> 
</details>

## 0.150.2 - 2021-08-16

* Avoid version being undefined in cache keys for multiCache [Pagan Gazzard]

## 0.150.1 - 2021-08-13


<details>
<summary> Update open-balena-base to 11.3.9 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.9 - 2021-08-13
> 
> * Update no-systemd variant [ab77]
> 
</details>

## 0.150.0 - 2021-08-13

* Avoid updating the tracked release when a non-eligible one is created [Thodoris Greasidis]
* Add release.version JSON field [Thodoris Greasidis]
* release versioning: Migrate records, set both & read only the new fields [Thodoris Greasidis]

## 0.149.1 - 2021-08-12


<details>
<summary> Update open-balena-base to 11.3.8 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.8 - 2021-08-12
> 
> * Update nodejs to 14.17.5 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.7 - 2021-07-30
> 
> * Use DNS_TLD internally [ab77]
> 
> ### open-balena-base-11.3.6 - 2021-07-30
> 
> * Accept DNS_TLD in place of BALENA_TLD [ab77]
> 
</details>

## 0.149.0 - 2021-08-02

* release versioning: Add and start setting the semver & revision fields [Thodoris Greasidis]

## 0.148.3 - 2021-07-30


<details>
<summary> Update open-balena-base to 11.3.5 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.5 - 2021-07-30
> 
> * Update nodejs to 14.17.4 and npm to 6.14.14 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.4 - 2021-07-30
> 
> * Correct env var name and sort [ab77]
> 
</details>

## 0.148.2 - 2021-07-29


<details>
<summary> Update open-balena-base to 11.3.3 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.3 - 2021-07-29
> 
> * Add parallel HOSTs and env vars [ab77]
> 
</details>

## 0.148.1 - 2021-07-22

* Make use of nullish coalescing [Pagan Gazzard]

## 0.148.0 - 2021-07-19


<details>
<summary> Update pinejs and make use of pinejs' handleHttpErrors [Pagan Gazzard] </summary>

> ### pinejs-14.28.0 - 2021-07-19
> 
> * Export a `handleHttpErrors` function to handle HttpError/subclasses [Pagan Gazzard]
> 
> ### pinejs-14.27.2 - 2021-07-19
> 
> * Avoid unnecessary work when a request's permission type is specified [Pagan Gazzard]
> 
</details>

## 0.147.0 - 2021-07-16


<details>
<summary> Use `res.status(...).end()` in preference to `res.sendStatus()` [Pagan Gazzard] </summary>

> ### pinejs-14.27.1 - 2021-07-16
> 
> * Simplify `splitApiRoot` [Pagan Gazzard]
> * Deduplicate code when processing an expanded response [Pagan Gazzard]
> 
> ### pinejs-14.27.0 - 2021-07-16
> 
> * Use `res.status(...).end()` in preference to `res.sendStatus()` [Pagan Gazzard]
> 
> ### pinejs-14.26.3 - 2021-07-15
> 
> * patch: Add single quotes for single entity curl requests [Muizudeen Kusimo]
> * patch: Add quotes for single entity curl requests [Muizudeen Kusimo]
> 
> ### pinejs-14.26.2 - 2021-07-15
> 
> * Fix Minor Typo in GettingStarted.md [Matthew Yarmolinsky]
> 
</details>

## 0.146.0 - 2021-07-15

* rate-limiting: Add a required key scope parameter [Thodoris Greasidis]

## 0.145.0 - 2021-07-13

* Allow creating/using a rate limiter that is separate from a middleware [Pagan Gazzard]

<details>
<summary> Update pinejs and use HttpError's for the rate-limiting errors [Pagan Gazzard] </summary>

> ### pinejs-14.26.1 - 2021-07-13
> 
> * Standardize http error to response conversion and response sending [Pagan Gazzard]
> 
> ### pinejs-14.26.0 - 2021-07-13
> 
> * Add the ability to include headers with http errors [Pagan Gazzard]
> 
> ### pinejs-14.25.2 - 2021-07-13
> 
> * Reduce duplication for http error constructors [Pagan Gazzard]
> 
> ### pinejs-14.25.1 - 2021-07-09
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.6 - 2021-07-09
>> 
>> * Switch to peggy for compiling the grammar [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.144.1 - 2021-07-13


<details>
<summary> Update pinejs and use HttpError's for the rate-limiting errors [Pagan Gazzard] </summary>

> ### pinejs-14.26.1 - 2021-07-13
> 
> * Standardize http error to response conversion and response sending [Pagan Gazzard]
> 
> ### pinejs-14.26.0 - 2021-07-13
> 
> * Add the ability to include headers with http errors [Pagan Gazzard]
> 
> ### pinejs-14.25.2 - 2021-07-13
> 
> * Reduce duplication for http error constructors [Pagan Gazzard]
> 
> ### pinejs-14.25.1 - 2021-07-09
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.6 - 2021-07-09
>> 
>> * Switch to peggy for compiling the grammar [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.144.0 - 2021-07-08


<details>
<summary> Bump pinejs to add `is of` reverse relationship for concept types [Thodoris Greasidis] </summary>

> ### pinejs-14.25.0 - 2021-07-08
> 
> 
> <details>
> <summary> Bump dependencies to add `is of` reverse relationship for concept types [Thodoris Greasidis] </summary>
> 
>> #### lf-to-abstract-sql-4.3.0 - 2021-07-06
>> 
>> * Add an automatic `is of` reverse relationship for concept types [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.24.6 - 2021-07-06
> 
> * Fix Hooks URL [Matthew Yarmolinsky]
> 
> ### pinejs-14.24.5 - 2021-07-06
> 
> * Update user SBVR model URL [Matthew Yarmolinsky]
> 
> ### pinejs-14.24.4 - 2021-07-06
> 
> * Avoid concat/_.uniq calls in getReqPermissions [Pagan Gazzard]
> * Validate the guest permissions when caching rather than on each use [Pagan Gazzard]
> * Remove unnecessary code now that a request can only use a single actor [Pagan Gazzard]
> 
</details>

## 0.143.5 - 2021-07-05


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### node-loki-grpc-client-1.0.5 - 2021-07-05
> 
> * Update dependencies [Pagan Gazzard]
> 
> ### node-loki-grpc-client-1.0.4 - 2021-07-05
> 
> * Add .versionbot/CHANGELOG.yml for nested changelogs [Pagan Gazzard]
> 
> ### node-loki-grpc-client-1.0.3 - 2021-07-05
> 
> * patch: Delete Codeowners [Vipul Gupta]
> 
</details>

## 0.143.4 - 2021-07-05


<details>
<summary> Update open-balena-base to 11.3.2 [Pagan Gazzard] </summary>

> ### open-balena-base-11.3.2 - 2021-07-02
> 
> * Update nodejs to 14.17.2 [Pagan Gazzard]
> 
> ### open-balena-base-11.3.1 - 2021-06-30
> 
> * Delete .github directory [dfunckt]
> 
> ### open-balena-base-11.3.0 - 2021-06-30
> 
> * Update nodejs to 14.17.1 [Trong Nghia Nguyen]
> 
</details>

## 0.143.3 - 2021-07-02


<details>
<summary> Update pinejs to 14.24.3 [Pagan Gazzard] </summary>

> ### pinejs-14.24.3 - 2021-07-02
> 
> * Optimize pre-processing of odata2AbstractSQL for improving cache hits [Pagan Gazzard]
> 
> ### pinejs-14.24.2 - 2021-06-30
> 
> * Delete CODEOWNERS [Thodoris Greasidis]
> 
</details>

## 0.143.2 - 2021-06-30

* Delete CODEOWNERS [dfunckt]

## 0.143.1 - 2021-06-30

* Avoid unnecessary `getAffectedIds` calls when updating devices [Pagan Gazzard]

## 0.143.0 - 2021-06-10

* Revert "Add Build Stat to Release" [toochevere]
* Add Build Stat to Release [toochevere]

## 0.142.0 - 2021-06-08

* Prevent converting finalized releases back to draft [Thodoris Greasidis]

## 0.141.5 - 2021-06-08

* Remove ui config from the state endpoint [Pagan Gazzard]

## 0.141.4 - 2021-06-08


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.24.1 - 2021-06-07
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.4 - 2021-05-18
>> 
>> * Ensure boundaries on keywords to fix parsing of eg `note eq 'foobar'` [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.9.5 - 2021-03-22
>> 
>> * Enable strict tsconfig options by default [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.2.4 - 2021-06-07
>> 
>> * Optimize space matching [Pagan Gazzard]
>> * Optimize EOL checking [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.2.3 - 2021-06-07
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.141.3 - 2021-06-08

* Improve/add typings for the device state patch body [Pagan Gazzard]

## 0.141.2 - 2021-06-08

* Updating to use function to get desired user role [Nitish Agarwal]

## 0.141.1 - 2021-06-04

* Update dependencies [Pagan Gazzard]

## 0.141.0 - 2021-06-03

* Whitelist & add OVERRIDE_LOCK config variable to the env var schema [Thodoris Greasidis]

## 0.140.8 - 2021-06-03

* Further target state typing improvements [Pagan Gazzard]

## 0.140.7 - 2021-06-03

* Improve device state typings [Pagan Gazzard]

## 0.140.6 - 2021-06-01

* Create service installs for target supervisor releases [Pagan Gazzard]

## 0.140.5 - 2021-06-01

* Only delete service installs for the current app when moving [Pagan Gazzard]

## 0.140.4 - 2021-06-01

* Test the release type value constraint [Thodoris Greasidis]
* Add missing DB constraint on allowed release_type values [Thodoris Greasidis]

## 0.140.3 - 2021-05-27

* Convert another case to the built-in uuid generation [Pagan Gazzard]

## 0.140.2 - 2021-05-25

* Use the built-in nodejs uuid generation in favor of an npm module [Pagan Gazzard]

## 0.140.1 - 2021-05-24


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.24.0 - 2021-05-18
> 
> 
> <details>
> <summary> Update abstract-sql-compiler to 7.13.0 to support CurrentTimestamp/Date [Thodoris Greasidis] </summary>
> 
>> #### abstract-sql-compiler-7.13.0 - 2021-05-18
>> 
>> * Add support for `CurrentTimestamp`/`CurrentDate` nodes [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.12.7 - 2021-05-18
>> 
>> 
>> <details>
>> <summary> Update sbvr-types to 3.4.3 [Thodoris Greasidis] </summary>
>> 
>>> ##### sbvr-types-3.4.3 - 2021-05-11
>>> 
>>> * Support boolean results from the db as well as integer [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-compiler-7.12.6 - 2021-05-18
>> 
>> * Allow duration seconds to be nullable [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.12.5 - 2021-05-18
>> 
>> * Re-enable all tests [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.12.4 - 2021-05-04
>> 
>> * Revert "Remove now unnecessary hack for casting SERIAL types" [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.12.3 - 2021-05-03
>> 
>> * Remove now unnecessary hack for casting SERIAL types [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.12.2 - 2021-03-22
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.4.2 - 2021-03-22
>>> 
>>> * Update dev dependencies [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.4.1 - 2021-02-10
>>> 
>>> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.4.0 - 2021-02-08
>>> 
>>> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.3.0 - 2021-02-05
>>> 
>>> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
>>> 
>>> ##### sbvr-types-3.2.0 - 2021-01-29
>>> 
>>> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
>>> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
>>> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-compiler-7.12.1 - 2021-03-22
>> 
>> * Enable strict options by default and only disable specific ones [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.23.0 - 2021-05-17
> 
> 
> <details>
> <summary> Update sbvr-types to 3.4.3 to support boolean computed terms w/o casting [Thodoris Greasidis] </summary>
> 
>> #### sbvr-types-3.4.3 - 2021-05-11
>> 
>> * Support boolean results from the db as well as integer [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.2 - 2021-03-22
>> 
>> * Update dev dependencies [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.22.3 - 2021-04-29
> 
> * Fix typo in odata-compiler help [Pagan Gazzard]
> 
</details>

## 0.140.0 - 2021-05-18

* Add `SUPERVISOR_HARDWARE_METRICS` config var in schema [Christina Wang]

## 0.139.3 - 2021-05-18

* Expose a `skipLogging` middleware [Pagan Gazzard]

## 0.139.2 - 2021-05-14


<details>
<summary> Update open-balena-base to 11.2.0 [Pagan Gazzard] </summary>

> ### open-balena-base-11.2.0 - 2021-05-14
> 
> * Update nodejs to 14.17.0 and npm to 6.14.13 [Pagan Gazzard]
> 
</details>

## 0.139.1 - 2021-05-11

* hostapp: allow devices to provision & set target state via POST [Matthew McGinn]

## 0.139.0 - 2021-05-11

* Require public apps to be of a non-legacy type [Thodoris Greasidis]

## 0.138.11 - 2021-05-11

* hostapps: unset a target hostapp when changing device types [Matthew McGinn]

## 0.138.10 - 2021-05-07

* Use `true = false` rather than `1 = 2` for generating a false result [Pagan Gazzard]

## 0.138.9 - 2021-05-06

* supervisor-apps: allow provisioning directly to a logstream edition [Matthew McGinn]

## 0.138.8 - 2021-05-05

* hostapps: test that devices can still PATCH after provisioning to an invalidated release [Matthew McGinn]

## 0.138.7 - 2021-05-04

* supervisor-releases: copy across all relevant modeling from closed API [Matthew McGinn]

## 0.138.6 - 2021-05-04

* Remove unnecessary async/await from state endpoint [Pagan Gazzard]

## 0.138.5 - 2021-05-04

* hostapps: ensure that preprovisioned devices aren't downgraded after check in [Matthew McGinn]

## 0.138.4 - 2021-05-03

* hostapps: remove rule enforcing valid hostapp releases [Matthew McGinn]

## 0.138.3 - 2021-05-03

* fixtures: reuse variable rather than hardcode the value [Matthew McGinn]

## 0.138.2 - 2021-05-03

* fixtures: drop unnecessary state patch value [Matthew McGinn]

## 0.138.1 - 2021-04-30

* Fix 'dependents' on state not being returned [toochevere]

## 0.138.0 - 2021-04-30

* Revert "Expose the RPi family config vars to raspberrypi3-unipi-neuron" [Florin Sarbu]

## 0.137.1 - 2021-04-30

* Add missing foreign key indexes [Pagan Gazzard]

## 0.137.0 - 2021-04-30

* Expose the RPi family config vars to raspberrypi3-unipi-neuron [Florin Sarbu]

## 0.136.4 - 2021-04-29

* Refactoring to get ready for v3 state endpoint changes [toochevere]

## 0.136.3 - 2021-04-29

* Remove unnecessary delete hook for env var validation [Pagan Gazzard]

## 0.136.2 - 2021-04-29

* Accept additional fields during provisioning if they are provided [Akis Kesoglou]

## 0.136.1 - 2021-04-29


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.22.2 - 2021-03-22
> 
> * Enable strict options by default and only disable specific ones [Pagan Gazzard]
> 
</details>

## 0.136.0 - 2021-04-28

* hostapps: basic implementation of target hostapp release [Matthew McGinn]

## 0.135.3 - 2021-04-26

* auth: remove unnecessary brackets [Matthew McGinn]

## 0.135.2 - 2021-04-26

* model: regenerate types to pick up changes [Matthew McGinn]

## 0.135.1 - 2021-04-26

* applications: allow apps to be marked as public [Matthew McGinn]

## 0.135.0 - 2021-04-15

* Stop allowing cache clearing for multi-level cache [Pagan Gazzard]

## 0.134.3 - 2021-04-13

* Add support for the `normalizer` option to the multi-level cache [Pagan Gazzard]

## 0.134.2 - 2021-04-09


<details>
<summary> Update open-balena-base to 11.1.2 [Pagan Gazzard] </summary>

> ### open-balena-base-11.1.2 - 2021-04-08
> 
> * Update nodejs to 14.16.1 and npm to 6.14.12 [Pagan Gazzard]
> 
> ### open-balena-base-11.1.1 - 2021-03-17
> 
> * Drop CircleCI [ab77]
> 
</details>

## 0.134.1 - 2021-04-08

* Support caching of undefined in the multi-level cache [Pagan Gazzard]

## 0.134.0 - 2021-04-06

* Support/use multi-level caching that can share cache between instances [Pagan Gazzard]

## 0.133.7 - 2021-04-01

* Simplify ignored device types handling [Pagan Gazzard]

## 0.133.6 - 2021-03-26

* Fix contracts sync job to run every 5 minutes instead of 5 seconds [Pagan Gazzard]

## 0.133.5 - 2021-03-26

* Use primitive memoization mode for build-info-facade [Pagan Gazzard]

## 0.133.4 - 2021-03-23

* Add scheduler mechanism and use it to synchronize contracts [Pagan Gazzard]

## 0.133.3 - 2021-03-23

* Optimize getting the list of service installs to create per device [Pagan Gazzard]

## 0.133.2 - 2021-03-22

* Enable strict options by default and only disable specific ones [Pagan Gazzard]

## 0.133.1 - 2021-03-16

* Fix typing for partial rate limiter key fns [Pagan Gazzard]

## 0.133.0 - 2021-03-16

* Prefetch api keys in the background rather than blocking [Pagan Gazzard]
* Avoid the need to delete `req.apiKey` in prefetch middleware [Pagan Gazzard]

## 0.132.5 - 2021-03-16

* Add support for async functions when generating rate limiter keys [Pagan Gazzard]

## 0.132.4 - 2021-03-16


<details>
<summary> Update pinejs to 14.22.1 [Pagan Gazzard] </summary>

> ### pinejs-14.22.1 - 2021-03-16
> 
> * Only use the api key if we successfully resolved one [Pagan Gazzard]
> 
> ### pinejs-14.22.0 - 2021-03-16
> 
> * Expose methods to resolve api keys without immediately using them [Pagan Gazzard]
> 
</details>

## 0.132.3 - 2021-03-16

* Allow PATCHing the same username/email on a given user [Thodoris Greasidis]

## 0.132.2 - 2021-03-16

* Fix username & email uniqueness check for batch PATCHes [Thodoris Greasidis]

## 0.132.1 - 2021-03-15


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.21.1 - 2021-03-15
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.3 - 2021-03-15
>> 
>> * Optimize `QuotedText` for the common case of few/no apostrophes [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.9.4 - 2021-03-10
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.21.0 - 2021-03-12
> 
> * Support postgres exclusion constraints as 409s instead of 500s [Pagan Gazzard]
> 
> ### pinejs-14.20.1 - 2021-03-12
> 
> * Block eagerly fetching affected ids in cases it is not possible to do [Pagan Gazzard]
> 
</details>

## 0.132.0 - 2021-03-15

* Added optional environment variable configuration for contact repository branch [Micah Halter]

## 0.131.5 - 2021-03-15

* Add missing `await` [Pagan Gazzard]

## 0.131.4 - 2021-03-15

* Simplify `toUuid` slightly [Pagan Gazzard]

## 0.131.3 - 2021-03-15

* Fix device existence check to be true when the device does exist [Pagan Gazzard]

## 0.131.2 - 2021-03-12

* Emit an error on the request stream for non-200s rather than throwing [Pagan Gazzard]

## 0.131.1 - 2021-03-12

* Use primitive mode memoization for device existence cache [Pagan Gazzard]

## 0.131.0 - 2021-03-12

* Switch application slug to using `${orgHandle}/${appName}` [Pagan Gazzard]
* Fix automatic slug renaming on app rename [Pagan Gazzard]

## 0.130.0 - 2021-03-12

* Expose the RPi family config vars to raspberrypicm4-ioboard [Thodoris Greasidis]

## 0.129.9 - 2021-03-12

* Cache device existence check for 5 minutes [Pagan Gazzard]

## 0.129.8 - 2021-03-10

* Only try to validate username/email if they are present [Pagan Gazzard]

## 0.129.7 - 2021-03-10

* Add organization handle validation [Pagan Gazzard]

## 0.129.6 - 2021-03-10

* Add username normalization [Pagan Gazzard]

## 0.129.5 - 2021-03-10

* Validate username/email on PATCH as well as POST [Pagan Gazzard]

## 0.129.4 - 2021-03-08


<details>
<summary> Update pinejs to pick up rule optimizations for inserts [Pagan Gazzard] </summary>

> ### pinejs-14.20.0 - 2021-03-08
> 
> 
> <details>
> <summary> Update abstract-sql-compiler bring more rules optimizations [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.12.0 - 2021-03-05
>> 
>> * Enable narrowing down create/delete referenced fields for nested exists [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.129.3 - 2021-03-08

* Ensure service installs exist at the point of pinning an application [Pagan Gazzard]

## 0.129.2 - 2021-03-05

* Fixed JSON serialization of device-type contracts going into the database. [Micah Halter]

## 0.129.1 - 2021-03-05

* Fix release tracking of concurrent builds [Thodoris Greasidis]
* Test new service install creation for pinned applications [Thodoris Greasidis]
* Test release tracking of concurrent builds [Thodoris Greasidis]

## 0.129.0 - 2021-03-05

* Added contract to device type and update database synchronization [Micah Halter]

## 0.128.9 - 2021-03-05


<details>
<summary> Update pinejs to pick up rule optimizations for deletes [Pagan Gazzard] </summary>

> ### pinejs-14.19.0 - 2021-03-01
> 
> 
> <details>
> <summary> Update abstract-sql-compiler bring more rules optimizations [Pagan Gazzard] </summary>
> 
>> #### lf-to-abstract-sql-4.2.1 - 2021-02-17
>> 
>> * Correctly use the native name result in the generated abstract sql [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.18.4 - 2021-03-01
> 
> * Remove some unnecessary bluebird usage [Pagan Gazzard]
> 
</details>

## 0.128.8 - 2021-03-05

* State-patch: Optimize noop gateway download updates [Pagan Gazzard]
* Separate marking old image installs deleted to a function [Pagan Gazzard]
* State-patch: Use 1 GET for updating any number of gateway downloads [Pagan Gazzard]
* State-patch: Use 1 GET for updating any number of image installs [Pagan Gazzard]

## 0.128.7 - 2021-03-03

* Use already available primary key values in device state-patch [Pagan Gazzard]

## 0.128.6 - 2021-03-01


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.18.3 - 2021-02-26
> 
> * Warn when setting a `request.values` property that will not take effect [Pagan Gazzard]
> 
> ### pinejs-14.18.2 - 2021-02-15
> 
> * Gracefully handle `HttpError` thrown from PREPARSE hooks [Pagan Gazzard]
> 
</details>

## 0.128.5 - 2021-03-01

* Add device type is default for application [JSReds]

## 0.128.4 - 2021-02-26

* Allow pinejs to enforce the at most one app with a given name rule [Pagan Gazzard]

## 0.128.3 - 2021-02-25

* fixtures: autogenerate commit if not provided [Matthew McGinn]

## 0.128.2 - 2021-02-24


<details>
<summary> Update open-balena-base to 11.1.0 [Pagan Gazzard] </summary>

> ### open-balena-base-11.1.0 - 2021-02-24
> 
> * Update nodejs to 14.16.0 [Pagan Gazzard]
> 
</details>

## 0.128.1 - 2021-02-17


<details>
<summary> Update open-balena-base to 11.0.5 [Pagan Gazzard] </summary>

> ### open-balena-base-11.0.5 - 2021-02-15
> 
> * Update nodejs to 14.15.5 and npm to 6.14.11 [Pagan Gazzard]
> 
</details>

## 0.128.0 - 2021-02-17

* Stop exposing `/resin/` [Pagan Gazzard]

## 0.127.0 - 2021-02-15

* Add a `boolVar` helper for config to standardize boolean config vars [Pagan Gazzard]

## 0.126.5 - 2021-02-15

* Run tests against the exposed api version rather than internal [Pagan Gazzard]

## 0.126.4 - 2021-02-12


<details>
<summary> Update pinejs to 14.18.1 [Pagan Gazzard] </summary>

> ### pinejs-14.18.1 - 2021-02-12
> 
> 
> <details>
> <summary> Update abstract-sql-compiler  fix modified fields for upsert queries [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.10.2 - 2021-02-12
>> 
>> * Fix `getModifiedFields` for `UpsertQuery`s [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.1 - 2021-02-10
>> 
>> * Remove unnecessary native fact type entries for synonymous forms [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.18.0 - 2021-02-08
> 
> 
> <details>
> <summary> Add support for sbvr date comparison and allow referencing current time [Pagan Gazzard] </summary>
> 
>> #### lf-to-abstract-sql-4.2.0 - 2021-02-05
>> 
>> 
>> <details>
>> <summary> Add support for native `Name`s from sbvr-types [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-parser-1.2.0 - 2021-02-05
>>> 
>>> * Add support for a `Name` role binding in the lf validator [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### sbvr-parser-1.2.2 - 2021-02-08
>> 
>> * Optimize `StartX` rules [Pagan Gazzard]
>> * Optimize `Identifier` when branch tracking is disabled (the default) [Pagan Gazzard]
>> * Optimize `IdentifierPart` rule [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.2.1 - 2021-02-08
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.2.0 - 2021-02-05
>> 
>> * Add support for a `Name` role binding in the lf validator [Pagan Gazzard]
>> 
>> #### sbvr-types-3.4.0 - 2021-02-08
>> 
>> * Add a `Current Time` name that can be used to refer to the current time [Pagan Gazzard]
>> 
>> #### sbvr-types-3.3.0 - 2021-02-05
>> 
>> * Add `is before` & `is after` verbs to the Date & DateTime types [Thodoris Greasidis]
>> 
> </details>
> 
> 
> ### pinejs-14.17.1 - 2021-02-08
> 
> * Fix .sbvr bundling in webpack [Pagan Gazzard]
> * Fix extended-sbvr-parser export [Pagan Gazzard]
> 
> ### pinejs-14.17.0 - 2021-02-08
> 
> * Export extended-sbvr-parser from server-glue/server [Pagan Gazzard]
> 
> ### pinejs-14.16.1 - 2021-02-08
> 
> * Simplify server-glue/server exports [Pagan Gazzard]
> 
> ### pinejs-14.16.0 - 2021-02-01
> 
> 
> <details>
> <summary> Update sbvr-types to 3.2.0, adding support for more `Text (Type)` verbs [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.10.1 - 2021-01-29
>> 
>> * Separate code relating to referenced fields out of the main file [Pagan Gazzard]
>> 
>> #### sbvr-types-3.2.0 - 2021-01-29
>> 
>> * Add support for the `contains` verb to the text type [Thodoris Greasidis]
>> * Add support for the`ends with` verb to the text type [Thodoris Greasidis]
>> * Add support for the `starts with` verb to the text type [Thodoris Greasidis]
>> 
> </details>
> 
> 
</details>

## 0.126.3 - 2021-02-10

* Export `getDeviceTypesRoute` [Pagan Gazzard]

## 0.126.2 - 2021-02-10

* Minor typing improvements [Pagan Gazzard]

## 0.126.1 - 2021-02-09

* Fix missing field in migration for device family [Stevche Radevski]

## 0.126.0 - 2021-02-08

* Add synonymous form to device family manufacturer [Stevche Radevski]

## 0.125.0 - 2021-02-08

* Add device family and manufacturer resources [Stevche Radevski]

## 0.124.0 - 2021-02-05

* releases: add new metadata to release model [Matthew McGinn]

## 0.123.1 - 2021-02-03

* Add permission checking to the supervisor proxy [Thodoris Greasidis]

## 0.123.0 - 2021-02-02

* Add a maximum file size for the BALENA_HOST_SPLASH_IMAGE config var [Thodoris Greasidis]

## 0.122.0 - 2021-02-01


<details>
<summary> Move tag key and device uuid length validation into SBVR rules [Pagan Gazzard] </summary>

> ### pinejs-14.10.1 - 2021-01-15
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.8.2 - 2021-01-15
>> 
>> * Fix schema optimizations when table and resource names are different [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.1.1 - 2021-01-04
>> 
>> * Fix PickExpanded/PickDeferred type helpers [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.121.0 - 2021-02-01

* vars-schema: Add HOST_CONFIG HDMI config definitions for the RPi family [Thodoris Greasidis]

## 0.120.3 - 2021-02-01

* Support setting pg statement/query timeouts, defaulting to 60s/61s [Pagan Gazzard]

## 0.120.2 - 2021-01-29


<details>
<summary> Update pinejs to 14.15.0, reducing the cases we need to run rules [Pagan Gazzard] </summary>

> ### pinejs-14.15.0 - 2021-01-29
> 
> 
> <details>
> <summary> Make use of rule specific referenced fields to run rules in less cases [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.10.0 - 2021-01-29
>> 
>> * Add an `action` property to modified fields of create/update/delete [Pagan Gazzard]
>> * Automatically add `ruleReferencedFields` to `SqlRule`s [Pagan Gazzard]
>> * Add a `getRuleReferencedFields` which is tailored for rules [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.9.1 - 2021-01-29
>> 
>> * Add test for optimizeSchema optimizing rules [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.9.0 - 2021-01-25
>> 
>> * Optimize the abstract sql of rules when running `optimizeSchema` [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.120.1 - 2021-01-29

* CODEOWNERS: Use the balena-api dev team [Thodoris Greasidis]

## 0.120.0 - 2021-01-29

* Optimize the unique commit per successful release per app rule [Thodoris Greasidis]

## 0.119.5 - 2021-01-28

* tests: prefix all tests with [0-9][0-9]_ for consistency [Matthew McGinn]

## 0.119.4 - 2021-01-28

* Add tests for the unique successful release commit rule [Thodoris Greasidis]

## 0.119.3 - 2021-01-26

* Remove Rich from CODEOWNERS [Akis Kesoglou]

## 0.119.2 - 2021-01-25


<details>
<summary> Update pinejs to 14.14.3 [Pagan Gazzard] </summary>

> ### pinejs-14.14.3 - 2021-01-25
> 
> 
> <details>
> <summary> Update odata-parser to 2.2.2 for optimized number parsing [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.2 - 2021-01-25
>> 
>> * Optimize number parsing [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.14.2 - 2021-01-25
> 
> * Use 400s for data type validation errors [Pagan Gazzard]
> 
> ### pinejs-14.14.1 - 2021-01-25
> 
> * Use 500s for any database errors that are not explicitly handled [Pagan Gazzard]
> 
</details>

## 0.119.1 - 2021-01-25

* Fix potential TypeError from attempting to read `.length` of null [Pagan Gazzard]

## 0.119.0 - 2021-01-22

* Switch to using an object to specify dependent resources to delete [Pagan Gazzard]

## 0.118.7 - 2021-01-22


<details>
<summary> Update pinejs to 14.14.0 [Pagan Gazzard] </summary>

> ### pinejs-14.14.0 - 2021-01-22
> 
> * Add the ability to specify query/statement timeouts for pg backend [Pagan Gazzard]
> 
> ### pinejs-14.13.0 - 2021-01-22
> 
> * Allow specifying database options on init instead of via env vars [Pagan Gazzard]
> * Only connect to the database once `init` has been called [Pagan Gazzard]
> 
> ### pinejs-14.12.2 - 2021-01-22
> 
> * Handle `DEBUG` in the env module [Pagan Gazzard]
> 
> ### pinejs-14.12.1 - 2021-01-22
> 
> * Handle `TRANSACTION_TIMEOUT_MS` in the env module [Pagan Gazzard]
> 
</details>

## 0.118.6 - 2021-01-20


<details>
<summary> Update pinejs to 14.12.0 [Pagan Gazzard] </summary>

> ### pinejs-14.12.0 - 2021-01-20
> 
> * Error/dequeue all queued up queries when rolling back a pg transaction [Pagan Gazzard]
> 
> ### pinejs-14.11.0 - 2021-01-20
> 
> * Add a timeout for pg rollbacks after which the connection is terminated [Pagan Gazzard]
> 
</details>

## 0.118.5 - 2021-01-19

* include empty stubbed migration [Matthew McGinn]

## 0.118.4 - 2021-01-19


<details>
<summary> Update pinejs to 14.10.2 for performance optimization [Pagan Gazzard] </summary>

> ### pinejs-14.10.2 - 2021-01-18
> 
> * Optimize generating constrained abstract sql model [Pagan Gazzard]
> 
</details>

## 0.118.3 - 2021-01-19

* model: add some release metadata [Matthew McGinn]

## 0.118.2 - 2021-01-18

* Separate application delete hook components into individual hooks [Pagan Gazzard]

## 0.118.1 - 2021-01-18

* Tests: remove unused `tx` argument from fixtures [Pagan Gazzard]

## 0.118.0 - 2021-01-18

* Add BALENA_HOST_SPLASH_IMAGE config var in the schema [Thodoris Greasidis]

## 0.117.4 - 2021-01-13


<details>
<summary> Update open-balena-base to 11.0.4 [Pagan Gazzard] </summary>

> ### open-balena-base-11.0.4 - 2021-01-08
> 
> * Update nodejs to 14.15.4 and npm to 6.14.10 [Pagan Gazzard]
> 
</details>

## 0.117.3 - 2021-01-13

* Express user has direct access to application using a CROSS JOIN [Thodoris Greasidis]

## 0.117.2 - 2021-01-13

* Remove unnecessary DELETE hook that tries to validate config/env vars [Pagan Gazzard]

## 0.117.1 - 2021-01-11


<details>
<summary> Update pinejs to 14.10.0 to enable postgres keepalive [Pagan Gazzard] </summary>

> ### pinejs-14.10.0 - 2021-01-06
> 
> * Enable keepAlive for postgres by default with the ability to disable [Pagan Gazzard]
> 
> ### pinejs-14.9.5 - 2021-01-06
> 
> * Ensure database connection errors are wrapped as `DatabaseError`s [Pagan Gazzard]
> 
> ### pinejs-14.9.4 - 2021-01-06
> 
> * Dev: switch from grunt-replace to grunt-contrib-replace [Pagan Gazzard]
> 
> ### pinejs-14.9.3 - 2021-01-05
> 
> * Use an .npmrc to prevent creating a package-lock on each install [Thodoris Greasidis]
> 
</details>

## 0.117.0 - 2021-01-11

* Make use of rule to check constraint optimizations [Pagan Gazzard]

## 0.116.2 - 2021-01-08

* Split npm script for model typings generation to two separate ones [Thodoris Greasidis]

## 0.116.1 - 2021-01-07

* Add npm script for generating model typings [Thodoris Greasidis]

## 0.116.0 - 2021-01-07

* Add `user has direct access to application` virtual resource [Thodoris Greasidis]

## 0.115.5 - 2021-01-04

* Regenerate balena-model types to include type helpers [Pagan Gazzard]

## 0.115.4 - 2021-01-04


<details>
<summary> Update pinejs to 14.9.2 [Pagan Gazzard] </summary>

> ### pinejs-14.9.2 - 2021-01-04
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.8.1 - 2021-01-04
>> 
>> * Convert some lodash usage to native equivalents [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.8.0 - 2021-01-01
>> 
>> * Optimize Is[Not]DistinctFrom and [Not]Exists for non-null values [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.7.0 - 2021-01-01
>> 
>> * Optimize EXISTS/NOT EXISTS for empty queries [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.6.0 - 2021-01-01
>> 
>> * Optimize away AND/ORs with false/true respectively [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.5.0 - 2021-01-01
>> 
>> * Optimize out booleans from AND/OR where possible [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.1.0 - 2020-12-30
>> 
>> * Add type helpers for dealing with expanded/deferred read types [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.0.3 - 2020-12-30
>> 
>> * Use the referenced field's data type for foreign keys/concept types [Pagan Gazzard]
>> 
>> #### abstract-sql-to-typescript-1.0.2 - 2020-12-30
>> 
>> * Fix defaulting mode to `read` [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.115.3 - 2020-12-28


<details>
<summary> Add and use automatically generated model typings [Pagan Gazzard] </summary>

> ### pinejs-14.9.1 - 2020-12-28
> 
> 
> <details>
> <summary> Update abstract-sql-to-typescript to 1.0.1 [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-to-typescript-1.0.1 - 2020-12-28
>> 
>> * Fix types for ConceptType fields [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.9.0 - 2020-12-28
> 
> * Add support for config file inputs to abstract-sql/odata-compiler [Pagan Gazzard]
> * Add support for more input types to abstract-sql-compiler [Pagan Gazzard]
> 
> ### pinejs-14.8.0 - 2020-12-28
> 
> * Add typescript type generation to sbvr/abstract-sql-compiler [Pagan Gazzard]
> 
> ### pinejs-14.7.2 - 2020-12-28
> 
> * Share code between the cli tools [Pagan Gazzard]
> 
> ### pinejs-14.7.1 - 2020-12-28
> 
> 
> <details>
> <summary> Update abstract-sql-compiler to 7.4.2 [Thodoris Greasidis] </summary>
> 
>> #### abstract-sql-compiler-7.4.2 - 2020-12-21
>> 
>> * Improve Relationship typings [Thodoris Greasidis]
>> 
>> #### odata-to-abstract-sql-5.4.1 - 2020-12-26
>> 
>> 
>> <details>
>> <summary> Update abstract-sql-compiler to 7.4.2 [Thodoris Greasidis] </summary>
>> 
>>> ##### abstract-sql-compiler-7.4.2 - 2020-12-21
>>> 
>>> * Improve Relationship typings [Thodoris Greasidis]
>>> 
>>> ##### abstract-sql-compiler-7.4.1 - 2020-12-18
>>> 
>>> * Fix `containsNode` when that node type is at the top level [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
> </details>
> 
> 
</details>

## 0.115.2 - 2020-12-28

* Add the ability to generate a materialized pinejs config.json [Pagan Gazzard]

## 0.115.1 - 2020-12-28

* Catch exception when resolving asset real path to prevent other contract syncing to fail [Stevche Radevski]

## 0.115.0 - 2020-12-23

* Perform username/email checks in a hook rather than custom function [Pagan Gazzard]

## 0.114.2 - 2020-12-23


<details>
<summary> Update open-balena-base to 11.0.3 [Pagan Gazzard] </summary>

> ### open-balena-base-11.0.3 - 2020-12-18
> 
> * Update nodejs to 14.15.3 and npm to 6.14.9 [Pagan Gazzard]
> 
</details>

## 0.114.1 - 2020-12-23

* env-vars: Add the RESIN_ & BALENA_ namespaces programmatically [Thodoris Greasidis]

## 0.114.0 - 2020-12-23

* Changes based on PR review [Stevche Radevski]
* Add a base64-encoded logo to device types [Stevche Radevski]

## 0.113.0 - 2020-12-18


<details>
<summary> Update pinejs to 14.7.0 [Pagan Gazzard] </summary>

> ### pinejs-14.7.0 - 2020-12-18
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.4.1 - 2020-12-18
>> 
>> * Fix `containsNode` when that node type is at the top level [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.4.0 - 2020-12-18
>> 
>> * Add support for table definitions [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.3.0 - 2020-12-18
>> 
>> * Allow compiling `*QueryNode`s to direct strings without binds [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.2.1 - 2020-12-18
>> 
>> * Improve typings for compilation results [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.4.0 - 2020-12-18
>> 
>> 
>> <details>
>> <summary> Add support for official abstract-sql table definitions [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.4.0 - 2020-12-18
>>> 
>>> * Add support for table definitions [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.3.0 - 2020-12-18
>>> 
>>> * Allow compiling `*QueryNode`s to direct strings without binds [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.2.1 - 2020-12-18
>>> 
>>> * Improve typings for compilation results [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.2.0 - 2020-12-16
>>> 
>>> * Add an `optimizeSchema` function [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.1.0 - 2020-12-09
>>> 
>>> * Add check constraint support at the table level [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.0.7 - 2020-12-09
>>> 
>>> * Convert tests from coffeescript to type-checked javascript [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.0.6 - 2020-11-30
>>> 
>>> * Fix the `NOT(NOT(...))` optimization [Pagan Gazzard]
>>> 
>>> ##### abstract-sql-compiler-7.0.5 - 2020-11-30
>>> 
>>> * Remove some type casts [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-5.3.2 - 2020-12-18
>> 
>> * Avoid trying to rewrite binds if there are none to rewrite [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.112.0 - 2020-12-18

* Export the DEVICE_TYPE_SPECIFIC_CONFIG_VAR_PROPERTIES [Thodoris Greasidis]

## 0.111.0 - 2020-12-18

* Expose the RPi family config vars to raspberrypi400-64 [Thodoris Greasidis]

## 0.110.10 - 2020-12-16


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.6.0 - 2020-12-16
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.2.0 - 2020-12-16
>> 
>> * Add an `optimizeSchema` function [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.1.0 - 2020-12-09
>> 
>> * Add check constraint support at the table level [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.0.7 - 2020-12-09
>> 
>> * Convert tests from coffeescript to type-checked javascript [Pagan Gazzard]
>> 
>> #### sbvr-types-3.1.3 - 2020-12-11
>> 
>> * Improve types for `SHA` [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-14.5.0 - 2020-12-16
> 
> * Add an abstract-sql-compiler bin helper [Pagan Gazzard]
> 
> ### pinejs-14.4.0 - 2020-12-14
> 
> * Add support for prettifying check constraints with their description [Pagan Gazzard]
> 
> ### pinejs-14.3.0 - 2020-12-09
> 
> * Add support for differentiating check constraint errors [Pagan Gazzard]
> 
</details>

## 0.110.9 - 2020-12-14

* Simplify/optimize rules for runnable releases [Pagan Gazzard]

## 0.110.8 - 2020-12-11

* Avoid updating unchanged entries when syncing a contract [Pagan Gazzard]

## 0.110.7 - 2020-12-02


<details>
<summary> Update pinejs to 14.2.6 [Pagan Gazzard] </summary>

> ### pinejs-14.2.6 - 2020-12-02
> 
> * Improve compatibility with webpack 5 [Pagan Gazzard]
> 
> ### pinejs-14.2.5 - 2020-12-02
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.0.6 - 2020-11-30
>> 
>> * Fix the `NOT(NOT(...))` optimization [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.0.5 - 2020-11-30
>> 
>> * Remove some type casts [Pagan Gazzard]
>> 
>> #### abstract-sql-compiler-7.0.4 - 2020-11-25
>> 
>> 
>> <details>
>> <summary> Update sbvr-types and make use of `castType` [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.1.2 - 2020-11-25
>>> 
>>> * Add a `castType` property to type functions [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.1.1 - 2020-11-25
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### lf-to-abstract-sql-4.1.1 - 2020-11-25
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-parser-1.1.1 - 2020-10-07
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>>> ##### sbvr-parser-1.1.0 - 2020-10-07
>>> 
>>> * Add support for negative numbers for embedded data [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.1.2 - 2020-11-25
>>> 
>>> * Add a `castType` property to type functions [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.1.1 - 2020-11-25
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>>> ##### sbvr-types-3.1.0 - 2020-06-17
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### odata-parser-2.2.1 - 2020-11-25
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.3.1 - 2020-11-25
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.0.4 - 2020-11-25
>>> 
>>> 
>>> <details>
>>> <summary> Update sbvr-types and make use of `castType` [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.1.2 - 2020-11-25
>>>> 
>>>> * Add a `castType` property to type functions [Pagan Gazzard]
>>>> 
>>>> ###### sbvr-types-3.1.1 - 2020-11-25
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### abstract-sql-compiler-7.0.3 - 2020-10-02
>>> 
>>> * Remove accidental `necessity` from the `AbstractSqlField` types [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.2.1 - 2020-11-25
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.2.0 - 2020-08-18
>>> 
>>> * Add support for metadata argument in $format [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### pinejs-client-js-6.9.3 - 2020-11-20
>> 
>> * Explicitly specify return types for all functions [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.9.2 - 2020-10-23
>> 
>> * Update dev dependencies [Pagan Gazzard]
>> 
>> #### sbvr-types-3.1.2 - 2020-11-25
>> 
>> * Add a `castType` property to type functions [Pagan Gazzard]
>> 
>> #### sbvr-types-3.1.1 - 2020-11-25
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.110.6 - 2020-11-30

* Fix device log read serialization to ignore `nanoTimestamp` [Thomas Manning]

## 0.110.5 - 2020-11-27

* Change LokiBackend to store using nanosecond timestamp calculated when log was received [Thomas Manning]

## 0.110.4 - 2020-11-27

* Add option to Loki backend to print verbose error message [Thomas Manning]

## 0.110.3 - 2020-11-26

* Remove `service_id` from LokiBackend labels to reduce cardinality [Thomas Manning]

## 0.110.2 - 2020-11-23

* Update dependencies [Pagan Gazzard]
* Specify es2020 for @balena/es-version [Pagan Gazzard]

## 0.110.1 - 2020-11-23

* Improve the cache of the S3-fetched device types [Stevche Radevski]

## 0.110.0 - 2020-11-23

* Add contract field to release resource [Stevche Radevski]

## 0.109.5 - 2020-11-20


<details>
<summary> Update open-balena-base to 11.0.2 [Pagan Gazzard] </summary>

> ### open-balena-base-11.0.2 - 2020-11-18
> 
> * Update nodejs to 14.15.1 [Pagan Gazzard]
> 
> ### open-balena-base-11.0.1 - 2020-10-29
> 
> * Publish tagged versions of the no-systemd image [Pagan Gazzard]
> 
</details>

## 0.109.4 - 2020-11-11

* Add Loki host and port to sentry messages [Thomas Manning]

## 0.109.3 - 2020-11-11

* Set Loki timeout to 1 second with no retries so log writes are not unreasonably delayed if Loki down [Thomas Manning]

## 0.109.2 - 2020-11-10

* Fix device types migration [Akis Kesoglou]

## 0.109.1 - 2020-11-09

* Upgrade Loki test image to 2.0.0 [Thomas Manning]

## 0.109.0 - 2020-11-08

* Remove `--ignore-scripts` from Dockerfile so that `grpc` binary can be installed [Thomas Manning]
* Add metrics for device logging [Thomas Manning]
* Add new logging backend LokiBackend [Thomas Manning]

## 0.108.0 - 2020-11-04

* Add limited retries to device type fetching from S3 [Stevche Radevski]

## 0.107.0 - 2020-10-29

* Make cpu architecture self-contained [Stevche Radevski]

## 0.106.2 - 2020-10-28

* cpu architecture: add synonymous form to device type [Matthew McGinn]

## 0.106.1 - 2020-10-28

* Update tsconfig target to es2020 [Pagan Gazzard]

## 0.106.0 - 2020-10-28


<details>
<summary> Update open-balena-base to 11.0.0 [Pagan Gazzard] </summary>

> ### open-balena-base-11.0.0 - 2020-10-27
> 
> * Update to nodejs 14 [Pagan Gazzard]
> 
> ### open-balena-base-10.1.1 - 2020-10-09
> 
> * Fix no-systemd nodejs version [Pagan Gazzard]
> 
</details>

## 0.105.0 - 2020-10-27

* Bump OData version to v6 [Akis Kesoglou]
* Add computed fields for 랊verall status and 랊verall progress [Akis Kesoglou]

## 0.104.2 - 2020-10-26


<details>
<summary> Add tests that validate migrations [Pagan Gazzard] </summary>

> ### pinejs-14.2.4 - 2020-10-26
> 
> * Leave the migrationsPath intact when loading a model [Pagan Gazzard]
> 
</details>

## 0.104.1 - 2020-10-26


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.2.3 - 2020-10-22
> 
> * Fix logger creation for nodejs 14 [Pagan Gazzard]
> 
</details>

## 0.104.0 - 2020-10-16


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.2.2 - 2020-10-15
> 
> * Condense starting a read only transaction to a single statement [Pagan Gazzard]
> 
> ### pinejs-14.2.1 - 2020-10-13
> 
> * Update README now that sbvr-compiler/odata-compiler are included [Pagan Gazzard]
> 
> ### pinejs-14.2.0 - 2020-10-13
> 
> 
> <details>
> <summary> Update dependencies, adding support for negative constants in sbvr [Pagan Gazzard] </summary>
> 
>> #### sbvr-parser-1.1.1 - 2020-10-07
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
>> #### sbvr-parser-1.1.0 - 2020-10-07
>> 
>> * Add support for negative numbers for embedded data [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

* Add is of cpu architecture to device type [Stevche Radevski]

## 0.103.1 - 2020-10-14

* device-heartbeat: Only update for requests using the device API Key [Thodoris Greasidis]
* Test heartbeat state changes with both user JWT & device API Key [Thodoris Greasidis]

## 0.103.0 - 2020-10-14

* model: Add UUID to Application model [Rich Bayliss]

## 0.102.6 - 2020-10-13

* Abstract the app & device env var update trigger hooks [Thodoris Greasidis]

## 0.102.5 - 2020-10-12

* tests: consistify naming scheme [Matthew McGinn]

## 0.102.4 - 2020-10-08


<details>
<summary> Update open-balena-base to 10.1.0 [Pagan Gazzard] </summary>

> ### open-balena-base-10.1.0 - 2020-10-07
> 
> * Update nodejs to 12.19.0 [Pagan Gazzard]
> 
</details>

## 0.102.3 - 2020-10-05

* Fix fetching contracts randomly failing due to a bug in request [Stevche Radevski]

## 0.102.2 - 2020-10-02


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.1.1 - 2020-10-02
> 
> 
> <details>
> <summary> Update dependencies [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.0.3 - 2020-10-02
>> 
>> * Remove accidental `necessity` from the `AbstractSqlField` types [Pagan Gazzard]
>> 
>> #### lf-to-abstract-sql-4.1.0 - 2020-10-02
>> 
>> * Omit AbstractSqlField props when null to match the expected types [Pagan Gazzard]
>> * Convert tests from coffeescript to javascript [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.9.1 - 2020-09-17
>> 
>> * Improve typings [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.9.0 - 2020-09-07
>> 
>> * Add 'getOrCreate' method supporting natural keys [Thodoris Greasidis]
>> 
>> #### pinejs-client-js-6.8.0 - 2020-09-03
>> 
>> * Add support for $format [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.102.1 - 2020-09-24

* Skip marking dependent device as unmanaged to later mark as managed [Pagan Gazzard]
* Avoid needing to update newly provisioned dependent devices [Pagan Gazzard]

## 0.102.0 - 2020-09-22

* Start synchronizing resources with contracts [Stevche Radevski]

## 0.101.3 - 2020-09-18

* Move release pinning validation hook to a rule [Pagan Gazzard]

## 0.101.2 - 2020-09-17


<details>
<summary> Update open-balena-base to v10.0.2 [Will Boyce] </summary>

> ### open-balena-base-10.0.2 - 2020-09-17
> 
> * Delete custom versionist.conf.js and add repo.yml [Giovanni Garufi]
> 
> ### open-balena-base-10.0.1 - 2020-09-17
> 
> * Update nodejs to 12.18.4 and npm to 6.14.8 [Pagan Gazzard]
> 
> ### open-balena-base-10.0.0 - 2020-08-26
> 
> * remove support for etcd-based confd config [Will Boyce]
> 
</details>

## 0.101.1 - 2020-09-17


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-14.1.0 - 2020-09-04
> 
> * Treat deferred foreign key uris as metadata [Pagan Gazzard]
> 
</details>

## 0.101.0 - 2020-09-16

* env-vars: Add DTB config vars for nvidia boards [Thodoris Greasidis]

## 0.100.0 - 2020-09-16

* env-vars: Add ODMDATA config vars for nvidia boards [Thodoris Greasidis]

## 0.99.1 - 2020-09-10

* Export the heartbeat related DeviceOnlineStates enum [Thodoris Greasidis]

## 0.99.0 - 2020-09-08

* Add a "cpu architecture" resource [Stevche Radevski]

## 0.98.0 - 2020-09-03


<details>
<summary> Update to pinejs 14 [Pagan Gazzard] </summary>

> ### pinejs-14.0.0 - 2020-09-03
> 
> * Remove api keys permission caching [Pagan Gazzard]
> * Remove `res` from `PRERESPOND` hooks [Pagan Gazzard]
> * Remove `set` as a permission alias in favor of `create` and `update` [Pagan Gazzard]
> * Remove `get` as a permission alias in favor of `read` [Pagan Gazzard]
> * Remove automatic loading of typescript transpiler from config-loader [Pagan Gazzard]
> * Remove automatic loading of coffeescript transpiler from config-loader [Pagan Gazzard]
> * Default to omitting metadata in odata responses [Pagan Gazzard]
> 
> ### pinejs-13.13.9 - 2020-09-03
> 
> 
> <details>
> <summary> Update deps [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.7.3 - 2020-08-26
>> 
>> * Improve $orderby typing to allow `[{a: 'desc'}, {b: 'asc'}]` [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.97.1 - 2020-09-03

* Standardize on `read`/`create`/`update` permission names [Pagan Gazzard]

## 0.97.0 - 2020-09-03

* metadata: Add device metadata [Rich Bayliss]

## 0.96.3 - 2020-09-02

* Update dependencies [Pagan Gazzard]

## 0.96.2 - 2020-09-02

* Remove some deprecated uses of `req.param` [Pagan Gazzard]

## 0.96.1 - 2020-09-01

* Convert some bluebird to native promises [Pagan Gazzard]

## 0.96.0 - 2020-09-01

* Enforce minimum os versions when creating a device [Pagan Gazzard]

## 0.95.8 - 2020-08-28

* Add missing import [Pagan Gazzard]

## 0.95.7 - 2020-08-28

* Export tag hooks registration helper [Akis Kesoglou]

## 0.95.6 - 2020-08-28

* Stop unnecessarily storing app id in request.custom [Pagan Gazzard]

## 0.95.5 - 2020-08-27

* Remove duplicated comment [Pagan Gazzard]

## 0.95.4 - 2020-08-27

* device-types: Wait before rescheduling a fetch [Thodoris Greasidis]

## 0.95.3 - 2020-08-27

* Remove hooks subdir [Pagan Gazzard]
* Move device-urls hooks into a device-urls feature [Pagan Gazzard]
* Move release-pinning hooks to a release-pinning feature [Pagan Gazzard]
* Move offline cascade hook into dependent-devices feature [Pagan Gazzard]
* Move device move hooks into the devices feature [Pagan Gazzard]
* Move service install hooks into the ci-cd feature [Pagan Gazzard]
* Move application hooks into an applications feature [Pagan Gazzard]
* Move service instance hooks into the vpn integration feature [Pagan Gazzard]

## 0.95.2 - 2020-08-26

* Separate update trigger hooks into relevant features [Pagan Gazzard]

## 0.95.1 - 2020-08-26

* Remove unnecessary passing of app to every `supertest` usage [Pagan Gazzard]

## 0.95.0 - 2020-08-26

* Add request logging feature [Pagan Gazzard]

## 0.94.20 - 2020-08-26

* Revert breaking change of the exported `addDeleteHookForDependents` [Pagan Gazzard]

## 0.94.19 - 2020-08-26

* Remove some model knowledge from infra/auth/jwt-passport [Pagan Gazzard]
* Remove model knowledge from infra/cascade-delete [Pagan Gazzard]

## 0.94.18 - 2020-08-26

* Move device types resolution hooks to the device-types feature [Pagan Gazzard]
* Move auth related hooks to the auth feature [Pagan Gazzard]
* Rename infra/auth/hooks to create-actor as it doesn't set up any hooks [Pagan Gazzard]
* Move cascade deletion to a feature [Pagan Gazzard]
* Move tags hooks to a feature [Pagan Gazzard]
* Move ci-cd hooks to a feature [Pagan Gazzard]

## 0.94.17 - 2020-08-25


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-13.13.8 - 2020-08-25
> 
> * Fix overwriting error messages in migrations failures [Pagan Gazzard]
> 
</details>

## 0.94.16 - 2020-08-25

* Separate dependent devices hooks to its feature [Pagan Gazzard]
* Move env vars hooks into vars-schema feature [Pagan Gazzard]

## 0.94.15 - 2020-08-25

* Move pinejs-client-helpers into infra [Pagan Gazzard]
* Move application-types into a feature [Pagan Gazzard]
* Add cascade-delete infra helper [Pagan Gazzard]
* Move `createActor` into  infra/auth [Pagan Gazzard]
* Move lib/tags into a feature [Pagan Gazzard]
* Move lib/errors into the relevant features [Pagan Gazzard]
* Move request-promise into infra [Pagan Gazzard]
* Move haiku-name into infra [Pagan Gazzard]

## 0.94.14 - 2020-08-24

* Remove routes directory as it no longer serves a purpose [Pagan Gazzard]
* Separate host os access to a feature [Pagan Gazzard]
* Separate vars schema to a feature [Pagan Gazzard]
* Separate dependent devices to a feature [Pagan Gazzard]
* Separate device provisioning to a feature [Pagan Gazzard]
* Separate device config generation to a feature [Pagan Gazzard]

## 0.94.13 - 2020-08-24

* Make use of jsdoc @deprecated [Pagan Gazzard]

## 0.94.12 - 2020-08-24

* Move vpn integration into a feature [Pagan Gazzard]

## 0.94.11 - 2020-08-24

* Separate os-config into a feature [Pagan Gazzard]

## 0.94.10 - 2020-08-24

* Move balena specific api key code to the api key feature [Pagan Gazzard]
* Separate api key routes to an api key feature [Pagan Gazzard]

## 0.94.9 - 2020-08-24

* Separate registry integration into a feature [Pagan Gazzard]

## 0.94.8 - 2020-08-24

* Extract device-proxy to a feature [Pagan Gazzard]

## 0.94.7 - 2020-08-24

* Move routes/device-types into features/device-types [Pagan Gazzard]
* Move lib/device-types to features/device-types [Pagan Gazzard]

## 0.94.6 - 2020-08-24

* Move platform/permissions to infra/auth [Pagan Gazzard]
* Move platform/versions to infra/versions [Pagan Gazzard]
* Move lib/api-keys and platform/api-keys into infra/auth [Pagan Gazzard]

## 0.94.5 - 2020-08-24

* Move platform/jwt into infra/auth [Pagan Gazzard]

## 0.94.4 - 2020-08-24


<details>
<summary> Update deps [Pagan Gazzard] </summary>

> ### pinejs-13.13.7 - 2020-08-24
> 
> * Make use of optional assignment syntax [Pagan Gazzard]
> 
> ### pinejs-13.13.6 - 2020-08-24
> 
> * Improve async stack traces [Pagan Gazzard]
> 
> ### pinejs-13.13.5 - 2020-08-21
> 
> * Convert db module to async/await [Pagan Gazzard]
> 
> ### pinejs-13.13.4 - 2020-08-21
> 
> * Update pg deps [Pagan Gazzard]
> 
</details>

## 0.94.3 - 2020-08-24

* Fix the device type synchronization interval to 5 minutes [Stevche Radevski]

## 0.94.2 - 2020-08-24

* Move platform/auth into infra/auth [Pagan Gazzard]

## 0.94.1 - 2020-08-24

* Run device type sync in a separate transaction per device type [Stevche Radevski]

## 0.94.0 - 2020-08-21

* Separate device heartbeat into a feature [Pagan Gazzard]

## 0.93.4 - 2020-08-21

* Separate device state into a feature [Pagan Gazzard]

## 0.93.3 - 2020-08-21

* Separate auth middleware to infra/auth [Pagan Gazzard]
* Move error-handling under infra [Pagan Gazzard]
* Move rate-limiting under infra [Pagan Gazzard]

## 0.93.2 - 2020-08-21

* Separate some auth related code to features/auth [Pagan Gazzard]

## 0.93.1 - 2020-08-21

* Reorganize device-logs subfolder to separate reading and storing [Pagan Gazzard]
* Separate device-logs into a single sub-directory [Pagan Gazzard]

## 0.93.0 - 2020-08-21

* Separate device type fetching from synchronizing it to the DB [Stevche Radevski]
* refactor: Move device type errors to the common errors file [Stevche Radevski]

## 0.92.13 - 2020-08-20


<details>
<summary> Update typescript [Pagan Gazzard] </summary>

> ### pinejs-13.13.3 - 2020-08-20
> 
> * Update typescript to 4.x [Pagan Gazzard]
> 
</details>

## 0.92.12 - 2020-08-20


<details>
<summary> Update pinejs to 13.13.2 [Pagan Gazzard] </summary>

> ### pinejs-13.13.2 - 2020-08-20
> 
> * Mark permissions hook as read-only [Pagan Gazzard]
> 
> ### pinejs-13.13.1 - 2020-08-20
> 
> * Add the ability to set sideEffects/readOnlyTx for a set of hooks [Pagan Gazzard]
> 
> ### pinejs-13.13.0 - 2020-08-19
> 
> * Add support for marking hooks as read-only [Pagan Gazzard]
> 
> ### pinejs-13.12.2 - 2020-08-19
> 
> * Share automatic transaction closing between transaction clones [Pagan Gazzard]
> 
> ### pinejs-13.12.1 - 2020-08-19
> 
> * Fix certain internal transaction calls triggering read-only violations [Pagan Gazzard]
> 
> ### pinejs-13.12.0 - 2020-08-19
> 
> * Add the ability to mark an existing tx as read-only [Pagan Gazzard]
> 
> ### pinejs-13.11.3 - 2020-08-19
> 
> * Fix `TransactionClosedError` extends type [Pagan Gazzard]
> 
> ### pinejs-13.11.2 - 2020-08-19
> 
> * Separate the web sql wrapper for async support from the WebSqlTx class [Pagan Gazzard]
> 
> ### pinejs-13.11.1 - 2020-08-19
> 
> * Move runHooks into the hooks module [Pagan Gazzard]
> * Improve hooks typings [Pagan Gazzard]
> 
> ### pinejs-13.11.0 - 2020-08-19
> 
> * Export hooks at the top level [Pagan Gazzard]
> * Separate more hooks code from sbvr-utils into hooks [Pagan Gazzard]
> 
> ### pinejs-13.10.1 - 2020-08-19
> 
> * Convert some bluebird usage to native promises [Pagan Gazzard]
> 
> ### pinejs-13.10.0 - 2020-08-18
> 
> 
> <details>
> <summary> Add the ability to omit metadata from the response [Pagan Gazzard] </summary>
> 
>> #### odata-parser-2.2.0 - 2020-08-18
>> 
>> * Add support for metadata argument in $format [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.7.1 - 2020-08-12
>> 
>> * Fix prepare $count typings [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### pinejs-13.9.1 - 2020-08-18
> 
> * Improve typing of getAffectedIds [Pagan Gazzard]
> 
> ### pinejs-13.9.0 - 2020-08-18
> 
> * Improve typing of hook args [Pagan Gazzard]
> 
</details>

## 0.92.11 - 2020-08-19

* Vastly increase permitted app name length [Akis Kesoglou]

## 0.92.10 - 2020-08-18

* Improve info when failing to find a service install [Pagan Gazzard]

## 0.92.9 - 2020-08-17


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-13.8.1 - 2020-08-17
> 
> * Separate running the odata request from the expressjs handler [Pagan Gazzard]
> 
> ### pinejs-13.8.0 - 2020-08-17
> 
> * Add a specific error type for transaction closed errors and handle them [Pagan Gazzard]
> 
</details>

## 0.92.8 - 2020-08-12


<details>
<summary> Update pinejs to 13.7.0 [Pagan Gazzard] </summary>

> ### pinejs-13.7.0 - 2020-08-12
> 
> 
> <details>
> <summary> Update pinejs-client-core to 6.7.0 [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.7.0 - 2020-08-12
>> 
>> * Improve typings for request/post/put/patch/delete [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.92.7 - 2020-08-12


<details>
<summary> Update pinejs to 13.6.1 [Pagan Gazzard] </summary>

> ### pinejs-13.6.1 - 2020-08-12
> 
> 
> <details>
> <summary> Update pinejs-client-core to 6.6.1 [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.6.1 - 2020-08-11
>> 
>> * Fix typing when id is specified to be `AnyObject | undefined` [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.92.6 - 2020-08-11


<details>
<summary> Update pinejs and make use of improved typings [Pagan Gazzard] </summary>

> ### pinejs-13.6.0 - 2020-08-11
> 
> 
> <details>
> <summary> Update pinejs-client-core and make use of improved typings [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.6.0 - 2020-08-11
>> 
>> * Deprecate `$expand: { 'a/$count': {...} }` [Pagan Gazzard]
>> * Deprecate `resource: 'a/$count'` and update typings to reflect it [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.92.5 - 2020-08-11


<details>
<summary> Update pinejs and use $count sugar [Pagan Gazzard] </summary>

> ### pinejs-13.5.0 - 2020-08-11
> 
> 
> <details>
> <summary> Update pinejs-client-core to add support for $count sugar [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.5.0 - 2020-08-11
>> 
>> * Add `options: { $count: { ... } }` sugar for top level $count [Pagan Gazzard]
>> * Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.4.0 - 2020-08-11
>> 
>> * Improve return typing of `subscribe` method [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.3.0 - 2020-08-11
>> 
>> * Fix Poll.on typings [Pagan Gazzard]
>> * Improve return typing when id is passed to GET methods [Pagan Gazzard]
>> * Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead [Pagan Gazzard]
>> * Remove `PromiseObj` type, use `Promise<{}>` instead [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.2.0 - 2020-08-10
>> 
>> * Add `$filter: { a: { $count: 1 } }` sugar for $count in filters [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.1.2 - 2020-08-10
>> 
>> * Remove redundant ParamsObj/SubscribeParamsObj types [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.1.1 - 2020-08-10
>> 
>> * Make use of `mapObj` helper in more places [Pagan Gazzard]
>> * Use `Object.keys` in preference to `hasOwnProperty` where applicable [Pagan Gazzard]
>> 
>> #### typed-error-3.2.1 - 2020-08-05
>> 
>> * Update dependencies [Pagan Gazzard]
>> 
> </details>
> 
> 
> ### typed-error-3.2.1 - 2020-08-05
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 0.92.4 - 2020-08-07

* Skip trying to provision online dependent devices if there are none [Pagan Gazzard]

## 0.92.3 - 2020-08-07

* Validate service instance ip address [Pagan Gazzard]

## 0.92.2 - 2020-08-07

* Add support for ipv6 vpn addresses [Pagan Gazzard]

## 0.92.1 - 2020-08-07

* Avoid fetching unnecessary device info in /dependent/v1/scan [Pagan Gazzard]

## 0.92.0 - 2020-08-06

* Move `getDeviceOnlineStateManager` to devices export [Pagan Gazzard]

## 0.91.0 - 2020-08-06

* Export useful functions so that they are directly accessible on import [Pagan Gazzard]

## 0.90.1 - 2020-08-05

* Improve checks for if a user field is being modified [Pagan Gazzard]

## 0.90.0 - 2020-08-04

* Ensure user modification side-effects via a hook [Pagan Gazzard]

## 0.89.0 - 2020-08-04

* Remove unused return value when resolving device type [Stevche Radevski]

## 0.88.1 - 2020-08-04

* Fix accidentally removed await [Pagan Gazzard]

## 0.88.0 - 2020-08-03

* supervisor-release: drop entire resource & references [Matthew McGinn]

## 0.87.0 - 2020-07-31

* Add a generic endpoint to generate ApiKeys scoped on specific roles [Thodoris Greasidis]

## 0.86.4 - 2020-07-30

* Add more info when failing to find a service install [Pagan Gazzard]

## 0.86.3 - 2020-07-30

* Avoid error in device state patching when local state is null [Pagan Gazzard]

## 0.86.2 - 2020-07-29


<details>
<summary> Improve compatibility with async/await stack traces [Pagan Gazzard] </summary>

> ### pinejs-13.4.2 - 2020-07-29
> 
> * Fix `resolveOdataBind` [Pagan Gazzard]
> 
> ### pinejs-13.4.1 - 2020-07-29
> 
> * Improve compatibility with async/await stack traces [Pagan Gazzard]
> 
> <details>
> <summary> Update odata-to-abstract-sql [Pagan Gazzard] </summary>
> 
>> #### odata-to-abstract-sql-5.3.0 - 2020-07-21
>> 
>> * Export `isBindReference` [Pagan Gazzard]
>> 
> </details>
> 
> 
</details>

## 0.86.1 - 2020-07-24


<details>
<summary> Update open-balena-base to 9.4.3 [Pagan Gazzard] </summary>

> ### open-balena-base-9.4.3 - 2020-07-24
> 
> * Update nodejs to 12.18.3 and npm to 6.14.7 [Pagan Gazzard]
> 
</details>

## 0.86.0 - 2020-07-24

* Require a fresh token for user account deletion [Pagan Gazzard]

## 0.85.0 - 2020-07-23


<details>
<summary> Update pinejs and make use of named keys [Pagan Gazzard] </summary>

> ### pinejs-13.4.0 - 2020-07-22
> 
> 
> <details>
> <summary> Update pinejs-client-core and use named keys when querying [Pagan Gazzard] </summary>
> 
>> #### pinejs-client-js-6.1.0 - 2020-07-21
>> 
>> * Add support for using named ids [Pagan Gazzard]
>> 
>> #### pinejs-client-js-6.0.1 - 2020-06-19
>> 
>> * Drop unnecessary async from request() [Thodoris Greasidis]
>> 
> </details>
> 
> 
</details>

## 0.84.5 - 2020-07-21


<details>
<summary> Update pinejs, adding support for named keys [Pagan Gazzard] </summary>

> ### pinejs-13.3.0 - 2020-07-20
> 
> 
> <details>
> <summary> Update dependencies, adding support for odata alternate keys [Pagan Gazzard] </summary>
> 
>> #### abstract-sql-compiler-7.0.2 - 2020-07-10
>> 
>> 
>> <details>
>> <summary> Update dependencies [Pagan Gazzard] </summary>
>> 
>>> ##### sbvr-types-3.1.0 - 2020-06-17
>>> 
>>> * Update dependencies [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### abstract-sql-compiler-7.0.1 - 2020-07-10
>> 
>> * Improve `BindNode` typing [Pagan Gazzard]
>> 
>> #### odata-parser-2.1.0 - 2020-07-10
>> 
>> * Add support for specifying named keys [Pagan Gazzard]
>> 
>> #### odata-parser-2.0.1 - 2020-07-10
>> 
>> * Improve typings [Pagan Gazzard]
>> 
>> #### odata-to-abstract-sql-5.2.0 - 2020-07-20
>> 
>> 
>> <details>
>> <summary> Add support for specifying named keys [Pagan Gazzard] </summary>
>> 
>>> ##### odata-parser-2.1.0 - 2020-07-10
>>> 
>>> * Add support for specifying named keys [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
>> #### odata-to-abstract-sql-5.1.1 - 2020-07-10
>> 
>> 
>> <details>
>> <summary> Improve typings [Pagan Gazzard] </summary>
>> 
>>> ##### abstract-sql-compiler-7.0.2 - 2020-07-10
>>> 
>>> 
>>> <details>
>>> <summary> Update dependencies [Pagan Gazzard] </summary>
>>> 
>>>> ###### sbvr-types-3.1.0 - 2020-06-17
>>>> 
>>>> * Update dependencies [Pagan Gazzard]
>>>> 
>>> </details>
>>> 
>>> 
>>> ##### abstract-sql-compiler-7.0.1 - 2020-07-10
>>> 
>>> * Improve `BindNode` typing [Pagan Gazzard]
>>> 
>>> ##### odata-parser-2.0.1 - 2020-07-10
>>> 
>>> * Improve typings [Pagan Gazzard]
>>> 
>> </details>
>> 
>> 
> </details>
> 
> 
</details>

## 0.84.4 - 2020-07-17

* Add api key tests [Thodoris Greasidis]

## 0.84.3 - 2020-07-16


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-13.2.1 - 2020-07-06
> 
> * Clean up sbvr-server [Pagan Gazzard]
> 
</details>

## 0.84.2 - 2020-07-16

* Bump lodash from 4.17.15 to 4.17.19 [dependabot[bot]]

## 0.84.1 - 2020-07-14

* provisioning: allow supervisor_version at provision time [Matthew McGinn]

## 0.84.0 - 2020-07-09

* allow service instances to specify IP on registration [Will Boyce]

## 0.83.0 - 2020-07-02


<details>
<summary> Update pinejs to 13.1.0 and make use of automatic affected ids [Pagan Gazzard] </summary>

> ### pinejs-13.2.0 - 2020-07-01
> 
> * Fetch affected ids only once per request [Thodoris Greasidis]

> ### pinejs-13.1.0 - 2020-06-30
> 
> * Automatically fetch affected ids when possible (postgres only) [Pagan Gazzard]

> ### pinejs-13.0.2 - 2020-06-29
> 
> * Use the `resourceURI` for generating the deferred uri [Pagan Gazzard]
> * Handle fetch processing and adding of metadata in a single pass [Pagan Gazzard]
> * Check for processed/expandable fields before adding the metadata field [Pagan Gazzard]
> * Avoid unnecessary array creation via `map` in odata-response processing [Pagan Gazzard]

> ### pinejs-13.0.1 - 2020-06-22
> 
> 
<details>
<summary> Optimize rewriting relationships for the canAccess optimization [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-5.1.0 - 2020-06-19
>> 
>> * Allow specifying valid methods for a specific match call [Pagan Gazzard]
</details>

> 
</details>

## 0.82.1 - 2020-06-30


<details>
<summary> Update open-balena-base to 9.4.2 [Pagan Gazzard] </summary>

> ### open-balena-base-9.4.2 - 2020-06-30
> 
> * Update nodejs to 12.18.2 [Pagan Gazzard]
</details>

## 0.82.0 - 2020-06-29

* Use @balena/es-version to set the desired es version for modules [Pagan Gazzard]

## 0.81.0 - 2020-06-25

* releases: add `release version` property [Matthew McGinn]

## 0.80.4 - 2020-06-23

* tests: sort & deduplicate device field list [Matthew McGinn]

## 0.80.3 - 2020-06-22

* Avoid promisifyAll for redis due to performance [Pagan Gazzard]

## 0.80.2 - 2020-06-22

* Remove unnecessary passthrough args [Pagan Gazzard]

## 0.80.1 - 2020-06-19


<details>
<summary> Update open-balena-base to 9.4.1 [Pagan Gazzard] </summary>

> ### open-balena-base-9.4.1 - 2020-06-19
> 
> * Update nodejs to 12.18.1 [Pagan Gazzard]
</details>

## 0.80.0 - 2020-06-18


<details>
<summary> Update to pinejs 13.x [Pagan Gazzard] </summary>

> ### pinejs-13.0.0 - 2020-06-18
> 
> * Update @types/node to 12.x [Pagan Gazzard]
> * Update to pg 8.x [Pagan Gazzard]
> * Stop exporting errors as part of sbvrUtils [Pagan Gazzard]
> * Stop exporting permissions as part of sbvrUtils [Pagan Gazzard]
> * Stop exporting `AnyObject` in errors [Pagan Gazzard]
> * Switch to returning native promises [Pagan Gazzard]
> * Rename to @balena/pinejs [Pagan Gazzard]
> 
<details>
<summary> Update to pinejs-client-core 6.x [Pagan Gazzard] </summary>

>> #### pinejs-client-js-6.0.0 - 2020-06-04
>> 
>> * Increase minimum es version to es2015 [Pagan Gazzard]
>> * Convert to async/await [Pagan Gazzard]
>> * Remove now unnecessary PinejsClientCoreFactory [Pagan Gazzard]
>> * Switch to using native promises [Pagan Gazzard]
>> * Drop support for deprecated request overrides [Pagan Gazzard]
>> * Drop support for deprecated `query` method [Pagan Gazzard]
>> * Drop support for deprecated string based requests [Pagan Gazzard]
>> * Use `;` for expand options instead of `&` [Pagan Gazzard]

>> #### pinejs-client-js-5.8.0 - 2020-05-29
>> 
>> * Generate optional builds for es2015/es2018 as well as the default es5 [Pagan Gazzard]

>> #### pinejs-client-js-5.7.1 - 2020-05-25
>> 
>> * Update dependencies [Pagan Gazzard]
</details>

> 
> 
<details>
<summary> Update to @balena/odata-to-abstract-sql 5.x [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-5.0.0 - 2020-05-22
>> 
>> * Rename to @balena/odata-to-abstract-sql [Pagan Gazzard]
>> 
<details>
<summary> Update to @balena/abstract-sql-compiler 7.x [Pagan Gazzard] </summary>

>>> ##### abstract-sql-compiler-7.0.0 - 2020-05-21
>>> 
>>> * Allow adding to the FromTypeNode set [Pagan Gazzard]
>>> * Rename to @balena/abstract-sql-compiler [Pagan Gazzard]
>>> * Improve typings [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
>>> * Update tsconfig to target es2018 [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-3.0.0 - 2020-05-08
>>>> 
>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>> * Drop node 8 support [Pagan Gazzard]
>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
</details>

>>> 

>>> ##### abstract-sql-compiler-6.13.6 - 2020-05-19
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-parser-1.0.1 - 2020-05-11
>>>> 
>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>> ###### sbvr-parser-1.0.0 - 2020-05-08
>>>> 
>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.11 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.10 - 2020-05-08
>>>> 
>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.9 - 2020-05-08
>>>> 
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.8 - 2020-04-27
>>>> 
>>>> * Reduce lodash usage [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-4.0.0 - 2020-05-11
>>>> 
>>>> * Include linting as part of the tests [Pagan Gazzard]
>>>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>>>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>>>> * Drop support for node 8 [Pagan Gazzard]
>>>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.2.6 - 2020-05-11
>>>> 
>>>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>>>> ####### sbvr-parser-1.0.1 - 2020-05-11
>>>>> 
>>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>>> ####### sbvr-parser-1.0.0 - 2020-05-08
>>>>> 
>>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.11 - 2020-05-08
>>>>> 
>>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.10 - 2020-05-08
>>>>> 
>>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.9 - 2020-05-08
>>>>> 
>>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.8 - 2020-04-27
>>>>> 
>>>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>>>> 

>>>> ###### lf-to-abstract-sql-3.2.5 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.2.4 - 2020-05-08
>>>> 
>>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>>> ####### sbvr-types-3.0.0 - 2020-05-08
>>>>> 
>>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>>> * Drop node 8 support [Pagan Gazzard]
>>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>>>> ####### sbvr-types-2.0.9 - 2020-05-07
>>>>> 
>>>>> * Switch to balena-lint [Pagan Gazzard]

>>>>> ####### sbvr-types-2.0.8 - 2020-05-05
>>>>> 
>>>>> * Improve typings [Pagan Gazzard]

>>>>> ####### sbvr-types-2.0.7 - 2020-04-30
>>>>> 
>>>>> * Remove unused imports [Pagan Gazzard]

>>>>> ####### sbvr-types-2.0.6 - 2020-04-27
>>>>> 
>>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>>> 

>>>> ###### lf-to-abstract-sql-3.2.3 - 2020-04-20
>>>> 
>>>> * Switch to native some [Pagan Gazzard]
>>>> * Switch to native findIndex [Pagan Gazzard]
>>>> * Switch to native every [Pagan Gazzard]
>>>> * Switch to native find [Pagan Gazzard]
>>>> * Switch to native forEach where possible [Pagan Gazzard]
>>>> * Switch to native includes [Pagan Gazzard]
>>>> * Switch to native array type checking [Pagan Gazzard]
>>>> * Switch to native string type checking [Pagan Gazzard]
>>>> * Switch to native Object.assign [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.2.2 - 2020-04-16
>>>> 
>>>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.2.1 - 2020-04-14
>>>> 
>>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>>> ####### sbvr-types-2.0.5 - 2020-03-17
>>>>> 
>>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>>> ####### sbvr-types-2.0.4 - 2020-01-22
>>>>> 
>>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>>> * Update dependencies [Pagan Gazzard]
>>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.7 - 2020-01-22
>>>>> 
>>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.6 - 2019-12-30
>>>>> 
>>>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.5 - 2019-12-30
>>>>> 
>>>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.4 - 2019-12-27
>>>>> 
>>>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>>>> 

>>>> ###### lf-to-abstract-sql-3.2.0 - 2020-04-13
>>>> 
>>>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.1.2 - 2020-02-26
>>>> 
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.1.1 - 2020-01-22
>>>> 
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.1.0 - 2019-11-01
>>>> 
>>>> * Add support for enum definitions on fact types [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.0.2 - 2019-06-14
>>>> 
>>>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.0.1 - 2019-05-08
>>>> 
>>>> * Add node 12 tests [Pagan Gazzard]
>>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>>> ###### lf-to-abstract-sql-3.0.0 - 2019-03-08
>>>> 
>>>> * Add automatic modified at fields [Pagan Gazzard]

>>>> ###### odata-parser-2.0.0 - 2020-05-11
>>>> 
>>>> * Rename to @balena/odata-parser [Pagan Gazzard]
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]
>>>> * Drop support for nodejs 8 [Pagan Gazzard]
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### odata-to-abstract-sql-3.3.0 - 2019-06-07
>>>> 
>>>> 
<details>
<summary> Make use of odata-parser types [Pagan Gazzard] </summary>

>>>>> ####### odata-parser-1.1.1 - 2019-06-07
>>>>> 
>>>>> * Improve typings [Pagan Gazzard]

>>>>> ####### odata-parser-1.1.0 - 2019-06-06
>>>>> 
>>>>> * Add typings [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.6.0 - 2019-06-03
>>>>> 
>>>>> * Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.5.1 - 2019-06-03
>>>>> 
>>>>> * Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

>>>>> ####### sbvr-parser-0.2.3 - 2019-06-04
>>>>> 
>>>>> * Optimise exactly 0 to not exists [Pagan Gazzard]
</details>

>>>> 

>>>> ###### odata-to-abstract-sql-3.2.0 - 2019-05-31
>>>> 
>>>> * Add support for computed fields [Pagan Gazzard]

>>>> ###### odata-to-abstract-sql-3.1.3 - 2019-05-31
>>>> 
>>>> 
<details>
<summary> Unify the handling of adding fields with or without a $select [Pagan Gazzard] </summary>

>>>>> ####### odata-parser-1.0.4 - 2019-05-27
>>>>> 
>>>>> * Fix adding parameter alias to the options object [Pagan Gazzard]

>>>>> ####### odata-parser-1.0.3 - 2019-05-08
>>>>> 
>>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.5.0 - 2019-05-30
>>>>> 
>>>>> * Add support for computed fields [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.4.3 - 2019-05-30
>>>>> 
>>>>> * Add tests for `getReferencedFields` [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.4.2 - 2019-05-09
>>>>> 
>>>>> * Update and fix lodash typings [Pagan Gazzard]
>>>>> * Update husky/mocha dev dependencies [Pagan Gazzard]

>>>>> ####### abstract-sql-compiler-6.4.1 - 2019-05-08
>>>>> 
>>>>> 
<details>
<summary> Fix typescript compilation [Pagan Gazzard] </summary>

>>>>>> ######## sbvr-parser-0.2.2 - 2019-05-08
>>>>>> 
>>>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>>>> 
>>>>> * Add node 12 tests [Pagan Gazzard]
>>>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>>> 

>>>> ###### odata-to-abstract-sql-3.1.2 - 2019-05-08
>>>> 
>>>> * Add node 12 tests [Pagan Gazzard]
>>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>>> ###### odata-to-abstract-sql-3.1.1 - 2019-04-22
>>>> 
>>>> * Fix off-by-one error when having to resort to a random alias [Pagan Gazzard]

>>>> ###### odata-to-abstract-sql-3.1.0 - 2019-03-08
>>>> 
>>>> * Add support for definitions for the target table of insert queries [Pagan Gazzard]
>>>> * Add path key where statements to the select subquery for inserts [Pagan Gazzard]
>>>> * Convert == to === [Pagan Gazzard]
</details>

>>> 

>>> ##### abstract-sql-compiler-6.13.5 - 2020-05-07
>>> 
>>> 
<details>
<summary> Improve typing of `dataTypeValidate` and sbvr-types [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.9 - 2020-05-07
>>>> 
>>>> * Switch to balena-lint [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.8 - 2020-05-05
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.7 - 2020-04-30
>>>> 
>>>> * Remove unused imports [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.6 - 2020-04-27
>>>> 
>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>> 
</details>

>> 
</details>

> 
> 
<details>
<summary> Update to @balena/sbvr-types 3.x [Pagan Gazzard] </summary>

>> #### sbvr-types-3.1.0 - 2020-06-17
>> 
>> * Update dependencies [Pagan Gazzard]

>> #### sbvr-types-3.0.0 - 2020-05-08
>> 
>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>> * Update to bcrypt 4.x [Pagan Gazzard]
>> * Enable strict tsconfig [Pagan Gazzard]
>> * Make use of `import type` where relevant [Pagan Gazzard]
>> * Update to balena-lint 5.x [Pagan Gazzard]
>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>> * Drop node 8 support [Pagan Gazzard]
>> * Update tsconfig target to es2018 [Pagan Gazzard]
>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
</details>

> 
> 
<details>
<summary> Update to @balena/abstract-sql-compiler 7.x [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-7.0.0 - 2020-05-21
>> 
>> * Allow adding to the FromTypeNode set [Pagan Gazzard]
>> * Rename to @balena/abstract-sql-compiler [Pagan Gazzard]
>> * Improve typings [Pagan Gazzard]
>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
>> * Update tsconfig to target es2018 [Pagan Gazzard]
>> * Drop support for node 6/8 [Pagan Gazzard]
>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>> ##### sbvr-types-3.0.0 - 2020-05-08
>>> 
>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>> * Enable strict tsconfig [Pagan Gazzard]
>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>> * Drop node 8 support [Pagan Gazzard]
>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]
</details>

>> 
</details>

> 

> ### pinejs-12.4.1 - 2020-06-17
> 
> * Update dependencies [Pagan Gazzard]

> ### pinejs-12.4.0 - 2020-06-17
> 
> * Export migrator types [Pagan Gazzard]
> * Export common-types types [Pagan Gazzard]
> * Export config-loader types [Pagan Gazzard]
> * Export env as a standalone [Pagan Gazzard]
> * Export errors as a standalone [Pagan Gazzard]
> * Export permissions as a standalone [Pagan Gazzard]
> * Move `AnyObject` type to common-types [Pagan Gazzard]

> ### pinejs-12.3.14 - 2020-06-11
> 
> * Add missing and remove unused dependencies [Pagan Gazzard]

> ### pinejs-12.3.13 - 2020-06-04
> 
> * More async/await conversion [Pagan Gazzard]

> ### pinejs-12.3.12 - 2020-05-23
> 
> * Convert javascript files to async/await [Pagan Gazzard]

> ### pinejs-12.3.11 - 2020-05-22
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.6 - 2020-05-19
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.8 - 2020-04-27
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-4.0.0 - 2020-05-11
>>> 
>>> * Include linting as part of the tests [Pagan Gazzard]
>>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>>> * Drop support for node 8 [Pagan Gazzard]
>>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.6 - 2020-05-11
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>>> ###### sbvr-parser-1.0.1 - 2020-05-11
>>>> 
>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>> ###### sbvr-parser-1.0.0 - 2020-05-08
>>>> 
>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.11 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.10 - 2020-05-08
>>>> 
>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.9 - 2020-05-08
>>>> 
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.8 - 2020-04-27
>>>> 
>>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.5 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.4 - 2020-05-08
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-3.0.0 - 2020-05-08
>>>> 
>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>> * Drop node 8 support [Pagan Gazzard]
>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.9 - 2020-05-07
>>>> 
>>>> * Switch to balena-lint [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.8 - 2020-05-05
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.7 - 2020-04-30
>>>> 
>>>> * Remove unused imports [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.6 - 2020-04-27
>>>> 
>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.3 - 2020-04-20
>>> 
>>> * Switch to native some [Pagan Gazzard]
>>> * Switch to native findIndex [Pagan Gazzard]
>>> * Switch to native every [Pagan Gazzard]
>>> * Switch to native find [Pagan Gazzard]
>>> * Switch to native forEach where possible [Pagan Gazzard]
>>> * Switch to native includes [Pagan Gazzard]
>>> * Switch to native array type checking [Pagan Gazzard]
>>> * Switch to native string type checking [Pagan Gazzard]
>>> * Switch to native Object.assign [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.2 - 2020-04-16
>>> 
>>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.1 - 2020-04-14
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.5 - 2020-03-17
>>>> 
>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.4 - 2020-01-22
>>>> 
>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.7 - 2020-01-22
>>>> 
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.6 - 2019-12-30
>>>> 
>>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.5 - 2019-12-30
>>>> 
>>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.4 - 2019-12-27
>>>> 
>>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.0 - 2020-04-13
>>> 
>>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.2 - 2020-02-26
>>> 
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.1 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.0 - 2019-11-01
>>> 
>>> * Add support for enum definitions on fact types [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.2 - 2019-06-14
>>> 
>>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.1 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.0 - 2019-03-08
>>> 
>>> * Add automatic modified at fields [Pagan Gazzard]

>>> ##### odata-parser-2.0.0 - 2020-05-11
>>> 
>>> * Rename to @balena/odata-parser [Pagan Gazzard]
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
>>> * Drop support for nodejs 8 [Pagan Gazzard]
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.3.0 - 2019-06-07
>>> 
>>> 
<details>
<summary> Make use of odata-parser types [Pagan Gazzard] </summary>

>>>> ###### odata-parser-1.1.1 - 2019-06-07
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### odata-parser-1.1.0 - 2019-06-06
>>>> 
>>>> * Add typings [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.6.0 - 2019-06-03
>>>> 
>>>> * Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.5.1 - 2019-06-03
>>>> 
>>>> * Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.3 - 2019-06-04
>>>> 
>>>> * Optimise exactly 0 to not exists [Pagan Gazzard]
</details>

>>> 

>>> ##### odata-to-abstract-sql-3.2.0 - 2019-05-31
>>> 
>>> * Add support for computed fields [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.3 - 2019-05-31
>>> 
>>> 
<details>
<summary> Unify the handling of adding fields with or without a $select [Pagan Gazzard] </summary>

>>>> ###### odata-parser-1.0.4 - 2019-05-27
>>>> 
>>>> * Fix adding parameter alias to the options object [Pagan Gazzard]

>>>> ###### odata-parser-1.0.3 - 2019-05-08
>>>> 
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.5.0 - 2019-05-30
>>>> 
>>>> * Add support for computed fields [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.3 - 2019-05-30
>>>> 
>>>> * Add tests for `getReferencedFields` [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.2 - 2019-05-09
>>>> 
>>>> * Update and fix lodash typings [Pagan Gazzard]
>>>> * Update husky/mocha dev dependencies [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.1 - 2019-05-08
>>>> 
>>>> 
<details>
<summary> Fix typescript compilation [Pagan Gazzard] </summary>

>>>>> ####### sbvr-parser-0.2.2 - 2019-05-08
>>>>> 
>>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>>> 
>>>> * Add node 12 tests [Pagan Gazzard]
>>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>> 

>>> ##### odata-to-abstract-sql-3.1.2 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.1 - 2019-04-22
>>> 
>>> * Fix off-by-one error when having to resort to a random alias [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.0 - 2019-03-08
>>> 
>>> * Add support for definitions for the target table of insert queries [Pagan Gazzard]
>>> * Add path key where statements to the select subquery for inserts [Pagan Gazzard]
>>> * Convert == to === [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.3 - 2020-05-19
>> 
>> * Enforce strict type checking [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.5.2 - 2020-05-18
>> 
>> 
<details>
<summary> Dev: Update to @balena/sbvr-parser 1.x [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.1 - 2020-05-18
>> 
>> 
<details>
<summary> Dev: Update to @balena/lf-to-abstract-sql 4.x [Pagan Gazzard] </summary>

>>> ##### lf-to-abstract-sql-4.0.0 - 2020-05-11
>>> 
>>> * Include linting as part of the tests [Pagan Gazzard]
>>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>>> * Drop support for node 8 [Pagan Gazzard]
>>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.0 - 2020-05-12
>> 
>> 
<details>
<summary> Update to @balena/odata-parser 2.x [Pagan Gazzard] </summary>

>>> ##### odata-parser-2.0.0 - 2020-05-11
>>> 
>>> * Rename to @balena/odata-parser [Pagan Gazzard]
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
>>> * Drop support for nodejs 8 [Pagan Gazzard]
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.4.7 - 2020-05-12
>> 
>> 
<details>
<summary> Dev: Update lf-to-abstract-sql to 3.x [Pagan Gazzard] </summary>

>>> ##### lf-to-abstract-sql-3.2.6 - 2020-05-11
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>>> ###### sbvr-parser-1.0.1 - 2020-05-11
>>>> 
>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>> ###### sbvr-parser-1.0.0 - 2020-05-08
>>>> 
>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.11 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.10 - 2020-05-08
>>>> 
>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.9 - 2020-05-08
>>>> 
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.8 - 2020-04-27
>>>> 
>>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.5 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.4 - 2020-05-08
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-3.0.0 - 2020-05-08
>>>> 
>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>> * Drop node 8 support [Pagan Gazzard]
>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.9 - 2020-05-07
>>>> 
>>>> * Switch to balena-lint [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.8 - 2020-05-05
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.7 - 2020-04-30
>>>> 
>>>> * Remove unused imports [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.6 - 2020-04-27
>>>> 
>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.3 - 2020-04-20
>>> 
>>> * Switch to native some [Pagan Gazzard]
>>> * Switch to native findIndex [Pagan Gazzard]
>>> * Switch to native every [Pagan Gazzard]
>>> * Switch to native find [Pagan Gazzard]
>>> * Switch to native forEach where possible [Pagan Gazzard]
>>> * Switch to native includes [Pagan Gazzard]
>>> * Switch to native array type checking [Pagan Gazzard]
>>> * Switch to native string type checking [Pagan Gazzard]
>>> * Switch to native Object.assign [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.2 - 2020-04-16
>>> 
>>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.1 - 2020-04-14
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.5 - 2020-03-17
>>>> 
>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.4 - 2020-01-22
>>>> 
>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.7 - 2020-01-22
>>>> 
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.6 - 2019-12-30
>>>> 
>>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.5 - 2019-12-30
>>>> 
>>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.4 - 2019-12-27
>>>> 
>>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.0 - 2020-04-13
>>> 
>>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.2 - 2020-02-26
>>> 
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.1 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.0 - 2019-11-01
>>> 
>>> * Add support for enum definitions on fact types [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.2 - 2019-06-14
>>> 
>>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.1 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.0 - 2019-03-08
>>> 
>>> * Add automatic modified at fields [Pagan Gazzard]
</details>

>> 
</details>

> 
> 
<details>
<summary> Update to @balena/lf-to-abstract-sql 4.x [Pagan Gazzard] </summary>

>> #### lf-to-abstract-sql-4.0.0 - 2020-05-11
>> 
>> * Include linting as part of the tests [Pagan Gazzard]
>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>> * Drop support for node 8 [Pagan Gazzard]
>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.6 - 2020-05-11
>> 
>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.8 - 2020-04-27
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>> 

>> #### lf-to-abstract-sql-3.2.5 - 2020-05-08
>> 
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.4 - 2020-05-08
>> 
>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>> ##### sbvr-types-3.0.0 - 2020-05-08
>>> 
>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>> * Enable strict tsconfig [Pagan Gazzard]
>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>> * Drop node 8 support [Pagan Gazzard]
>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>> ##### sbvr-types-2.0.9 - 2020-05-07
>>> 
>>> * Switch to balena-lint [Pagan Gazzard]

>>> ##### sbvr-types-2.0.8 - 2020-05-05
>>> 
>>> * Improve typings [Pagan Gazzard]

>>> ##### sbvr-types-2.0.7 - 2020-04-30
>>> 
>>> * Remove unused imports [Pagan Gazzard]

>>> ##### sbvr-types-2.0.6 - 2020-04-27
>>> 
>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>> 
</details>

> 
</details>

## 0.79.1 - 2020-06-18

* Move iterating of devices to create service installs to a lower level [Pagan Gazzard]

## 0.79.0 - 2020-06-18

* Add 랊rganization resource [Akis Kesoglou]

## 0.78.8 - 2020-06-17


<details>
<summary> Update pinejs and use updated imports [Pagan Gazzard] </summary>

> ### pinejs-12.4.0 - 2020-06-17
> 
> * Export migrator types [Pagan Gazzard]
> * Export common-types types [Pagan Gazzard]
> * Export config-loader types [Pagan Gazzard]
> * Export env as a standalone [Pagan Gazzard]
> * Export errors as a standalone [Pagan Gazzard]
> * Export permissions as a standalone [Pagan Gazzard]
> * Move `AnyObject` type to common-types [Pagan Gazzard]
</details>

## 0.78.7 - 2020-06-16

* Update migration to create all indexes normally [Pagan Gazzard]

## 0.78.6 - 2020-06-16

* Add remaining indexes for foreign keys [Pagan Gazzard]

## 0.78.5 - 2020-06-12

* CI: Specify docker version as 19.03.8 [Pagan Gazzard]

## 0.78.4 - 2020-06-12

* supervisor release: set corresponding resource if current state is null [Matthew McGinn]

<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-12.3.14 - 2020-06-11
> 
> * Add missing and remove unused dependencies [Pagan Gazzard]

> ### pinejs-12.3.13 - 2020-06-04
> 
> * More async/await conversion [Pagan Gazzard]

> ### pinejs-12.3.12 - 2020-05-23
> 
> * Convert javascript files to async/await [Pagan Gazzard]

> ### pinejs-12.3.11 - 2020-05-22
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.6 - 2020-05-19
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.8 - 2020-04-27
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-4.0.0 - 2020-05-11
>>> 
>>> * Include linting as part of the tests [Pagan Gazzard]
>>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>>> * Drop support for node 8 [Pagan Gazzard]
>>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.6 - 2020-05-11
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>>> ###### sbvr-parser-1.0.1 - 2020-05-11
>>>> 
>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>> ###### sbvr-parser-1.0.0 - 2020-05-08
>>>> 
>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.11 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.10 - 2020-05-08
>>>> 
>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.9 - 2020-05-08
>>>> 
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.8 - 2020-04-27
>>>> 
>>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.5 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.4 - 2020-05-08
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-3.0.0 - 2020-05-08
>>>> 
>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>> * Drop node 8 support [Pagan Gazzard]
>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.9 - 2020-05-07
>>>> 
>>>> * Switch to balena-lint [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.8 - 2020-05-05
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.7 - 2020-04-30
>>>> 
>>>> * Remove unused imports [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.6 - 2020-04-27
>>>> 
>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.3 - 2020-04-20
>>> 
>>> * Switch to native some [Pagan Gazzard]
>>> * Switch to native findIndex [Pagan Gazzard]
>>> * Switch to native every [Pagan Gazzard]
>>> * Switch to native find [Pagan Gazzard]
>>> * Switch to native forEach where possible [Pagan Gazzard]
>>> * Switch to native includes [Pagan Gazzard]
>>> * Switch to native array type checking [Pagan Gazzard]
>>> * Switch to native string type checking [Pagan Gazzard]
>>> * Switch to native Object.assign [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.2 - 2020-04-16
>>> 
>>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.1 - 2020-04-14
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.5 - 2020-03-17
>>>> 
>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.4 - 2020-01-22
>>>> 
>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.7 - 2020-01-22
>>>> 
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.6 - 2019-12-30
>>>> 
>>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.5 - 2019-12-30
>>>> 
>>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.4 - 2019-12-27
>>>> 
>>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.0 - 2020-04-13
>>> 
>>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.2 - 2020-02-26
>>> 
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.1 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.0 - 2019-11-01
>>> 
>>> * Add support for enum definitions on fact types [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.2 - 2019-06-14
>>> 
>>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.1 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.0 - 2019-03-08
>>> 
>>> * Add automatic modified at fields [Pagan Gazzard]

>>> ##### odata-parser-2.0.0 - 2020-05-11
>>> 
>>> * Rename to @balena/odata-parser [Pagan Gazzard]
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
>>> * Drop support for nodejs 8 [Pagan Gazzard]
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.3.0 - 2019-06-07
>>> 
>>> 
<details>
<summary> Make use of odata-parser types [Pagan Gazzard] </summary>

>>>> ###### odata-parser-1.1.1 - 2019-06-07
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### odata-parser-1.1.0 - 2019-06-06
>>>> 
>>>> * Add typings [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.6.0 - 2019-06-03
>>>> 
>>>> * Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.5.1 - 2019-06-03
>>>> 
>>>> * Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.3 - 2019-06-04
>>>> 
>>>> * Optimise exactly 0 to not exists [Pagan Gazzard]
</details>

>>> 

>>> ##### odata-to-abstract-sql-3.2.0 - 2019-05-31
>>> 
>>> * Add support for computed fields [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.3 - 2019-05-31
>>> 
>>> 
<details>
<summary> Unify the handling of adding fields with or without a $select [Pagan Gazzard] </summary>

>>>> ###### odata-parser-1.0.4 - 2019-05-27
>>>> 
>>>> * Fix adding parameter alias to the options object [Pagan Gazzard]

>>>> ###### odata-parser-1.0.3 - 2019-05-08
>>>> 
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.5.0 - 2019-05-30
>>>> 
>>>> * Add support for computed fields [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.3 - 2019-05-30
>>>> 
>>>> * Add tests for `getReferencedFields` [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.2 - 2019-05-09
>>>> 
>>>> * Update and fix lodash typings [Pagan Gazzard]
>>>> * Update husky/mocha dev dependencies [Pagan Gazzard]

>>>> ###### abstract-sql-compiler-6.4.1 - 2019-05-08
>>>> 
>>>> 
<details>
<summary> Fix typescript compilation [Pagan Gazzard] </summary>

>>>>> ####### sbvr-parser-0.2.2 - 2019-05-08
>>>>> 
>>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>>> 
>>>> * Add node 12 tests [Pagan Gazzard]
>>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

>>> 

>>> ##### odata-to-abstract-sql-3.1.2 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.1 - 2019-04-22
>>> 
>>> * Fix off-by-one error when having to resort to a random alias [Pagan Gazzard]

>>> ##### odata-to-abstract-sql-3.1.0 - 2019-03-08
>>> 
>>> * Add support for definitions for the target table of insert queries [Pagan Gazzard]
>>> * Add path key where statements to the select subquery for inserts [Pagan Gazzard]
>>> * Convert == to === [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.3 - 2020-05-19
>> 
>> * Enforce strict type checking [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.5.2 - 2020-05-18
>> 
>> 
<details>
<summary> Dev: Update to @balena/sbvr-parser 1.x [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.1 - 2020-05-18
>> 
>> 
<details>
<summary> Dev: Update to @balena/lf-to-abstract-sql 4.x [Pagan Gazzard] </summary>

>>> ##### lf-to-abstract-sql-4.0.0 - 2020-05-11
>>> 
>>> * Include linting as part of the tests [Pagan Gazzard]
>>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>>> * Drop support for node 8 [Pagan Gazzard]
>>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.5.0 - 2020-05-12
>> 
>> 
<details>
<summary> Update to @balena/odata-parser 2.x [Pagan Gazzard] </summary>

>>> ##### odata-parser-2.0.0 - 2020-05-11
>>> 
>>> * Rename to @balena/odata-parser [Pagan Gazzard]
>>> * Update to @balena/lint 5.x [Pagan Gazzard]
>>> * Drop support for nodejs 8 [Pagan Gazzard]
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.4.7 - 2020-05-12
>> 
>> 
<details>
<summary> Dev: Update lf-to-abstract-sql to 3.x [Pagan Gazzard] </summary>

>>> ##### lf-to-abstract-sql-3.2.6 - 2020-05-11
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>>> ###### sbvr-parser-1.0.1 - 2020-05-11
>>>> 
>>>> * Update to mocha 7.x [Pagan Gazzard]

>>>> ###### sbvr-parser-1.0.0 - 2020-05-08
>>>> 
>>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>>> * Drop support for node 6/8 [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.11 - 2020-05-08
>>>> 
>>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.10 - 2020-05-08
>>>> 
>>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.9 - 2020-05-08
>>>> 
>>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.8 - 2020-04-27
>>>> 
>>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.5 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.4 - 2020-05-08
>>> 
>>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-3.0.0 - 2020-05-08
>>>> 
>>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>>> * Enable strict tsconfig [Pagan Gazzard]
>>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>>> * Drop node 8 support [Pagan Gazzard]
>>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.9 - 2020-05-07
>>>> 
>>>> * Switch to balena-lint [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.8 - 2020-05-05
>>>> 
>>>> * Improve typings [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.7 - 2020-04-30
>>>> 
>>>> * Remove unused imports [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.6 - 2020-04-27
>>>> 
>>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.3 - 2020-04-20
>>> 
>>> * Switch to native some [Pagan Gazzard]
>>> * Switch to native findIndex [Pagan Gazzard]
>>> * Switch to native every [Pagan Gazzard]
>>> * Switch to native find [Pagan Gazzard]
>>> * Switch to native forEach where possible [Pagan Gazzard]
>>> * Switch to native includes [Pagan Gazzard]
>>> * Switch to native array type checking [Pagan Gazzard]
>>> * Switch to native string type checking [Pagan Gazzard]
>>> * Switch to native Object.assign [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.2 - 2020-04-16
>>> 
>>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.2.1 - 2020-04-14
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.5 - 2020-03-17
>>>> 
>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>> ###### sbvr-types-2.0.4 - 2020-01-22
>>>> 
>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.7 - 2020-01-22
>>>> 
>>>> * Add CODEOWNERS [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.6 - 2019-12-30
>>>> 
>>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.5 - 2019-12-30
>>>> 
>>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>>> ###### sbvr-parser-0.2.4 - 2019-12-27
>>>> 
>>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>>> 

>>> ##### lf-to-abstract-sql-3.2.0 - 2020-04-13
>>> 
>>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.2 - 2020-02-26
>>> 
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.1 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.1.0 - 2019-11-01
>>> 
>>> * Add support for enum definitions on fact types [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.2 - 2019-06-14
>>> 
>>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.1 - 2019-05-08
>>> 
>>> * Add node 12 tests [Pagan Gazzard]
>>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>>> ##### lf-to-abstract-sql-3.0.0 - 2019-03-08
>>> 
>>> * Add automatic modified at fields [Pagan Gazzard]
</details>

>> 
</details>

> 
> 
<details>
<summary> Update to @balena/lf-to-abstract-sql 4.x [Pagan Gazzard] </summary>

>> #### lf-to-abstract-sql-4.0.0 - 2020-05-11
>> 
>> * Include linting as part of the tests [Pagan Gazzard]
>> * Convert from UMD module to commonjs module [Pagan Gazzard]
>> * Rename to @balena/lf-to-abstract-sql [Pagan Gazzard]
>> * Drop support for node 8 [Pagan Gazzard]
>> * Move @balena/sbvr-parser to production dependencies [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.6 - 2020-05-11
>> 
>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.8 - 2020-04-27
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>> 

>> #### lf-to-abstract-sql-3.2.5 - 2020-05-08
>> 
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.4 - 2020-05-08
>> 
>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>> ##### sbvr-types-3.0.0 - 2020-05-08
>>> 
>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>> * Enable strict tsconfig [Pagan Gazzard]
>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>> * Drop node 8 support [Pagan Gazzard]
>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>> ##### sbvr-types-2.0.9 - 2020-05-07
>>> 
>>> * Switch to balena-lint [Pagan Gazzard]

>>> ##### sbvr-types-2.0.8 - 2020-05-05
>>> 
>>> * Improve typings [Pagan Gazzard]

>>> ##### sbvr-types-2.0.7 - 2020-04-30
>>> 
>>> * Remove unused imports [Pagan Gazzard]

>>> ##### sbvr-types-2.0.6 - 2020-04-27
>>> 
>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>> 
</details>

> 
</details>

## 0.78.3 - 2020-06-11

* Handle filtering for existing services in the query rather than locally [Pagan Gazzard]

## 0.78.2 - 2020-06-09


<details>
<summary> Update open-balena-base to 9.4.0 [Pagan Gazzard] </summary>

> ### open-balena-base-9.4.0 - 2020-06-08
> 
> * Update nodejs to 12.18.0 [Pagan Gazzard]
</details>

## 0.78.1 - 2020-06-08

* Convert pinejs-client Bluebird.map calls to native versions [Pagan Gazzard]

## 0.78.0 - 2020-06-08

* test-lib/fake-device: Extract the fake Device type from the return value [Thodoris Greasidis]
* Add a mac_address field to devices [Thodoris Greasidis]

## 0.77.0 - 2020-06-02

* permissions: allow device key to read hostapp if it can access device type [Stevche Radevski]

## 0.76.4 - 2020-06-01

* Simplify valid build fetching for device types [Pagan Gazzard]

<details>
<summary> Update open-balena-base to 9.3.0 [Pagan Gazzard] </summary>

> ### open-balena-base-9.3.0 - 2020-05-29
> 
> * Update nodejs to 12.17.0 and npm to 6.14.5 [Pagan Gazzard]
</details>

## 0.76.3 - 2020-05-25

* Restore support for supervisor that string match on register errors [Pagan Gazzard]

## 0.76.2 - 2020-05-22

* Check if there are any devices before checking supervisor release [Pagan Gazzard]

## 0.76.1 - 2020-05-21

* Abstract out the throttled iteration of requestDevices [Pagan Gazzard]

## 0.76.0 - 2020-05-19

* Move device-log tests from balena-api [Thomas Manning]

## 0.75.6 - 2020-05-19


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-12.3.10 - 2020-05-14
> 
> 
<details>
<summary> Update to @balena/odata-parser 2.x [Pagan Gazzard] </summary>

>> #### odata-parser-2.0.0 - 2020-05-11
>> 
>> * Rename to @balena/odata-parser [Pagan Gazzard]
>> * Update to @balena/lint 5.x [Pagan Gazzard]
>> * Drop support for nodejs 8 [Pagan Gazzard]
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]
</details>

> 

> ### pinejs-12.3.9 - 2020-05-12
> 
> * Make use of `import type` [Pagan Gazzard]

> ### pinejs-12.3.8 - 2020-05-12
> 
> 
<details>
<summary> Update to @balena/sbvr-parser 1.x [Pagan Gazzard] </summary>

>> #### lf-to-abstract-sql-3.2.6 - 2020-05-11
>> 
>> 
<details>
<summary> Update to @balena/sbvr-parser [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-1.0.1 - 2020-05-11
>>> 
>>> * Update to mocha 7.x [Pagan Gazzard]

>>> ##### sbvr-parser-1.0.0 - 2020-05-08
>>> 
>>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>>> * Drop support for node 6/8 [Pagan Gazzard]
>>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.11 - 2020-05-08
>>> 
>>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.10 - 2020-05-08
>>> 
>>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.9 - 2020-05-08
>>> 
>>> * Update to @balena/lint 5.x [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.8 - 2020-04-27
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]
</details>

>> 

>> #### lf-to-abstract-sql-3.2.5 - 2020-05-08
>> 
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.4 - 2020-05-08
>> 
>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>> ##### sbvr-types-3.0.0 - 2020-05-08
>>> 
>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>> * Enable strict tsconfig [Pagan Gazzard]
>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>> * Drop node 8 support [Pagan Gazzard]
>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>> ##### sbvr-types-2.0.9 - 2020-05-07
>>> 
>>> * Switch to balena-lint [Pagan Gazzard]

>>> ##### sbvr-types-2.0.8 - 2020-05-05
>>> 
>>> * Improve typings [Pagan Gazzard]

>>> ##### sbvr-types-2.0.7 - 2020-04-30
>>> 
>>> * Remove unused imports [Pagan Gazzard]

>>> ##### sbvr-types-2.0.6 - 2020-04-27
>>> 
>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>> 

>> #### sbvr-parser-1.0.1 - 2020-05-11
>> 
>> * Update to mocha 7.x [Pagan Gazzard]

>> #### sbvr-parser-1.0.0 - 2020-05-08
>> 
>> * Convert coffeescript tests to javascript [Pagan Gazzard]
>> * Drop support for node 6/8 [Pagan Gazzard]
>> * Rename to @balena/sbvr-parser [Pagan Gazzard]

>> #### sbvr-parser-0.2.11 - 2020-05-08
>> 
>> * CI: Add nodejs 14 to the test matrix [Pagan Gazzard]
>> * CI: Remove circleci publishing in favor of balenaCI [Pagan Gazzard]

>> #### sbvr-parser-0.2.10 - 2020-05-08
>> 
>> * Update to to @balena/sbvr-types [Pagan Gazzard]

>> #### sbvr-parser-0.2.9 - 2020-05-08
>> 
>> * Update to @balena/lint 5.x [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.4.6 - 2020-05-08
>> 
>> 
<details>
<summary> Update to @balena/sbvr-types 3.0.0 [Pagan Gazzard] </summary>

>>> ##### sbvr-types-3.0.0 - 2020-05-08
>>> 
>>> * Convert `fetchProcessing` to synchronous functions [Pagan Gazzard]
>>> * Update to bcrypt 4.x [Pagan Gazzard]
>>> * Enable strict tsconfig [Pagan Gazzard]
>>> * Make use of `import type` where relevant [Pagan Gazzard]
>>> * Update to balena-lint 5.x [Pagan Gazzard]
>>> * Rename to @balena/sbvr-types [Pagan Gazzard]
>>> * Drop node 8 support [Pagan Gazzard]
>>> * Update tsconfig target to es2018 [Pagan Gazzard]
>>> * Convert all returned promises to native promises instead of bluebird [Pagan Gazzard]

>>> ##### sbvr-types-2.0.9 - 2020-05-07
>>> 
>>> * Switch to balena-lint [Pagan Gazzard]

>>> ##### sbvr-types-2.0.8 - 2020-05-05
>>> 
>>> * Improve typings [Pagan Gazzard]
</details>

>> 
</details>

> 

> ### pinejs-12.3.7 - 2020-05-12
> 
> * Fix fetching sbvr-types version [Pagan Gazzard]

> ### pinejs-12.3.6 - 2020-05-12
> 
> * Make wider use of async/await [Pagan Gazzard]

> ### pinejs-12.3.5 - 2020-05-07
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.5 - 2020-05-07
>> 
>> 
<details>
<summary> Improve typing of `dataTypeValidate` and sbvr-types [Pagan Gazzard] </summary>

>>> ##### sbvr-types-2.0.9 - 2020-05-07
>>> 
>>> * Switch to balena-lint [Pagan Gazzard]

>>> ##### sbvr-types-2.0.8 - 2020-05-05
>>> 
>>> * Improve typings [Pagan Gazzard]

>>> ##### sbvr-types-2.0.7 - 2020-04-30
>>> 
>>> * Remove unused imports [Pagan Gazzard]

>>> ##### sbvr-types-2.0.6 - 2020-04-27
>>> 
>>> * Remove production lodash dependency [Pagan Gazzard]
</details>

>> 

>> #### sbvr-types-2.0.9 - 2020-05-07
>> 
>> * Switch to balena-lint [Pagan Gazzard]

>> #### sbvr-types-2.0.8 - 2020-05-05
>> 
>> * Improve typings [Pagan Gazzard]
</details>

> 

> ### pinejs-12.3.4 - 2020-05-05
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.4 - 2020-04-30
>> 
>> * Reduce lodash usage [Pagan Gazzard]

>> #### abstract-sql-compiler-6.13.3 - 2020-04-14
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-types-2.0.5 - 2020-03-17
>>> 
>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>> ##### odata-parser-1.4.1 - 2020-04-10
>>> 
>>> * Update dependencies [Pagan Gazzard]

>>> ##### odata-parser-1.4.0 - 2020-03-02
>>> 
>>> * 九: Add support for canAccess method call on resource [Andreas Fitzek]
</details>

>> 

>> #### sbvr-parser-0.2.8 - 2020-04-27
>> 
>> * Reduce lodash usage [Pagan Gazzard]

>> #### sbvr-types-2.0.7 - 2020-04-30
>> 
>> * Remove unused imports [Pagan Gazzard]

>> #### sbvr-types-2.0.6 - 2020-04-27
>> 
>> * Remove production lodash dependency [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.2.3 - 2020-04-20
>> 
>> * Switch to native some [Pagan Gazzard]
>> * Switch to native findIndex [Pagan Gazzard]
>> * Switch to native every [Pagan Gazzard]
>> * Switch to native find [Pagan Gazzard]
>> * Switch to native forEach where possible [Pagan Gazzard]
>> * Switch to native includes [Pagan Gazzard]
>> * Switch to native array type checking [Pagan Gazzard]
>> * Switch to native string type checking [Pagan Gazzard]
>> * Switch to native Object.assign [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.4.5 - 2020-05-05
>> 
>> 
<details>
<summary> Optimize `getRelationships` [Pagan Gazzard] </summary>

>>> ##### abstract-sql-compiler-6.13.4 - 2020-04-30
>>> 
>>> * Reduce lodash usage [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.13.3 - 2020-04-14
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.5 - 2020-03-17
>>>> 
>>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>>> ###### odata-parser-1.4.1 - 2020-04-10
>>>> 
>>>> * Update dependencies [Pagan Gazzard]

>>>> ###### odata-parser-1.4.0 - 2020-03-02
>>>> 
>>>> * 九: Add support for canAccess method call on resource [Andreas Fitzek]
</details>

>>> 
</details>

>> 

>> #### odata-to-abstract-sql-4.4.4 - 2020-04-27
>> 
>> * Reduce lodash usage [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.4.3 - 2020-04-20
>> 
>> * Switch to native forEach where possible [Pagan Gazzard]
>> * Switch to native map [Pagan Gazzard]
>> * Switch to native find [Pagan Gazzard]
>> * Switch to native some [Pagan Gazzard]
>> * Switch to native includes [Pagan Gazzard]
>> * Switch to native string type check [Pagan Gazzard]
>> * Switch to native number type check [Pagan Gazzard]
>> * Switch to native array type check [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.4.2 - 2020-04-14
>> 
>> * Fix linting and make use of import type [Pagan Gazzard]
</details>

> 
</details>

## 0.75.5 - 2020-05-18

* bugfix: Always attempt to patch device model on heartbeat [Rich Bayliss]

## 0.75.4 - 2020-05-12

* Handle false values correctly when updating the DT model [Stevche Radevski]

## 0.75.3 - 2020-05-11

* Make more use of async/await [Pagan Gazzard]

## 0.75.2 - 2020-05-11

* Remove unused import [Pagan Gazzard]
* Switch to native parseInt [Pagan Gazzard]
* Switch to native isFinite type checking [Pagan Gazzard]
* Switch to native function type checking [Pagan Gazzard]
* Switch to native isNaN type checking [Pagan Gazzard]
* Switch to native array type checking [Pagan Gazzard]
* Switch to native string type checking [Pagan Gazzard]

## 0.75.1 - 2020-05-07

* Fix gateway download migration [Pagan Gazzard]

## 0.75.0 - 2020-05-05

* Allow gateway downloads to have a null download progress [Pagan Gazzard]

## 0.74.2 - 2020-05-04

* Improve the typings of onLogin [Thodoris Greasidis]

## 0.74.1 - 2020-05-04

* Select only the required fields in findUser calls [Thodoris Greasidis]

## 0.74.0 - 2020-05-01

* platform/auth/findUser: Add support for an optional $select argument [Thodoris Greasidis]

## 0.73.3 - 2020-05-01

* Prepare the heartbeat interval queries only once, on first use [Thodoris Greasidis]

## 0.73.2 - 2020-05-01


<details>
<summary> Update open-balena-base to 9.2.4 [Pagan Gazzard] </summary>

> ### open-balena-base-9.2.4 - 2020-04-30
> 
> * Update nodejs to 12.16.3 [Pagan Gazzard]

> ### open-balena-base-9.2.3 - 2020-04-15
> 
> * Forward log from journald to console by default [Trong Nghia Nguyen]
</details>

## 0.73.1 - 2020-04-27

* Make use of optional chaining/nullish coalescing [Pagan Gazzard]

## 0.73.0 - 2020-04-20

* track device logs bytes written (information lost when rotating at retention limit) [dt-rush]

## 0.72.5 - 2020-04-17


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-12.3.3 - 2020-04-16
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### lf-to-abstract-sql-3.2.2 - 2020-04-16
>> 
>> * Always treat numbered terms as if they're used [Pagan Gazzard]

>> #### pinejs-client-js-5.7.0 - 2020-04-15
>> 
>> * Make transformGetResult a method , to ease overriding the get method [Thodoris Greasidis]
</details>

> 
</details>

## 0.72.4 - 2020-04-17

* Update balena-device-config and re-add user id [Pagan Gazzard]

## 0.72.3 - 2020-04-17

* Make userId optional in /device/register [Pagan Gazzard]

## 0.72.2 - 2020-04-16

* Revert "Remove mixpanel token configuration" [Pagan Gazzard]

## 0.72.1 - 2020-04-14


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-12.3.2 - 2020-04-14
> 
> * Ensure request.values is an object rather than nullish [Pagan Gazzard]

> ### pinejs-12.3.1 - 2020-04-14
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### lf-to-abstract-sql-3.2.1 - 2020-04-14
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-types-2.0.5 - 2020-03-17
>>> 
>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>> ##### sbvr-types-2.0.4 - 2020-01-22
>>> 
>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>> * Update dependencies [Pagan Gazzard]
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.7 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.6 - 2019-12-30
>>> 
>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.5 - 2019-12-30
>>> 
>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.4 - 2019-12-27
>>> 
>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]
</details>

>> 

>> #### lf-to-abstract-sql-3.2.0 - 2020-04-13
>> 
>> * Only add the destination of a link table if it's actually necessary [Pagan Gazzard]

>> #### odata-parser-1.4.1 - 2020-04-10
>> 
>> * Update dependencies [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.4.1 - 2020-04-14
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-parser-0.2.7 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.6 - 2019-12-30
>>> 
>>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.5 - 2019-12-30
>>> 
>>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.4 - 2019-12-27
>>> 
>>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]

>>> ##### odata-parser-1.4.1 - 2020-04-10
>>> 
>>> * Update dependencies [Pagan Gazzard]

>>> ##### sbvr-types-2.0.5 - 2020-03-17
>>> 
>>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]

>>> ##### sbvr-types-2.0.4 - 2020-01-22
>>> 
>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>> * Update dependencies [Pagan Gazzard]
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.13.2 - 2020-03-25
>>> 
>>> * 游닇鮫勇 : Improve RelationshipMapping typing and docs [Andreas Fitzek]

>>> ##### abstract-sql-compiler-6.13.1 - 2020-02-26
>>> 
>>> * Only create functions if they don't already exist [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.13.0 - 2020-02-21
>>> 
>>> * Add support for sum [Pagan Gazzard]
>>> * Add support for average [Pagan Gazzard]
>>> * Add tests for count [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.12.0 - 2020-02-21
>>> 
>>> * Add support for coalesce [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.11.6 - 2020-02-21
>>> 
>>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>>> ###### sbvr-types-2.0.4 - 2020-01-22
>>>> 
>>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>>> * Update dependencies [Pagan Gazzard]
>>>> * Add CODEOWNERS [Pagan Gazzard]
</details>

>>> 

>>> ##### abstract-sql-compiler-6.11.5 - 2020-02-06
>>> 
>>> * Update resin-lint to 3.x and use it for auto-linting [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.11.4 - 2020-02-06
>>> 
>>> * Fix query type check [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.11.3 - 2020-01-22
>>> 
>>> * Add CODEOWNERS [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.11.2 - 2020-01-09
>>> 
>>> * Trim trigger names to the max of 63 characters [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.11.1 - 2019-11-22
>>> 
>>> * Update dev dependencies [Pagan Gazzard]
</details>

>> 
</details>

> 

> ### pinejs-12.3.0 - 2020-04-03
> 
> * Convert express-emulator/express.coffee to javascript [Pagan Gazzard]
> * Convert transactions.coffee to javascript [Pagan Gazzard]
> * Convert SBVRServer.coffee to javascript [Pagan Gazzard]

> ### pinejs-12.2.3 - 2020-04-03
> 
> * Switch to using native forEach where possible [Pagan Gazzard]
> * Switch to using native some [Pagan Gazzard]
> * Switch to using native map [Pagan Gazzard]
> * Use nullish coalescing in favor of _.get where sensible [Pagan Gazzard]
> * Switch to using native findIndex [Pagan Gazzard]
> * Switch to using native find [Pagan Gazzard]
> * Switch to using native cloning [Pagan Gazzard]
> * Switch to using native parseInt [Pagan Gazzard]
> * Switch to using native filter [Pagan Gazzard]
> * Switch to using native Object.keys [Pagan Gazzard]
> * Switch to using native Object.values [Pagan Gazzard]
> * Switch to using native Object.assign [Pagan Gazzard]
> * Switch to using native startsWith [Pagan Gazzard]
> * Switch to using native endsWith [Pagan Gazzard]
> * Switch to using native includes [Pagan Gazzard]

> ### pinejs-12.2.2 - 2020-04-02
> 
> * Use native Number.isNaN type check [Pagan Gazzard]
> * Use native function type check [Pagan Gazzard]
> * Use native finite type check [Pagan Gazzard]
> * Use native integer type check [Pagan Gazzard]
> * Use native undefined type check [Pagan Gazzard]
> * Use native array type check [Pagan Gazzard]
> * Use native boolean type check [Pagan Gazzard]
> * Use native string type check [Pagan Gazzard]

> ### pinejs-12.2.1 - 2020-03-31
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### sbvr-types-2.0.5 - 2020-03-17
>> 
>> * CI: Remove circleci deploy in favor of balenaCI [Pagan Gazzard]
>> * CI: Add node 12 to the test matrix [Pagan Gazzard]
>> * CI: Remove node 6 from the test matrix [Pagan Gazzard]
>> * Update dependencies and use resin-lint for automatic lint fixes [Pagan Gazzard]
</details>

> 
</details>

## 0.72.0 - 2020-04-13

* Update to balena-device-config 6.x [Pagan Gazzard]

## 0.71.3 - 2020-04-13

* Remove mixpanel token configuration [Roman Mazur]

## 0.71.2 - 2020-04-10

* Remove unnecessary `_.get` usage [Pagan Gazzard]

## 0.71.1 - 2020-04-09


<details>
<summary> Update open-balena-base to 9.2.2 [Pagan Gazzard] </summary>

> ### open-balena-base-9.2.2 - 2020-04-09
> 
> * Update nodejs to 12.16.2, npm to 6.14.4 [Pagan Gazzard]
</details>

## 0.71.0 - 2020-04-09

* Remove image.push permission from device api key [Pagan Gazzard]

## 0.70.0 - 2020-04-08

* Remove device access to edit service labels [Pagan Gazzard]

## 0.69.0 - 2020-04-08

* Escape any potential html in error responses [Pagan Gazzard]
* Explicitly send non-string `HttpError`s as JSON [Pagan Gazzard]
* Report cases of `HttpError`s going via `translateError` [Pagan Gazzard]
* Standardize error handling via `handleHttpErrors`/`translateErrors` [Pagan Gazzard]

## 0.68.0 - 2020-04-02

* Add is_archived term to the application resource [Stevche Radevski]

## 0.67.2 - 2020-03-31

* Avoid using res.send [Pagan Gazzard]

## 0.67.1 - 2020-03-29

* Revert granting device_tag access of dependent devices [Pagan Gazzard]

## 0.67.0 - 2020-03-27

* Remove unused `IMAGE_MAKER_URL` config [Pagan Gazzard]

## 0.66.0 - 2020-03-27


<details>
<summary> 拘勇: Update pinejs [Andreas Fitzek] </summary>

> ### pinejs-12.2.0 - 2020-03-27
> 
> * 九: Optimize database queries for `canAccess()` permissions [Andreas Fitzek]

> ### pinejs-12.1.0 - 2020-03-27
> 
> * 鮫勇 : Dissallow circle permissions with `canAccess()` [Andreas Fitzek]

> ### pinejs-12.0.0 - 2020-03-27
> 
> * 游: Only allow one credential to provide permissions for the request [Andreas Fitzek]
</details>

## 0.65.3 - 2020-03-26

* Remove unnecessary $expand when getting device poll interval [Pagan Gazzard]

## 0.65.2 - 2020-03-26

* Use `canAccess` to simplify device api key permissions [Pagan Gazzard]

## 0.65.1 - 2020-03-25

* Mark type-only imports [Akis Kesoglou]

## 0.65.0 - 2020-03-25

* Add is_invalidated boolean term to the release resource [Stevche Radevski]

## 0.64.0 - 2020-03-25

* Stop re-exporting PineJS types [Akis Kesoglou]
* Remove underscored imports [Akis Kesoglou]
* Remove unused lodash imports [Akis Kesoglou]

## 0.63.2 - 2020-03-25


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-10.3.1 - 2019-01-23
> 
> * Convert odata-metadata-generator to typescript [Pagan Gazzard]
</details>

## 0.63.1 - 2020-03-23

* Allow string ids for supervisor_release resources [Cameron Diver]

## 0.63.0 - 2020-03-20

* env-vars: Add SSDT overlays host configfs variable for the up-board [Thodoris Greasidis]

## 0.62.0 - 2020-03-19

* env-vars: Add dtoverlay host config variable [Thodoris Greasidis]

## 0.61.2 - 2020-03-18

* Refactor how device type specific config vars are synthesized [Thodoris Greasidis]
* Refactor the /config/vars endpoint tests & test the fincm3 results [Thodoris Greasidis]

## 0.61.1 - 2020-03-18

* Add a retry-after header back to the rate limiting [Pagan Gazzard]
* Fix units for `blockDuration` [Pagan Gazzard]

## 0.61.0 - 2020-03-18

* Apply linting to typings files [Pagan Gazzard]

<details>
<summary> 拘勇 : Update pinejs [Andreas Fitzek] </summary>

> ### pinejs-11.3.0 - 2020-03-13
> 
> * CI: Remove circleci publish in favor of balenaCI [Pagan Gazzard]
> 
<details>
<summary> 九: Add support for `canAccess()` function in permission. [Andreas Fitzek] </summary>

>> #### odata-parser-1.4.0 - 2020-03-02
>> 
>> * 九: Add support for canAccess method call on resource [Andreas Fitzek]

>> #### odata-to-abstract-sql-4.4.0 - 2020-03-02
>> 
>> * 九: Add custom resource functions [Andreas Fitzek]
</details>

> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.1 - 2020-02-26
>> 
>> * Only create functions if they don't already exist [Pagan Gazzard]
</details>

> 
</details>

## 0.60.0 - 2020-03-17

* Switch to rate-limit-flexible for rate limiting [Pagan Gazzard]

## 0.59.8 - 2020-03-12

* Don't allow downgrading a supervisor release for a device [Cameron Diver]

## 0.59.7 - 2020-03-12

* Use resin-lint for automatic lint fixes [Pagan Gazzard]

## 0.59.6 - 2020-03-12

* Tests: make device types available via fixtures [Pagan Gazzard]

## 0.59.5 - 2020-03-11

* Tests: use fixtures mechanism for applications [Pagan Gazzard]
* Tests: use fixtures for 04-session [Pagan Gazzard]

## 0.59.4 - 2020-03-10

* Tests: add initial fixtures mechanism and use it for the admin user [Pagan Gazzard]
* Tests: remove unnecessary call to `getAccessibleDeviceTypes` [Pagan Gazzard]

## 0.59.3 - 2020-03-10

* Tests: guarantee the mocks have initialized before continuing [Pagan Gazzard]

## 0.59.2 - 2020-03-10

* Parallelize syncing the device type model [Pagan Gazzard]

## 0.59.1 - 2020-03-10

* Improve device type typings [Pagan Gazzard]

## 0.59.0 - 2020-03-06

* add missing VPN_CONNECT_PROXY_PORT to confd env backend [ab77]

## 0.58.1 - 2020-03-04


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-11.2.0 - 2020-02-26
> 
> * 九: Add an `POSTRUN-ERROR` handler in resource hooks [Andreas Fitzek]
> * CI: Remove circleci publish in favor of balenaCI [Pagan Gazzard]
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.13.1 - 2020-02-26
>> 
>> * Only create functions if they don't already exist [Pagan Gazzard]
</details>

> 
</details>

## 0.58.0 - 2020-03-03

* parameterize VPN_CONNECT_PROXY_PORT [ab77]

## 0.57.0 - 2020-02-27

* Add `supervisor release` resource [Akis Kesoglou]

## 0.56.1 - 2020-02-27

* Avoid updating in `updateOrInsert` if nothing has changed [Pagan Gazzard]

## 0.56.0 - 2020-02-25

* Populate the logoUrl in the device-type endpoint results [Thodoris Greasidis]

## 0.55.2 - 2020-02-24


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-11.1.1 - 2020-02-24
> 
> * Move permissions back to being imported after sbvr-utils [Pagan Gazzard]

> ### pinejs-11.1.0 - 2020-02-24
> 
> * Fixes for resin-lint 3.x [Pagan Gazzard]
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-4.3.0 - 2020-02-11
>> 
>> * Remove unsupported node 6 from the test matrix [Pagan Gazzard]
>> * Add support for computed field when selecting from a resource alias [Pagan Gazzard]

>> #### pinejs-client-js-5.6.11 - 2020-02-21
>> 
>> * 游냍: Fix missing `deprecated.getStringParams` function [Andreas Fitzek]

>> #### pinejs-client-js-5.6.10 - 2020-02-14
>> 
>> * Update to resin-lint 3.x [Pagan Gazzard]

>> #### pinejs-client-js-5.6.9 - 2020-02-14
>> 
>> * CircleCI: Remove deploy job as it's handled by balenaCI [Pagan Gazzard]

>> #### pinejs-client-js-5.6.8 - 2020-02-14
>> 
>> * Add the missing `method` on the post method [Thodoris Greasidis]

>> #### pinejs-client-js-5.6.7 - 2020-02-14
>> 
>> * Deprecate request overrides [Pagan Gazzard]
>> * Deprecate queries using a string url [Pagan Gazzard]
>> * Deprecate `query` in favor of `get` [Pagan Gazzard]

>> #### pinejs-client-js-5.6.6 - 2020-02-14
>> 
>> * Allow resource/$count in $filter [Pagan Gazzard]

>> #### abstract-sql-compiler-6.13.0 - 2020-02-21
>> 
>> * Add support for sum [Pagan Gazzard]
>> * Add support for average [Pagan Gazzard]
>> * Add tests for count [Pagan Gazzard]

>> #### abstract-sql-compiler-6.12.0 - 2020-02-21
>> 
>> * Add support for coalesce [Pagan Gazzard]

>> #### abstract-sql-compiler-6.11.6 - 2020-02-21
>> 
>> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>>> ##### sbvr-types-2.0.4 - 2020-01-22
>>> 
>>> * Add node 12 to the test matrix [Pagan Gazzard]
>>> * Update dependencies [Pagan Gazzard]
>>> * Add CODEOWNERS [Pagan Gazzard]
</details>

>> 

>> #### abstract-sql-compiler-6.11.5 - 2020-02-06
>> 
>> * Update resin-lint to 3.x and use it for auto-linting [Pagan Gazzard]
</details>

> 
</details>

## 0.55.1 - 2020-02-20


<details>
<summary> Update open-balena-base to 9.2.1 [Pagan Gazzard] </summary>

> ### open-balena-base-9.2.1 - 2020-02-20
> 
> * Update nodejs to 12.16.1 [Pagan Gazzard]
</details>

## 0.55.0 - 2020-02-18

* 游냍: Forward client IP for user registration [Andreas Fitzek]

## 0.54.0 - 2020-02-13

* auth: add `VPN_GUEST_API_KEY` with guest perms and rate limit exemption [Will Boyce]

## 0.53.4 - 2020-02-13

* Gracefully handle cases where we cannot find the service for an image [Pagan Gazzard]

## 0.53.3 - 2020-02-13


<details>
<summary> Update open-balena-base to 9.2.0 [Pagan Gazzard] </summary>

> ### open-balena-base-9.2.0 - 2020-02-11
> 
> * Update nodejs to 12.16.0 [Pagan Gazzard]
</details>

## 0.53.2 - 2020-02-12

* Grant device API keys read access to release and application tags [Akis Kesoglou]

## 0.53.1 - 2020-02-11

* Update dependencies [Pagan Gazzard]

## 0.53.0 - 2020-02-11

* Avoid creating an unnecessary promise in the device logs schedule loop [Pagan Gazzard]
* Remove unnecessary info about image installs from `LogWriteContext` [Pagan Gazzard]
* Remove `req` from the logs context so it can be freed more easily [Pagan Gazzard]
* Remove unused `wrapInTransaction` [Pagan Gazzard]
* Remove unnecessary transaction from device logs [Pagan Gazzard]
* Remove resinApi from the logs context so it can be freed more easily [Pagan Gazzard]

## 0.52.6 - 2020-02-10


<details>
<summary> Update open-balena-base to 9.1.0 [Pagan Gazzard] </summary>

> ### open-balena-base-9.1.0 - 2020-02-06
> 
> * Update nodejs to 12.15.0 and npm to 6.13.7 [Pagan Gazzard]
</details>

## 0.52.5 - 2020-02-06


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-11.0.7 - 2020-02-06
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.11.4 - 2020-02-06
>> 
>> * Fix query type check [Pagan Gazzard]

>> #### abstract-sql-compiler-6.11.3 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.1.1 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### odata-parser-1.3.1 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### sbvr-parser-0.2.7 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.2.1 - 2020-01-22
>> 
>> * Add CODEOWNERS [Pagan Gazzard]

>> #### pinejs-client-js-5.6.5 - 2020-01-30
>> 
>> * Remove `defaults` helper in favour of `??` [Pagan Gazzard]

>> #### pinejs-client-js-5.6.4 - 2020-01-30
>> 
>> * Avoid allocations when destroying a poll [Pagan Gazzard]

>> #### pinejs-client-js-5.6.3 - 2020-01-30
>> 
>> * Improve `RawFilter` typing [Pagan Gazzard]

>> #### pinejs-client-js-5.6.2 - 2020-01-29
>> 
>> * Update dependencies [Pagan Gazzard]

>> #### pinejs-client-js-5.6.1 - 2020-01-22
>> 
>> * Switch most CODEOWNERS entries to a team [Pagan Gazzard]

>> #### sbvr-types-2.0.4 - 2020-01-22
>> 
>> * Add node 12 to the test matrix [Pagan Gazzard]
>> * Update dependencies [Pagan Gazzard]
>> * Add CODEOWNERS [Pagan Gazzard]
</details>

> 

> ### pinejs-11.0.6 - 2020-02-03
> 
> * Deduplicate get or create functionality in config-loader [Pagan Gazzard]
> * Convert internal config-loader functions to async/await [Pagan Gazzard]
> * Convert internal permissions functions to async/await [Pagan Gazzard]

> ### pinejs-11.0.5 - 2020-01-31
> 
> * Fix missing `await` [Pagan Gazzard]
</details>

## 0.52.4 - 2020-02-04

* Update resin-lint to 3.x [Pagan Gazzard]

## 0.52.3 - 2020-02-04

* Convert multicontainer check from a hook to a rule [Pagan Gazzard]

## 0.52.2 - 2020-02-03

* Linting fixes for resin-lint 3.x [Pagan Gazzard]

## 0.52.1 - 2020-01-31

* Resolve device type concurrently to generating a uuid [Pagan Gazzard]

## 0.52.0 - 2020-01-31

* Throw specific http errors rather than generic errors [Pagan Gazzard]

## 0.51.4 - 2020-01-31


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-11.0.4 - 2020-01-24
> 
> * Convert internal sbvr-utils functions to async/await [Pagan Gazzard]
> * Convert internal migrator functions to async/await [Pagan Gazzard]
> * Convert sbvr-api/hooks to async/await [Pagan Gazzard]
> * Convert sbvr-api/odata-response to async/await [Pagan Gazzard]
> * Import bluebird as Bluebird instead of Promise [Pagan Gazzard]

> ### pinejs-11.0.3 - 2020-01-22
> 
> * Add CODEOWNERS [Pagan Gazzard]

> ### pinejs-11.0.2 - 2020-01-22
> 
> * Avoid allocations when clearing tx listeners [Pagan Gazzard]
</details>

## 0.51.3 - 2020-01-30

* Always use asynchronous `crypto.pseudoRandomBytes` [Pagan Gazzard]

## 0.51.2 - 2020-01-21


<details>
<summary> Update open-balena-base to 9.0.5 [Pagan Gazzard] </summary>

> ### open-balena-base-9.0.5 - 2020-01-10
> 
> * Update nodejs to 12.14.1 and npm to 6.13.6 [Pagan Gazzard]

> ### open-balena-base-9.0.4 - 2020-01-07
> 
> * Mask apt-daily-upgrade.timer [Pagan Gazzard]
</details>

## 0.51.1 - 2020-01-21

* Avoid allocations when clearing the device logs buffer [Pagan Gazzard]

## 0.51.0 - 2020-01-20


<details>
<summary> Update to pinejs 11 [Pagan Gazzard] </summary>

> ### pinejs-11.0.1 - 2020-01-20
> 
> * Add missing "modified at" migrations [Pagan Gazzard]

> ### pinejs-11.0.0 - 2020-01-20
> 
> * Update lint-staged to 10.x [Pagan Gazzard]
> * Update husky to 4.x [Pagan Gazzard]
> * Update terser-webpack-plugin to 2.x [Pagan Gazzard]
> * Remove unnecessary throws now that typescript understands process.exit [Pagan Gazzard]
> * Make use of the nodejs fs.promises api rather than promisifying [Pagan Gazzard]
> * Convert extended-sbvr-parser to standard es module exports [Pagan Gazzard]
> * Convert odata-metadata-generator to standard es module exports [Pagan Gazzard]
> * Convert pinejs-session-store to standard es module exports [Pagan Gazzard]
> * Update load-grunt-tasks to 5.x [Pagan Gazzard]
> * Update raw-loader to 4.x [Pagan Gazzard]
> * Update ts-loader to 6.x [Pagan Gazzard]
> * Return the original error object on internal api call failures [Pagan Gazzard]
> * Remove `UnsupportedMethodError` in favor of `MethodNotAllowedError` [Pagan Gazzard]
> * Update target to es2018 [Pagan Gazzard]
> * Stop applying default for `null` in `runURI` and `customAuthorizationMiddleware` [Pagan Gazzard]
> * Drop dual promise/callback based interfaces in favour of promise based [Pagan Gazzard]
> 
<details>
<summary> Add an automatic "modified at" field [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.11.2 - 2020-01-09
>> 
>> * Trim trigger names to the max of 63 characters [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.1.0 - 2019-11-01
>> 
>> * Add support for enum definitions on fact types [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.0.2 - 2019-06-14
>> 
>> * Fix `updateModifiedAt` formatting [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.0.1 - 2019-05-08
>> 
>> * Add node 12 tests [Pagan Gazzard]
>> * Add repo.yml for upstream changelogs [Pagan Gazzard]
>> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

>> #### lf-to-abstract-sql-3.0.0 - 2019-03-08
>> 
>> * Add automatic modified at fields [Pagan Gazzard]
</details>

> 
> 
<details>
<summary> Update typed-error to 3.2.0 [Pagan Gazzard] </summary>

>> #### typed-error-3.2.0 - 2019-11-20
>> 
>> * update deps and specify minimum engine requirements [Will Boyce]

>> #### typed-error-3.1.0 - 2019-04-01
>> 
>> * dev: Enforce prettier coding standards [Will Boyce]
>> * npm: Update dependencies and remove `package-lock.json` [Will Boyce]
>> * codeowners: Add top contributors @wrboyce, @Page-, and @dfunckt [Will Boyce]
>> * versionbot: Add CHANGELOG.yml (for nested changelogs) [Will Boyce]

>> #### typed-error-3.0.2 - 2018-11-01
>> 
>> * Update README with new import style [CameronDiver]

>> #### typed-error-3.0.1 - 2018-10-29
>> 
>> * Update to typescript 3 [Pagan Gazzard]
>> * Update dev dependencies [Pagan Gazzard]
>> * Add node-10 to the circle test suite [Pagan Gazzard]

>> #### typed-error-3.0.0 - 2018-04-17
>> 
>> * Distribute generated typescript declaration [Will Boyce]
>> * use circle for build/publish and add package-lock [Will Boyce]
>> * add lint scripts/requirements [Will Boyce]
>> * Remove `BaseError` class and  directly subclass `Error` [Will Boyce]
>> * Update dependencies, clean up package/tsconfig [Will Boyce]
</details>

> 

> ### pinejs-10.25.0 - 2020-01-16
> 
> * Switch to SQL migrations to enable migrating internal models [Pagan Gazzard]

> ### pinejs-10.24.0 - 2020-01-14
> 
> * Immediately run tx event handlers if the tx event has already triggered [Pagan Gazzard]
> * Clear queued tx event handlers once they've been scheduled to run [Pagan Gazzard]
> * Run tx event handlers asynchronously [Pagan Gazzard]
</details>

## 0.50.3 - 2020-01-20

* Update dependencies [Pagan Gazzard]
* Update lint-staged to 10.x [Pagan Gazzard]

## 0.50.2 - 2020-01-20

* Switch from the deprecated node-uuid module to uuid [Pagan Gazzard]

## 0.50.1 - 2020-01-14

* Clarify the effect of the RESIN_HOST_CONFIG_disable_splash setting [Thodoris Greasidis]

## 0.50.0 - 2020-01-14

* Make use of new sbvr features [Pagan Gazzard]

<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-10.23.1 - 2020-01-10
> 
> * Remove unnecessary Promise.method [Pagan Gazzard]

> ### pinejs-10.23.0 - 2019-12-31
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### sbvr-parser-0.2.6 - 2019-12-30
>> 
>> * Add support for using `of` instead of `that is of` [Pagan Gazzard]

>> #### sbvr-parser-0.2.5 - 2019-12-30
>> 
>> * Add support for `a given` as a universal quantification [Pagan Gazzard]

>> #### sbvr-parser-0.2.4 - 2019-12-27
>> 
>> * Allow including terms as part of a verb by using `[]` brackets [Pagan Gazzard]

>> #### abstract-sql-compiler-6.11.1 - 2019-11-22
>> 
>> * Update dev dependencies [Pagan Gazzard]
</details>

> 
</details>

## 0.49.9 - 2020-01-14

* Drop tsconfig target to es2019 to prevent issues with `?.` [Pagan Gazzard]

## 0.49.8 - 2020-01-14

* Use string.split with a limit where relevant [Pagan Gazzard]

## 0.49.7 - 2020-01-14

* Remove unnecessary usage of lodash [Pagan Gazzard]

## 0.49.6 - 2020-01-13

* Simplify a `reduce` into a `map` [Pagan Gazzard]

## 0.49.5 - 2020-01-08

* Fix an asynchronous top-level import to be synchronous [Pagan Gazzard]

## 0.49.4 - 2020-01-03

* Await both scheduling the change of state and db update when timing out [Pagan Gazzard]
* Convert lib/device-online-state to async/await [Pagan Gazzard]

## 0.49.3 - 2019-12-31

* Convert commands/dummy to async/await [Pagan Gazzard]
* Convert lib/device-proxy to async/await [Pagan Gazzard]
* Convert hooks/resources/api_key to async/await [Pagan Gazzard]
* Convert hooks/resources/release to async/await [Pagan Gazzard]
* Convert hooks/resources/image to async/await [Pagan Gazzard]
* Convert hooks/resources/application to async/await [Pagan Gazzard]
* Convert hooks/resources/image__is_part_of__release to async/await [Pagan Gazzard]
* Convert routes/api-keys to async/await [Pagan Gazzard]
* Convert platform/middleware to async/await [Pagan Gazzard]
* Convert hooks/resources/envvars to async/await [Pagan Gazzard]
* Convert hooks/resources/device to async/await [Pagan Gazzard]

## 0.49.2 - 2019-12-31

* Remove unnecessary @types/eventemitter3 [Pagan Gazzard]

## 0.49.1 - 2019-12-31

* Fix migrations/00022-drop-vpn-host-port.sql [Pagan Gazzard]

## 0.49.0 - 2019-12-30

* Drop unused `application has VPN host` and `application has VPN port` [Pagan Gazzard]

## 0.48.2 - 2019-12-30

* Add a .gitattributes to ensure the correct line endings for scripts [Pagan Gazzard]

## 0.48.1 - 2019-12-30

* Update dependencies [Pagan Gazzard]

## 0.48.0 - 2019-12-27

* Convert lib/device-types/index to async/await [Pagan Gazzard]
* Convert platform/index to async/await [Pagan Gazzard]
* Convert index.ts to async/await [Pagan Gazzard]
* Convert hooks/resources/user to async/await [Pagan Gazzard]
* Convert platform/api-keys to async/await [Pagan Gazzard]
* Convert routes/device-types to async/await [Pagan Gazzard]

## 0.47.2 - 2019-12-26

* Convert platform/auth to async/await [Pagan Gazzard]
* Convert platform/permissions to async/await [Pagan Gazzard]
* Convert lib/device-types/storage/s3 to async/await [Pagan Gazzard]
* Convert platform/jwt to async/await [Pagan Gazzard]
* Convert lib/rate-limiting to async/await [Pagan Gazzard]
* Convert lib/device-types/build-info-facade to async/await [Pagan Gazzard]
* Convert lib/application-types to async/await [Pagan Gazzard]
* Convert hooks/common to async/await [Pagan Gazzard]

## 0.47.1 - 2019-12-26

* Remove database terminology from sbvr comments [Pagan Gazzard]

## 0.47.0 - 2019-12-24

* Rename more parts to balena [Pagan Gazzard]

## 0.46.6 - 2019-12-24


<details>
<summary> Update open-balena-base to 9.0.3 [Pagan Gazzard] </summary>

> ### open-balena-base-9.0.3 - 2019-12-24
> 
> * Update nodejs to 12.14.0 and npm to 6.13.4 [Pagan Gazzard]

> ### open-balena-base-9.0.2 - 2019-12-20
> 
> * Don't use UID used in node archive when unpacking as root [Federico Fissore]

> ### open-balena-base-9.0.1 - 2019-11-15
> 
> * Update node to 12 in no systemd variant [Roman Mazur]
</details>

## 0.46.5 - 2019-12-18

* Fix migration numbering [Pagan Gazzard]

## 0.46.4 - 2019-12-17

* env-vars: make "Enable / Disable" consistent across vars [Matthew McGinn]

## 0.46.3 - 2019-12-16

* Add indexes for device state endpoint [Pagan Gazzard]

## 0.46.2 - 2019-12-11

* bug: Fix cases of device missing service_install records [Rich Bayliss]

## 0.46.1 - 2019-12-04

* 游꿛: Make application type id dynamically injected [Andreas Fitzek]

## 0.46.0 - 2019-12-02

* 游듺 : Move host os field to application resource [Andreas Fitzek]

## 0.45.0 - 2019-11-29

* Allow hostOS access if the os version is unknown [Stevche Radevski]

## 0.44.0 - 2019-11-22

* Advertise X-Balena-Client as accepted CORS header [Thodoris Greasidis]

## 0.43.13 - 2019-11-22

* Convert device-config to async/await [Pagan Gazzard]
* Switch to fs.promises instead of Bluebird.promisify for device-config [Pagan Gazzard]

## 0.43.12 - 2019-11-22


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-10.22.3 - 2019-11-22
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-4.2.0 - 2019-11-22
>> 
>> * Add support for `/$count` in filters [Pagan Gazzard]

>> #### odata-parser-1.3.0 - 2019-11-21
>> 
>> * Add support for `/$count` in filters [Pagan Gazzard]

>> #### abstract-sql-compiler-6.11.0 - 2019-11-19
>> 
>> * Add support for `CrossJoin` [Pagan Gazzard]

>> #### abstract-sql-compiler-6.10.3 - 2019-11-19
>> 
>> * Update dependencies [Pagan Gazzard]
</details>

> 

> ### pinejs-10.22.2 - 2019-11-15
> 
> * Remove duplicated stack trace printing [Pagan Gazzard]

> ### pinejs-10.22.1 - 2019-11-14
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.10.2 - 2019-11-04
>> 
>> * Fix CHECK syntax [Pagan Gazzard]
</details>

> 
</details>

## 0.43.11 - 2019-11-22

* Add missing `$select`s [Pagan Gazzard]

## 0.43.10 - 2019-11-21

* Convert routes/access to async/await [Pagan Gazzard]
* Convert routes/auth to async/await [Pagan Gazzard]
* Convert routes/applications to async/await [Pagan Gazzard]

## 0.43.9 - 2019-11-20

* 游냍: Use transaction on receiveOnlineDependentDevices [Andreas Fitzek]

## 0.43.8 - 2019-11-20

* 游냍: Token handling for JWT body token [Andreas Fitzek]

## 0.43.7 - 2019-11-20

* 游냍: Fix device route [Andreas Fitzek]

## 0.43.6 - 2019-11-19

* Only set the running release in state patch if it's valid [Pagan Gazzard]

## 0.43.5 - 2019-11-19

* Convert routes/devices to async/await [Pagan Gazzard]

## 0.43.4 - 2019-11-14

* Fix disabling online heartbeat [Pagan Gazzard]

## 0.43.3 - 2019-11-12

* Move DEFAULT_SUPERVISOR_POLL_INTERVAL to a config var [Pagan Gazzard]

## 0.43.2 - 2019-11-12

* fix: Ensure API heartbeat queue consumption is started during setup [Rich Bayliss]

## 0.43.1 - 2019-11-11

* metrics: Emit events for key points in the API heartbeat flow [Rich Bayliss]

## 0.43.0 - 2019-11-07

* Remove `resinApi` export from platform/index [Pagan Gazzard]
* Remove `authApi` export from platform/index [Pagan Gazzard]
* Remove `root` export from platform/index [Pagan Gazzard]
* Remove `db` export from platform/index [Pagan Gazzard]
* Remove unnecessary path based imports into pinejs [Pagan Gazzard]
* Remove `sbvrUtils` export from platform/index [Pagan Gazzard]

## 0.42.1 - 2019-11-07

* Update typescript to 3.7 [Pagan Gazzard]

## 0.42.0 - 2019-11-04

* Use enum definitions instead of rules [Pagan Gazzard]

## 0.41.8 - 2019-10-29

* Fix write access check [Pagan Gazzard]

## 0.41.7 - 2019-10-29

* Export `Access` interface for use downstream [Pagan Gazzard]

## 0.41.6 - 2019-10-29

* Fix case where streaming logs errors might not be caught properly [Pagan Gazzard]

## 0.41.5 - 2019-10-29

* Async/await routes/registry.ts [Pagan Gazzard]
* Async/await routes/session.ts [Pagan Gazzard]
* Async/await routes/services.ts [Pagan Gazzard]

## 0.41.4 - 2019-10-26

* Add service name to the api service api key [Pagan Gazzard]
* Optimise `getServiceFromRequest` [Pagan Gazzard]

## 0.41.3 - 2019-10-24

* Clear JWT body token after authing [Pagan Gazzard]

## 0.41.2 - 2019-10-24

* Avoid duplicate Date.now() calls [Pagan Gazzard]
* Perform the log limiting in the redis fetch [Pagan Gazzard]
* Convert redis logs backend to async/await [Pagan Gazzard]
* Convert device-logs to async/await [Pagan Gazzard]
* Change tsconfig target to es2020 with node 12 [Pagan Gazzard]

## 0.41.1 - 2019-10-23

* Only notify devices on app pinning if they're on a different release [Pagan Gazzard]
* Only notify devices on app pinning if they're unpinned [Pagan Gazzard]
* Correctly wait on fetching the list of devices for update notification [Pagan Gazzard]

## 0.41.0 - 2019-10-22


<details>
<summary> Update open-balena-base to 9.0.0 [Pagan Gazzard] </summary>

> ### open-balena-base-9.0.0 - 2019-10-21
> 
> * Update to nodejs 12 [Pagan Gazzard]

> ### open-balena-base-8.1.0 - 2019-09-24
> 
> * Respect BALENA_TLD env variable in nosystemd variant [Roman Mazur]
> * Optimize for caching [Roman Mazur]
> * Use balena node base image [Roman Mazur]
> * Add a base image without systemd [Roman Mazur]
</details>

## 0.40.1 - 2019-10-22

* Fix cases where logs requests would exit without being cleaned up [Pagan Gazzard]

## 0.40.0 - 2019-10-22

* Add ability for clients to register hooks for device state endpoint [Akis Kesoglou]

## 0.39.1 - 2019-10-18

* Fixes and optimisations for moving devices [Pagan Gazzard]

## 0.39.0 - 2019-10-16

* Disable registry v1 [Michael Angelos Simos]

## 0.38.5 - 2019-10-16

* 游냍: Add explaining error for failed application deletions [Andreas Fitzek]

## 0.38.4 - 2019-10-14

* Stop logging of every rate limited request [Pagan Gazzard]

## 0.38.3 - 2019-10-10

* Add api heartbeart state index [Pagan Gazzard]

## 0.38.2 - 2019-10-09

* fix: API heartbeat allow for poll jitter [Rich Bayliss]

## 0.38.1 - 2019-10-08


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-10.20.2 - 2019-09-24
> 
> * Use string.split with a limit where relevant [Pagan Gazzard]

> ### pinejs-10.20.1 - 2019-09-23
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.9.1 - 2019-09-20
>> 
>> * Switch to a lookup table for finding existing bind var entries [Pagan Gazzard]

>> #### odata-parser-1.2.3 - 2019-09-20
>> 
>> * Optimise merging of operands in `FilterByExpressionLoop` [Pagan Gazzard]

>> #### odata-to-abstract-sql-4.1.2 - 2019-09-23
>> 
>> 
<details>
<summary> Optimise generating resource mappings [Pagan Gazzard] </summary>

>>> ##### odata-parser-1.2.3 - 2019-09-20
>>> 
>>> * Optimise merging of operands in `FilterByExpressionLoop` [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.1.1 - 2019-09-19
>> 
>> * Improve error messages on failing to resolve relationships [Pagan Gazzard]
</details>

> 
</details>

## 0.38.0 - 2019-10-08

* Use a middleware to prefetch api key auth [Pagan Gazzard]

## 0.37.0 - 2019-10-08

* Move time based constants to config.ts [Pagan Gazzard]

## 0.36.0 - 2019-10-07

* Allow scoped access tokens to use the whoami endpoint [Lucian]

## 0.35.3 - 2019-10-07

* Avoid unnecessary object creation [Pagan Gazzard]

## 0.35.2 - 2019-10-07

* feature: Add API heartbeat state mechanism [Rich Bayliss]

## 0.35.1 - 2019-10-04

* env-vars: whitelist other Raspberry-Pi devices for config capable device types [Gergely Imreh]

## 0.35.0 - 2019-10-03

* 九뻟릢: Add support for authenticated image storage access [Andreas Fitzek]

## 0.34.0 - 2019-09-30

* 游듺 游눤: Renaming dt table [Andreas Fitzek]

## 0.33.8 - 2019-09-30

* 游냍: Double migration prefix [Andreas Fitzek]

## 0.33.7 - 2019-09-30

* 游냍: Fix initial dt migration [Andreas Fitzek]

## 0.33.6 - 2019-09-27

* Fix password comparisons with null hash [Thodoris Greasidis]

## 0.33.5 - 2019-09-27

* Add release is running on device synonymous form [Thodoris Greasidis]

## 0.33.4 - 2019-09-27

* Minimise the device state read transaction is open [Pagan Gazzard]

## 0.33.3 - 2019-09-25

* 游냍: All device type slug lookups [Andreas Fitzek]

## 0.33.2 - 2019-09-24

* Dont send a null contract from the state endpoint [Cameron Diver]

## 0.33.1 - 2019-09-22

* Fix a password comparison with null that the typing revealed [Thodoris Greasidis]
* platform/auth: Type the result of findUser() [Thodoris Greasidis]

## 0.33.0 - 2019-09-20

* Convert application and device commit hashes to release references [Pagan Gazzard]

## 0.32.2 - 2019-09-19

* Prettify and lint test files [Lucian]

## 0.32.1 - 2019-09-19


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-10.20.0 - 2019-09-19
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.9.0 - 2019-09-16
>> 
>> * Add support for resolving directly circular dependencies on postgres [Pagan Gazzard]
</details>

> 

> ### pinejs-10.19.7 - 2019-09-18
> 
> * Avoid caching odata urls with a hardcoded key parameter [Pagan Gazzard]

> ### pinejs-10.19.6 - 2019-09-11
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### abstract-sql-compiler-6.8.1 - 2019-09-10
>> 
>> * Optimise finding of existing binds when adding a bind variable [Pagan Gazzard]
</details>

> 

> ### pinejs-10.19.5 - 2019-08-29
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-4.1.0 - 2019-08-29
>> 
>> * Add support for `TableNode` definitions [Pagan Gazzard]
>> 
<details>
<summary> Add typings support for `ResourceNode`s in join nodes [Pagan Gazzard] </summary>

>>> ##### abstract-sql-compiler-6.8.0 - 2019-08-29
>>> 
>>> * Add support for inner/left/right/full joins [Pagan Gazzard]
</details>

>> 

>> #### odata-to-abstract-sql-4.0.1 - 2019-08-22
>> 
>> * Update dependencies [Pagan Gazzard]

>> #### abstract-sql-compiler-6.8.0 - 2019-08-29
>> 
>> * Add support for inner/left/right/full joins [Pagan Gazzard]
</details>

> 

> ### pinejs-10.19.4 - 2019-08-23
> 
> * Accept `instanceof Error` as valid errors [Pagan Gazzard]

> ### pinejs-10.19.3 - 2019-08-20
> 
> 
<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

>> #### pinejs-client-js-5.6.0 - 2019-07-12
>> 
>> * Add 'upsert' method supporting natural keys, requires Pinejs ^10.19.1 [Thodoris Greasidis]
</details>

> 

> ### pinejs-10.19.2 - 2019-07-26
> 
> * Correctly use the database table name for prettifying constraint errors [Pagan Gazzard]

> ### pinejs-10.19.1 - 2019-07-08
> 
> * Only send the error message as the response body for constraint errors [Pagan Gazzard]

> ### pinejs-10.19.0 - 2019-07-05
> 
> * Return a more accurate 409 status for constraint errors [Pagan Gazzard]

> ### pinejs-10.18.1 - 2019-07-05
> 
> * Schedule clearing compile cache on any use [Pagan Gazzard]

> ### pinejs-10.18.0 - 2019-07-04
> 
> * Add caching of odata that uses parameter aliases [Pagan Gazzard]

> ### pinejs-10.17.3 - 2019-07-04
> 
> * Don't generate a `resourceURI` if there is no resource id [Pagan Gazzard]

> ### pinejs-10.17.2 - 2019-07-02
> 
> * Stop sending `type` in the response as it's always an empty string [Pagan Gazzard]

> ### pinejs-10.17.1 - 2019-07-02
> 
> * Clear the cache upon persisting it to disk [Pagan Gazzard]

> ### pinejs-10.17.0 - 2019-06-25
> 
> * 九: Support TS migrations [Andreas Fitzek]

> ### pinejs-10.16.1 - 2019-06-20
> 
> 
<details>
<summary> Fix missing `promise: true` option for memoized `$getApiKeyPermissions` [Pagan Gazzard] </summary>

>> #### pinejs-client-js-5.5.4 - 2019-06-18
>> 
>> * Remove unnecessary `string` type that is handled by the `Params` type [Pagan Gazzard]

>> #### pinejs-client-js-5.5.3 - 2019-06-18
>> 
>> * Use an .npmrc to prevent creating a package-lock on each install [Thodoris Greasidis]

>> #### pinejs-client-js-5.5.2 - 2019-06-10
>> 
>> * Add some type casting so that it compiles on TypeScript 3.5 [Thodoris Greasidis]

>> #### abstract-sql-compiler-6.7.1 - 2019-06-17
>> 
>> * Change `IsDistinctFrom` for postgres to a version that can use indexes [Pagan Gazzard]
>> * Optimise `IsDistinctFrom`/`IsNotDistinctFrom` when either arg is `Null` [Pagan Gazzard]
</details>

> 

> ### pinejs-10.16.0 - 2019-06-14
> 
> 
<details>
<summary> Fix handling of odata eq/ne when fields contain null [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-4.0.0 - 2019-06-14
>> 
>> * Update tsconfig target to es2018 [Pagan Gazzard]
>> * Use `IsDistinctFrom`/`IsNotDistinctFrom` for odata `eq`/`ne` [Pagan Gazzard]

>> #### abstract-sql-compiler-6.7.0 - 2019-06-14
>> 
>> * Add support for `IsDistinctFrom`/`IsNotDistinctFrom` [Pagan Gazzard]
</details>

> 

> ### pinejs-10.15.7 - 2019-06-10
> 
> * Remove unused odata options to improve cache hits [Pagan Gazzard]

> ### pinejs-10.15.6 - 2019-06-10
> 
> 
<details>
<summary> Update odata-parser to make use of its types [Pagan Gazzard] </summary>

>> #### odata-to-abstract-sql-3.3.0 - 2019-06-07
>> 
>> 
<details>
<summary> Make use of odata-parser types [Pagan Gazzard] </summary>

>>> ##### odata-parser-1.1.1 - 2019-06-07
>>> 
>>> * Improve typings [Pagan Gazzard]

>>> ##### odata-parser-1.1.0 - 2019-06-06
>>> 
>>> * Add typings [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.6.0 - 2019-06-03
>>> 
>>> * Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

>>> ##### abstract-sql-compiler-6.5.1 - 2019-06-03
>>> 
>>> * Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]

>>> ##### sbvr-parser-0.2.3 - 2019-06-04
>>> 
>>> * Optimise exactly 0 to not exists [Pagan Gazzard]
</details>

>> 

>> #### sbvr-parser-0.2.3 - 2019-06-04
>> 
>> * Optimise exactly 0 to not exists [Pagan Gazzard]

>> #### odata-parser-1.2.0 - 2019-06-07
>> 
>> * Support `;` for separating expand options [Pagan Gazzard]

>> #### odata-parser-1.1.1 - 2019-06-07
>> 
>> * Improve typings [Pagan Gazzard]

>> #### odata-parser-1.1.0 - 2019-06-06
>> 
>> * Add typings [Pagan Gazzard]
</details>

> 

> ### pinejs-10.15.5 - 2019-06-04
> 
> * Remove unnecessary `process.env` accesses [Pagan Gazzard]
</details>

## 0.32.0 - 2019-09-19

* Return the container contract from the device state endpoint [Cameron Diver]
* Add a contract JSON field to the image resource [Cameron Diver]

## 0.31.2 - 2019-09-19

* Add an editorconfig file [Lucian]

## 0.31.1 - 2019-09-17

* Also create service installs for devices that are currently pinned [Pagan Gazzard]

## 0.31.0 - 2019-09-09

* 游듺 : Introduce renamed dt slug field for device and application resources [Andreas Fitzek]

## 0.30.1 - 2019-08-20


<details>
<summary> Update open-balena-base to 8.0.3 [Pagan Gazzard] </summary>

> ### open-balena-base-8.0.3 - 2019-08-16
> 
> * 游: Update Node to 10.16.3 and NPM to 6.10.3 [Andreas Fitzek]
</details>

## 0.30.0 - 2019-08-14

* 游눤游듺 : Add device types table and link it [Andreas Fitzek]

## 0.29.1 - 2019-08-13

* auth: fix typo in device-api-key permissions [Will Boyce]

## 0.29.0 - 2019-08-12

* perms: grant user api keys perms to CRUD public keys [Will Boyce]
* perms: grant `device-api-key` ability to lookup user public keys [Will Boyce]
* migration: rename root user to admin [Will Boyce]
* auth: check username blacklist when registering new users [Will Boyce]
* auth: add `auth/v1/public-keys/:username endpoint for devices ssh auth [Will Boyce]
* sbrv: add user public keys [Will Boyce]

## 0.28.7 - 2019-08-06


<details>
<summary> Update open-balena-base to 8.0.2 [Pagan Gazzard] </summary>

> ### open-balena-base-8.0.2 - 2019-08-06
> 
> * Update nodejs to 10.16.1 and npm to 6.10.2 [Pagan Gazzard]
</details>

## 0.28.6 - 2019-08-06

* 游: Always redirect to configured API host [Andreas Fitzek]

## 0.28.5 - 2019-07-30

* Use prepared queries for vpn client connect/disconnect [Pagan Gazzard]

## 0.28.4 - 2019-07-24

* Revert "Add an entry for the supervisor mixpanel controlling var" [Cameron Diver]

## 0.28.3 - 2019-07-18

* registry: Allow registry authentication for docker login [Gergely Imreh]

<details>
<summary> Update open-balena-base to 8.0.1 [Pagan Gazzard] </summary>

> ### open-balena-base-8.0.1 - 2019-07-17
> 
> * mdns: Ensure multipart subdomains are allowed [Heds Simons]
</details>

## 0.28.2 - 2019-07-09

* Fix key comparison [Pagan Gazzard]

## 0.28.1 - 2019-07-08

* Use a prepared query for `gracefullyDenyDeletedDevices` middleware [Pagan Gazzard]
* Use a prepared query for `getUser` helper [Pagan Gazzard]
* Use a prepared query for vpn auth requests [Pagan Gazzard]

## 0.28.0 - 2019-07-08


<details>
<summary> Update open-balena-base to 8.0.0 [Pagan Gazzard] </summary>

> ### open-balena-base-8.0.0 - 2019-07-08
> 
> * Upgrade to debian buster [Pagan Gazzard]
</details>

## 0.27.9 - 2019-07-02

* Avoid fetching deleted image installs for log write context [Pagan Gazzard]

## 0.27.8 - 2019-06-28

* Minor cleanup and typo fixes [Pagan Gazzard]

## 0.27.7 - 2019-06-25

* Block removal of the currently deployed release in isolation [Pagan Gazzard]

## 0.27.6 - 2019-06-24

* Add some indexes for delete cascading [Pagan Gazzard]

## 0.27.5 - 2019-06-21

* Fix unreturned promise warning in log-stream [Pagan Gazzard]

## 0.27.4 - 2019-06-21

* Add an index on the "image" table for use by a rule [Pagan Gazzard]

## 0.27.3 - 2019-06-21

* Merge release indexes to allow for better utilisation [Pagan Gazzard]

## 0.27.2 - 2019-06-20

* Drop duplicate api key index, it's already index via a unique index [Pagan Gazzard]

## 0.27.1 - 2019-06-20

* Update open-balena-base to 7.2.2 [Pagan Gazzard]

<details>
<summary> View details </summary>

### open-balena-base-7.2.2 - 2019-06-19

* systemd: move StartLimitIntervalSec to proper conf section [Matthew McGinn]
</details>

## 0.27.0 - 2019-06-19

* Use `addDeleteHookForDependents` for application deletes [Pagan Gazzard]
* Remove unnecessary sub dependent support - the deletes are run in order [Pagan Gazzard]

## 0.26.0 - 2019-06-17

* auth: allow device API keys to fully control the device's env vars [Gergely Imreh]

## 0.25.0 - 2019-06-14

* Cache the resolved subject for /auth/v1/token requests for 5 minutes [Pagan Gazzard]

## 0.24.8 - 2019-06-13

* Fix issue with undefined download progress [Pagan Gazzard]

## 0.24.7 - 2019-06-13

* Fix error when deleting all image installs in the patch endpoint [Pagan Gazzard]

## 0.24.6 - 2019-06-12

* Avoid unnecessary writes on the state patch endpoint [Pagan Gazzard]

## 0.24.5 - 2019-06-12

* Simplify and increase parallelisation of state patch endpoint [Pagan Gazzard]

## 0.24.4 - 2019-06-12

* Run state patch in a transaction [Pagan Gazzard]

## 0.24.3 - 2019-06-06

* Update open-balena-base to 7.2.1 [Pagan Gazzard]

<details>
<summary> View details </summary>

### open-balena-base-7.2.1 - 2019-06-03

* Fix adding htoprc [Pagan Gazzard]
</details>

## 0.24.2 - 2019-06-04

* Avoid unnecessary writes on login by adding an optional hook [Pagan Gazzard]

## 0.24.1 - 2019-06-04

* Update pinejs [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.15.4 - 2019-06-03

* Use `PromiseLike` to be more accepting with promise returning functions [Pagan Gazzard]

### pinejs-10.15.3 - 2019-06-03

* Update the alias instead of stripping for non-field nodes [Pagan Gazzard]

<details>
<summary> View details </summary>

#### odata-to-abstract-sql-3.2.0 - 2019-05-31

* Add support for computed fields [Pagan Gazzard]

#### odata-to-abstract-sql-3.1.3 - 2019-05-31

* Unify the handling of adding fields with or without a $select [Pagan Gazzard]

<details>
<summary> View details </summary>

##### odata-parser-1.0.4 - 2019-05-27

* Fix adding parameter alias to the options object [Pagan Gazzard]

##### odata-parser-1.0.3 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

##### abstract-sql-compiler-6.5.0 - 2019-05-30

* Add support for computed fields [Pagan Gazzard]

##### abstract-sql-compiler-6.4.3 - 2019-05-30

* Add tests for `getReferencedFields` [Pagan Gazzard]

##### abstract-sql-compiler-6.4.2 - 2019-05-09

* Update and fix lodash typings [Pagan Gazzard]
* Update husky/mocha dev dependencies [Pagan Gazzard]

##### abstract-sql-compiler-6.4.1 - 2019-05-08

* Fix typescript compilation [Pagan Gazzard]

<details>
<summary> View details </summary>

###### sbvr-parser-0.2.2 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

* Add node 12 tests [Pagan Gazzard]
* Add repo.yml for upstream changelogs [Pagan Gazzard]
* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>


#### abstract-sql-compiler-6.6.0 - 2019-06-03

* Improve aliased from handling in `getReferencedFields` [Pagan Gazzard]

#### abstract-sql-compiler-6.5.1 - 2019-06-03

* Use an abstract-sql-optimiser prepass to simplify getReferencedFields [Pagan Gazzard]
</details>


### pinejs-10.15.2 - 2019-06-03

* Update lodash types [Pagan Gazzard]

### pinejs-10.15.1 - 2019-05-31

* Update dependencies [Pagan Gazzard]

<details>
<summary> View details </summary>

#### odata-parser-1.0.4 - 2019-05-27

* Fix adding parameter alias to the options object [Pagan Gazzard]

#### abstract-sql-compiler-6.5.0 - 2019-05-30

* Add support for computed fields [Pagan Gazzard]

#### abstract-sql-compiler-6.4.3 - 2019-05-30

* Add tests for `getReferencedFields` [Pagan Gazzard]
</details>

</details>

## 0.24.0 - 2019-06-03

* 九 Add `host` flag to application type model [Andreas Fitzek]

## 0.23.1 - 2019-05-31

* Update dependencies [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.15.0 - 2019-05-21

* Add basic support for non-number fields in __metadata.uri [Pagan Gazzard]

### pinejs-10.14.3 - 2019-05-21

* Memoize `resolveNavigationResource` [Pagan Gazzard]

### pinejs-10.14.2 - 2019-05-21

* Fix `getMemoizedCompileRule` not correctly memoizing [Pagan Gazzard]

### pinejs-10.14.1 - 2019-05-20

* Remove unused functions [Pagan Gazzard]
</details>

## 0.23.0 - 2019-05-29

* Update open-balena-base to 7.2.0 [Pagan Gazzard]

<details>
<summary> View details </summary>

### open-balena-base-7.2.0 - 2019-05-29

* Add default htop settings to hide threads and use a tree view [Pagan Gazzard]

### open-balena-base-7.1.0 - 2019-05-29

* Update nodejs to 10.16.0 and npm to 6.9.0 [Pagan Gazzard]
</details>

## 0.22.5 - 2019-05-29

* Add an entry for the supervisor mixpanel controlling var [Cameron Diver]

## 0.22.4 - 2019-05-28

* Fix filtering out 'build' properties from services [Pagan Gazzard]

## 0.22.3 - 2019-05-28

* More device state simplification [Pagan Gazzard]

## 0.22.2 - 2019-05-27

* Fix `releaseFromApp` when the app has no commit associated [Pagan Gazzard]

## 0.22.1 - 2019-05-27

* Simplify device state query [Pagan Gazzard]

## 0.22.0 - 2019-05-27

* Use a prepared query for getting the release for an app [Pagan Gazzard]

## 0.21.0 - 2019-05-24

* Remove unused code [Pagan Gazzard]

## 0.20.7 - 2019-05-24

* Switch from `_` to `$` prefix for functions that are used [Pagan Gazzard]

## 0.20.6 - 2019-05-24

* Fix fetching `image_environment_variable` in the state endpoint [Pagan Gazzard]
* Fix overzealous conversion to native map [Pagan Gazzard]

## 0.20.5 - 2019-05-23

* Use native map in preference [Pagan Gazzard]
* Prefer native startsWith [Pagan Gazzard]
* Remove unnecessary uses of _.merge [Pagan Gazzard]
* Switch to native forEach [Pagan Gazzard]
* Use object spreads instead of _.assign [Pagan Gazzard]

## 0.20.4 - 2019-05-23

* Switch from `_.includes` to native `.includes` [Pagan Gazzard]

## 0.20.3 - 2019-05-22

* Avoid paying the cost of jwt auth if there's no chance of success [Pagan Gazzard]

## 0.20.2 - 2019-05-21

* Fix error when calling `checkDevicesCanHaveDeviceURL` with no devices [Pagan Gazzard]

## 0.20.1 - 2019-05-21

* Catch proxy request rejections to avoid excessive error reporting [Akis Kesoglou]

## 0.20.0 - 2019-05-20

* Only convert field to a path once [Pagan Gazzard]
* Merge `createRateLimit` and `createRateLimitMiddleware` [Pagan Gazzard]
* Simplify rate-limiting [Pagan Gazzard]

## 0.19.5 - 2019-05-20

* Update typed-error to 3.1.0 [Pagan Gazzard]

<details>
<summary> View details </summary>

### typed-error-3.1.0 - 2019-04-01

* dev: Enforce prettier coding standards [Will Boyce]
* npm: Update dependencies and remove `package-lock.json` [Will Boyce]
* codeowners: Add top contributors @wrboyce, @Page-, and @dfunckt [Will Boyce]
* versionbot: Add CHANGELOG.yml (for nested changelogs) [Will Boyce]

### typed-error-3.0.2 - 2018-11-01

* Update README with new import style [CameronDiver]

### typed-error-3.0.1 - 2018-10-29

* Update to typescript 3 [Pagan Gazzard]
* Update dev dependencies [Pagan Gazzard]
* Add node-10 to the circle test suite [Pagan Gazzard]

### typed-error-3.0.0 - 2018-04-17

* Distribute generated typescript declaration [Will Boyce]
* use circle for build/publish and add package-lock [Will Boyce]
* add lint scripts/requirements [Will Boyce]
* Remove `BaseError` class and  directly subclass `Error` [Will Boyce]
* Update dependencies, clean up package/tsconfig [Will Boyce]

### typed-error-2.0.1 - 2017-12-15

* Add LICENSE [Akis Kesoglou]
</details>

## 0.19.4 - 2019-05-20

* Some linting fixes for resin-lint 3 [Pagan Gazzard]

## 0.19.3 - 2019-05-17

* Silence expected API key related rejections [Akis Kesoglou]

## 0.19.2 - 2019-05-17

* Update dependencies [Pagan Gazzard]

## 0.19.1 - 2019-05-15

* Make use of a prepared query for device state query [Pagan Gazzard]
* Update pinejs to 10.14.0 [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.14.0 - 2019-05-15

* Update pinejs-client-core and make use of prepared queries [Pagan Gazzard]

<details>
<summary> View details </summary>

#### odata-parser-1.0.3 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

#### odata-parser-1.0.2 - 2019-04-15

* Update dependencies [Pagan Gazzard]

#### abstract-sql-compiler-6.4.2 - 2019-05-09

* Update and fix lodash typings [Pagan Gazzard]
* Update husky/mocha dev dependencies [Pagan Gazzard]

#### abstract-sql-compiler-6.4.1 - 2019-05-08

* Fix typescript compilation [Pagan Gazzard]

<details>
<summary> View details </summary>

##### sbvr-parser-0.2.2 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

* Add node 12 tests [Pagan Gazzard]
* Add repo.yml for upstream changelogs [Pagan Gazzard]
* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

#### pinejs-client-js-5.5.1 - 2019-05-15

* Fix downstream declaration creation errors due to `Dictionary` [Pagan Gazzard]

#### pinejs-client-js-5.5.0 - 2019-05-15

* Add a prepare method that prepares a query into a function [Pagan Gazzard]

#### pinejs-client-js-5.4.1 - 2019-05-10

* Add CODEOWNERS [Gergely Imreh]

#### pinejs-client-js-5.4.0 - 2019-05-10

* Add support for parameter aliases in resource ids [Pagan Gazzard]

#### pinejs-client-js-5.3.10 - 2019-05-10

* Deduplicate transformation of GET results [Pagan Gazzard]

#### pinejs-client-js-5.3.9 - 2019-05-10

* Simplify how we expose types, which means `subscribe` is now exposed [Pagan Gazzard]

#### pinejs-client-js-5.3.8 - 2019-05-09

* Add automatic formatting via prettier [Pagan Gazzard]

#### pinejs-client-js-5.3.7 - 2019-05-08

* Remove node 4 build, add node 12 [Pagan Gazzard]
* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

#### odata-to-abstract-sql-3.1.2 - 2019-05-08

* Add node 12 tests [Pagan Gazzard]
* Add repo.yml for upstream changelogs [Pagan Gazzard]
* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

#### sbvr-types-2.0.3 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]

#### sbvr-parser-0.2.2 - 2019-05-08

* Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>


### pinejs-10.13.3 - 2019-05-14

* Fix possible null error when using a parameter alias with no value [Pagan Gazzard]

### pinejs-10.13.2 - 2019-05-08

* Add repo.yml for nested changelogs [Pagan Gazzard]

### pinejs-10.13.1 - 2019-05-06

* Add node 12 to the circle tests [Pagan Gazzard]

### pinejs-10.13.0 - 2019-05-06

* Expose odata-compiler as a bin script [Pagan Gazzard]

### pinejs-10.12.0 - 2019-05-01

* Expose sbvr-compiler as a bin script [Pagan Gazzard]
* Move odata-metadata-generator into odata-metadata directory [Pagan Gazzard]

### pinejs-10.11.3 - 2019-05-01

* Update @types/lodash, avoiding `_.isObject` where necessary [Pagan Gazzard]

### pinejs-10.11.2 - 2019-04-22

* Only validate the model if the query affected at least 1 row [Pagan Gazzard]

### pinejs-10.11.1 - 2019-04-11

* Switch odata-metadata-generator to using an abstract sql model [Pagan Gazzard]
</details>

## 0.19.0 - 2019-05-15

* Update target to es2018 [Pagan Gazzard]

## 0.18.6 - 2019-05-10

* bug: Resolve NPM dependency issues preventing startup [Rich Bayliss]

## 0.18.5 - 2019-05-08

* Add typed-error upstream to repo.yml [Pagan Gazzard]
* Add open-balena-base upstream to repo.yml [Pagan Gazzard]

## 0.18.4 - 2019-05-06

* Disable the service start limit [Pagan Gazzard]
* Update open-balena-base to v7.0.2 [Pagan Gazzard]

## 0.18.3 - 2019-05-01

* tests: Add test framework [Rich Bayliss]

## 0.18.2 - 2019-04-29

* Fix import ordering issue [Pagan Gazzard]

## 0.18.1 - 2019-04-29

* versionbot: add machine readable changelog [Gergely Imreh]

## 0.18.0 - 2019-04-29

* device-config: allow devices going back to v1.2.1 to use registry v2 [Gergely Imreh]

## 0.17.4 - 2019-04-26

* Handle requesting registry scopes with explicit indices above 20 [Pagan Gazzard]

## 0.17.3 - 2019-04-24

* Use more accurate `BadRequestError`s for invalid env var names [Pagan Gazzard]

## 0.17.2 - 2019-04-24

* os-config: disable client-initiated vpn tls key renegotiation [Will Boyce]

## 0.17.1 - 2019-04-19

* Remove unused `DEVICE_CONFIG_OPENVPN_CONFIG` fron env backend [Pagan Gazzard]

## 0.17.0 - 2019-04-18

* Rename `env_var_name` to `name` to match cloud [Pagan Gazzard]

## 0.16.1 - 2019-04-18

* fix: Changes required to make `my_application` resource available [Rich Bayliss]

## 0.16.0 - 2019-04-17

* Handle `my_applications` within pinejs [Pagan Gazzard]

## 0.15.2 - 2019-04-17

* device-proxy: use `.balena` tld in favour of `.resin` [Will Boyce]

## 0.15.1 - 2019-04-17

* Update method-override to 3.x [Pagan Gazzard]

## 0.15.0 - 2019-04-15

* Rename `configPath` to `config` and make sure config.json is valid [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.11.0 - 2019-04-11

* Allow specifying the abstract sql directly in the config [Pagan Gazzard]

### pinejs-10.10.0 - 2019-04-10

* Allow specifying absolute paths in the config [Pagan Gazzard]

### pinejs-10.9.0 - 2019-04-10

* Allow any importable config file type rather than just JSON [Pagan Gazzard]

### pinejs-10.8.2 - 2019-04-06

* Only print the error message on pool errors [Pagan Gazzard]

### pinejs-10.8.1 - 2019-04-01

* Add an error handler to the pg pool [Pagan Gazzard]
</details>

## 0.14.0 - 2019-04-04

* Whitelist the new RESIN_SUPERVISOR_INSTANT_UPDATE_TRIGGER configuration variable [Pablo Carranza Velez]

## 0.13.3 - 2019-04-02

* Fix `ResolvableReturnType` typing [Pagan Gazzard]

## 0.13.2 - 2019-04-01

* Add CODEOWNERS file [Pagan Gazzard]

## 0.13.1 - 2019-04-01

* Add an index for the vpn's service instance lookup [Pagan Gazzard]

## 0.13.0 - 2019-03-28

* Remove runInTransaction wrapper to avoid unnecessary function creation [Pagan Gazzard]
* Use a readTransaction for device state [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.8.0 - 2019-03-25

* Add support for read-only transactions for postgres/mysql backends [Pagan Gazzard]

### pinejs-10.7.0 - 2019-03-12

* Use definitions for all permission types [Pagan Gazzard]
</details>

## 0.12.0 - 2019-03-19

* Add build log to release resource [Stevche Radevski]

## 0.11.8 - 2019-03-12

* Add pinejs as upstream in repo.yml [Giovanni Garufi]

## 0.11.7 - 2019-03-11

* Update pinejs to 10.6.1 [Pagan Gazzard]

## 0.11.6 - 2019-03-08

* Avoid issues with updated bluebird typings [Pagan Gazzard]

## 0.11.5 - 2019-03-05

* Update open-balena-base to v5.3.1 [Pagan Gazzard]

## 0.11.4 - 2019-02-25

* Switch _ to $ due to the special meaning of _ in typescript [Pagan Gazzard]

## 0.11.3 - 2019-02-22

* Add connectivity-check endpoint that just sends a 204 [Pagan Gazzard]

## 0.11.2 - 2019-02-18

* Fix setting release to zero filtered devices 404 error [Thodoris Greasidis]

## 0.11.1 - 2019-02-14

* Added `skipHttpsPaths` to setup options [dt-rush]

## 0.11.0 - 2019-01-31

* Access: update variable name to remove previous company mention [Gergely Imreh]
* Access: lower host OS access to OS version 2.0.0 [Gergely Imreh]

## 0.10.2 - 2019-01-28

* Fix husky warning [Pagan Gazzard]

## 0.10.1 - 2019-01-28

* Add correct image location index migration [Pagan Gazzard]

## 0.10.0 - 2019-01-25

* Use a GIN trigram index for image_location to speed up endswith queries [Pagan Gazzard]

## 0.9.0 - 2019-01-16

* 九 Add redis prefix for rate limiting [Andreas Fitzek]

## 0.8.1 - 2019-01-10

* Config: Embed device OpenVPN config [Heds Simons]

## 0.8.0 - 2019-01-09

* Add support for application, device and release tags [Akis Kesoglou]

## 0.7.4 - 2018-12-19

* Switch/update to fast-boot2 1.0.8 to avoid unnecessary existsSync calls [Pagan Gazzard]

## 0.7.3 - 2018-12-18

* Run Prettify over index.js [Akis Kesoglou]
* Add ability to reset the superuser password [Akis Kesoglou]

## 0.7.2 - 2018-12-12

* Hooks: Escalate permission to root when setting is_web_accessible [Rich Bayliss]

## 0.7.1 - 2018-12-11

* Permissions: Device API key should have read access to application_type [Rich Bayliss]

## 0.7.0 - 2018-12-07

* Update to pinejs 10 [Pagan Gazzard]

## 0.6.2 - 2018-12-03

* Update open-balena-base to v5.0.1 [Pagan Gazzard]

## 0.6.1 - 2018-11-28

* State: Send valid response to invalid devices polling the state endpoint [Rich Bayliss]

## 0.6.0 - 2018-11-19

* Bug: Remove dependency from release delete hook [Rich Bayliss]

## 0.5.4 - 2018-11-13

* Env-vars: Update persistent logging description [Thodoris Greasidis]

## 0.5.3 - 2018-11-12

* Fix resinCI npm tests by adding testing platforms [Thodoris Greasidis]
* Add a test script that builds and runs the linter on the sources [Thodoris Greasidis]

## 0.5.2 - 2018-11-09

* Device-types: Harden against S3 errors [Thodoris Greasidis]

## 0.5.1 - 2018-11-09

* Update package-lock.json [Pagan Gazzard]

## 0.5.0 - 2018-11-09

* Make config generation more generic [Akis Kesoglou]

## 0.4.0 - 2018-11-08

* Env-vars: Change descriptions for the balena rename [Thodoris Greasidis]

## 0.3.7 - 2018-11-07

* Auth: Create admin account on first run [Rich Bayliss]

## 0.3.6 - 2018-11-06

* Perms: Permit users permissions required to ssh into a device [Will Boyce]

## v0.3.5 - 2018-11-02

* Update to ts-node 7 [Pagan Gazzard]

## v0.3.4 - 2018-11-01

* Add missing VPN env vars [Akis Kesoglou]

## v0.3.3 - 2018-11-01

* Fix typo [Pagan Gazzard]

## v0.3.2 - 2018-11-01

* Reduce api queries used to update service installs by using $in [Pagan Gazzard]

## v0.3.1 - 2018-11-01

* Add precommit hook for linting [Pagan Gazzard]

## v0.3.0 - 2018-11-01

* Drop the pubnub backend [Pagan Gazzard]

## v0.2.0 - 2018-10-30

* Update to open-balena-base 5.0.0, including nodejs 10 [Pagan Gazzard]

## 0.1.4 - 2018-10-30

* Update resin-device-config to 5.x [Pagan Gazzard]

## v0.1.3 - 2018-10-29

* Expose API as v5 [Akis Kesoglou]

## v0.1.2 - 2018-10-26

* Add license to package.json [Akis Kesoglou]

## v0.1.1 - 2018-10-26

* Update dependencies [Akis Kesoglou]

## v0.1.0 - 2018-10-26

* Add the /config/var endpoint [Tim Perry]

## v0.0.2 - 2018-10-26

* Ensure project can be published as an NPM module [Akis Kesoglou]

## v0.0.1 - 2018-02-20

* Initial commit

# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 0.18.6 - 2019-05-10

* bug: Resolve NPM dependency issues preventing startup [Rich Bayliss]

## 0.18.5 - 2019-05-08

* Add typed-error upstream to repo.yml [Pagan Gazzard]
* Add open-balena-base upstream to repo.yml [Pagan Gazzard]

## 0.18.4 - 2019-05-06

* Disable the service start limit [Pagan Gazzard]
* Update open-balena-base to v7.0.2 [Pagan Gazzard]

## 0.18.3 - 2019-05-01

* tests: Add test framework [Rich Bayliss]

## 0.18.2 - 2019-04-29

* Fix import ordering issue [Pagan Gazzard]

## 0.18.1 - 2019-04-29

* versionbot: add machine readable changelog [Gergely Imreh]

## 0.18.0 - 2019-04-29

* device-config: allow devices going back to v1.2.1 to use registry v2 [Gergely Imreh]

## 0.17.4 - 2019-04-26

* Handle requesting registry scopes with explicit indices above 20 [Pagan Gazzard]

## 0.17.3 - 2019-04-24

* Use more accurate `BadRequestError`s for invalid env var names [Pagan Gazzard]

## 0.17.2 - 2019-04-24

* os-config: disable client-initiated vpn tls key renegotiation [Will Boyce]

## 0.17.1 - 2019-04-19

* Remove unused `DEVICE_CONFIG_OPENVPN_CONFIG` fron env backend [Pagan Gazzard]

## 0.17.0 - 2019-04-18

* Rename `env_var_name` to `name` to match cloud [Pagan Gazzard]

## 0.16.1 - 2019-04-18

* fix: Changes required to make `my_application` resource available [Rich Bayliss]

## 0.16.0 - 2019-04-17

* Handle `my_applications` within pinejs [Pagan Gazzard]

## 0.15.2 - 2019-04-17

* device-proxy: use `.balena` tld in favour of `.resin` [Will Boyce]

## 0.15.1 - 2019-04-17

* Update method-override to 3.x [Pagan Gazzard]

## 0.15.0 - 2019-04-15

* Rename `configPath` to `config` and make sure config.json is valid [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.11.0 - 2019-04-11

* Allow specifying the abstract sql directly in the config [Pagan Gazzard]

### pinejs-10.10.0 - 2019-04-10

* Allow specifying absolute paths in the config [Pagan Gazzard]

### pinejs-10.9.0 - 2019-04-10

* Allow any importable config file type rather than just JSON [Pagan Gazzard]

### pinejs-10.8.2 - 2019-04-06

* Only print the error message on pool errors [Pagan Gazzard]

### pinejs-10.8.1 - 2019-04-01

* Add an error handler to the pg pool [Pagan Gazzard]
</details>

## 0.14.0 - 2019-04-04

* Whitelist the new RESIN_SUPERVISOR_INSTANT_UPDATE_TRIGGER configuration variable [Pablo Carranza Velez]

## 0.13.3 - 2019-04-02

* Fix `ResolvableReturnType` typing [Pagan Gazzard]

## 0.13.2 - 2019-04-01

* Add CODEOWNERS file [Pagan Gazzard]

## 0.13.1 - 2019-04-01

* Add an index for the vpn's service instance lookup [Pagan Gazzard]

## 0.13.0 - 2019-03-28

* Remove runInTransaction wrapper to avoid unnecessary function creation [Pagan Gazzard]
* Use a readTransaction for device state [Pagan Gazzard]

<details>
<summary> View details </summary>

### pinejs-10.8.0 - 2019-03-25

* Add support for read-only transactions for postgres/mysql backends [Pagan Gazzard]

### pinejs-10.7.0 - 2019-03-12

* Use definitions for all permission types [Pagan Gazzard]
</details>

## 0.12.0 - 2019-03-19

* Add build log to release resource [Stevche Radevski]

## 0.11.8 - 2019-03-12

* Add pinejs as upstream in repo.yml [Giovanni Garufi]

## 0.11.7 - 2019-03-11

* Update pinejs to 10.6.1 [Pagan Gazzard]

## 0.11.6 - 2019-03-08

* Avoid issues with updated bluebird typings [Pagan Gazzard]

## 0.11.5 - 2019-03-05

* Update open-balena-base to v5.3.1 [Pagan Gazzard]

## 0.11.4 - 2019-02-25

* Switch _ to $ due to the special meaning of _ in typescript [Pagan Gazzard]

## 0.11.3 - 2019-02-22

* Add connectivity-check endpoint that just sends a 204 [Pagan Gazzard]

## 0.11.2 - 2019-02-18

* Fix setting release to zero filtered devices 404 error [Thodoris Greasidis]

## 0.11.1 - 2019-02-14

* Added `skipHttpsPaths` to setup options [dt-rush]

## 0.11.0 - 2019-01-31

* Access: update variable name to remove previous company mention [Gergely Imreh]
* Access: lower host OS access to OS version 2.0.0 [Gergely Imreh]

## 0.10.2 - 2019-01-28

* Fix husky warning [Pagan Gazzard]

## 0.10.1 - 2019-01-28

* Add correct image location index migration [Pagan Gazzard]

## 0.10.0 - 2019-01-25

* Use a GIN trigram index for image_location to speed up endswith queries [Pagan Gazzard]

## 0.9.0 - 2019-01-16

* âœ¨ Add redis prefix for rate limiting [Andreas Fitzek]

## 0.8.1 - 2019-01-10

* Config: Embed device OpenVPN config [Heds Simons]

## 0.8.0 - 2019-01-09

* Add support for application, device and release tags [Akis Kesoglou]

## 0.7.4 - 2018-12-19

* Switch/update to fast-boot2 1.0.8 to avoid unnecessary existsSync calls [Pagan Gazzard]

## 0.7.3 - 2018-12-18

* Run Prettify over index.js [Akis Kesoglou]
* Add ability to reset the superuser password [Akis Kesoglou]

## 0.7.2 - 2018-12-12

* Hooks: Escalate permission to root when setting is_web_accessible [Rich Bayliss]

## 0.7.1 - 2018-12-11

* Permissions: Device API key should have read access to application_type [Rich Bayliss]

## 0.7.0 - 2018-12-07

* Update to pinejs 10 [Pagan Gazzard]

## 0.6.2 - 2018-12-03

* Update open-balena-base to v5.0.1 [Pagan Gazzard]

## 0.6.1 - 2018-11-28

* State: Send valid response to invalid devices polling the state endpoint [Rich Bayliss]

## 0.6.0 - 2018-11-19

* Bug: Remove dependency from release delete hook [Rich Bayliss]

## 0.5.4 - 2018-11-13

* Env-vars: Update persistent logging description [Thodoris Greasidis]

## 0.5.3 - 2018-11-12

* Fix resinCI npm tests by adding testing platforms [Thodoris Greasidis]
* Add a test script that builds and runs the linter on the sources [Thodoris Greasidis]

## 0.5.2 - 2018-11-09

* Device-types: Harden against S3 errors [Thodoris Greasidis]

## 0.5.1 - 2018-11-09

* Update package-lock.json [Pagan Gazzard]

## 0.5.0 - 2018-11-09

* Make config generation more generic [Akis Kesoglou]

## 0.4.0 - 2018-11-08

* Env-vars: Change descriptions for the balena rename [Thodoris Greasidis]

## 0.3.7 - 2018-11-07

* Auth: Create admin account on first run [Rich Bayliss]

## 0.3.6 - 2018-11-06

* Perms: Permit users permissions required to ssh into a device [Will Boyce]

## v0.3.5 - 2018-11-02

* Update to ts-node 7 [Pagan Gazzard]

## v0.3.4 - 2018-11-01

* Add missing VPN env vars [Akis Kesoglou]

## v0.3.3 - 2018-11-01

* Fix typo [Pagan Gazzard]

## v0.3.2 - 2018-11-01

* Reduce api queries used to update service installs by using $in [Pagan Gazzard]

## v0.3.1 - 2018-11-01

* Add precommit hook for linting [Pagan Gazzard]

## v0.3.0 - 2018-11-01

* Drop the pubnub backend [Pagan Gazzard]

## v0.2.0 - 2018-10-30

* Update to open-balena-base 5.0.0, including nodejs 10 [Pagan Gazzard]

## 0.1.4 - 2018-10-30

* Update resin-device-config to 5.x [Pagan Gazzard]

## v0.1.3 - 2018-10-29

* Expose API as v5 [Akis Kesoglou]

## v0.1.2 - 2018-10-26

* Add license to package.json [Akis Kesoglou]

## v0.1.1 - 2018-10-26

* Update dependencies [Akis Kesoglou]

## v0.1.0 - 2018-10-26

* Add the /config/var endpoint [Tim Perry]

## v0.0.2 - 2018-10-26

* Ensure project can be published as an NPM module [Akis Kesoglou]

## v0.0.1 - 2018-02-20

* Initial commit
